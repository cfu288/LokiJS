var Br=Object.create;var qt=Object.defineProperty;var Hr=Object.getOwnPropertyDescriptor;var Wr=Object.getOwnPropertyNames;var Vr=Object.getPrototypeOf,_r=Object.prototype.hasOwnProperty;var v=(h,l)=>qt(h,"name",{value:l,configurable:!0}),Ii=(h=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(h,{get:(l,i)=>(typeof require<"u"?require:l)[i]}):h)(function(h){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+h+'" is not supported')});var Ur=(h,l)=>()=>(h&&(l=h(h=0)),l);var Jr=(h,l)=>()=>(l||h((l={exports:{}}).exports,l),l.exports),Kr=(h,l)=>{for(var i in l)qt(h,i,{get:l[i],enumerable:!0})},Cn=(h,l,i,n)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of Wr(l))!_r.call(h,a)&&a!==i&&qt(h,a,{get:()=>l[a],enumerable:!(n=Hr(l,a))||n.enumerable});return h};var Xr=(h,l,i)=>(i=h!=null?Br(Vr(h)):{},Cn(l||!h||!h.__esModule?qt(i,"default",{value:h,enumerable:!0}):i,h)),Qr=h=>Cn(qt({},"__esModule",{value:!0}),h);var Sn=(h,l,i)=>{if(!l.has(h))throw TypeError("Cannot "+i)};var lt=(h,l,i)=>(Sn(h,l,"read from private field"),i?i.call(h):l.get(h)),In=(h,l,i)=>{if(l.has(h))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(h):l.set(h,i)},Di=(h,l,i,n)=>(Sn(h,l,"write to private field"),n?n.call(h,i):l.set(h,i),i);var On=Jr((Dn,Xt)=>{(function(h,l){"use strict";typeof Xt=="object"&&typeof Xt.exports=="object"?Xt.exports=h.document?l(h,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return l(i)}:l(h)})(typeof window<"u"?window:Dn,function(h,l){"use strict";var i=[],n=Object.getPrototypeOf,a=i.slice,f=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},p=i.push,g=i.indexOf,S={},C=S.toString,T=S.hasOwnProperty,j=T.toString,M=j.call(Object),k={},N=v(function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},"isFunction"),R=v(function(t){return t!=null&&t===t.window},"isWindow"),z=h.document,Ce={type:!0,src:!0,nonce:!0,noModule:!0};function Se(e,t,r){r=r||z;var s,u,c=r.createElement("script");if(c.text=e,t)for(s in Ce)u=t[s]||t.getAttribute&&t.getAttribute(s),u&&c.setAttribute(s,u);r.head.appendChild(c).parentNode.removeChild(c)}v(Se,"DOMEval");function Q(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?S[C.call(e)]||"object":typeof e}v(Q,"toType");var ye="3.7.0",Ie=/HTML$/i,o=v(function(e,t){return new o.fn.init(e,t)},"jQuery");o.fn=o.prototype={jquery:ye,constructor:o,length:0,toArray:function(){return a.call(this)},get:function(e){return e==null?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=o.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return o.each(this,e)},map:function(e){return this.pushStack(o.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:i.sort,splice:i.splice},o.extend=o.fn.extend=function(){var e,t,r,s,u,c,d=arguments[0]||{},b=1,m=arguments.length,w=!1;for(typeof d=="boolean"&&(w=d,d=arguments[b]||{},b++),typeof d!="object"&&!N(d)&&(d={}),b===m&&(d=this,b--);b<m;b++)if((e=arguments[b])!=null)for(t in e)s=e[t],!(t==="__proto__"||d===s)&&(w&&s&&(o.isPlainObject(s)||(u=Array.isArray(s)))?(r=d[t],u&&!Array.isArray(r)?c=[]:!u&&!o.isPlainObject(r)?c={}:c=r,u=!1,d[t]=o.extend(w,c,s)):s!==void 0&&(d[t]=s));return d},o.extend({expando:"jQuery"+(ye+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!e||C.call(e)!=="[object Object]"?!1:(t=n(e),t?(r=T.call(t,"constructor")&&t.constructor,typeof r=="function"&&j.call(r)===M):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){Se(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,s=0;if(he(e))for(r=e.length;s<r&&t.call(e[s],s,e[s])!==!1;s++);else for(s in e)if(t.call(e[s],s,e[s])===!1)break;return e},text:function(e){var t,r="",s=0,u=e.nodeType;if(u){if(u===1||u===9||u===11)return e.textContent;if(u===3||u===4)return e.nodeValue}else for(;t=e[s++];)r+=o.text(t);return r},makeArray:function(e,t){var r=t||[];return e!=null&&(he(Object(e))?o.merge(r,typeof e=="string"?[e]:e):p.call(r,e)),r},inArray:function(e,t,r){return t==null?-1:g.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Ie.test(t||r&&r.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,s=0,u=e.length;s<r;s++)e[u++]=t[s];return e.length=u,e},grep:function(e,t,r){for(var s,u=[],c=0,d=e.length,b=!r;c<d;c++)s=!t(e[c],c),s!==b&&u.push(e[c]);return u},map:function(e,t,r){var s,u,c=0,d=[];if(he(e))for(s=e.length;c<s;c++)u=t(e[c],c,r),u!=null&&d.push(u);else for(c in e)u=t(e[c],c,r),u!=null&&d.push(u);return f(d)},guid:1,support:k}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=i[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){S["[object "+t+"]"]=t.toLowerCase()});function he(e){var t=!!e&&"length"in e&&e.length,r=Q(e);return N(e)||R(e)?!1:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}v(he,"isArrayLike");function ne(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}v(ne,"nodeName");var qn=i.pop,Mn=i.sort,Rn=i.splice,re="[\\x20\\t\\r\\n\\f]",It=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g");o.contains=function(e,t){var r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(e.contains?e.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))};var Ln=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Fn(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}v(Fn,"fcssescape"),o.escapeSelector=function(e){return(e+"").replace(Ln,Fn)};var Be=z,ei=p;(function(){var e,t,r,s,u,c=ei,d,b,m,w,A,E=o.expando,D=0,$=0,U=Vt(),ee=Vt(),X=Vt(),ce=Vt(),fe=v(function(y,x){return y===x&&(u=!0),0},"sortOrder"),qe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Me="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Z="\\["+re+"*("+Me+")(?:"+re+"*([*^$|!~]?=)"+re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Me+"))|)"+re+"*\\]",at=":("+Me+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Z+")*)|.*)\\)|)",ie=new RegExp(re+"+","g"),le=new RegExp("^"+re+"*,"+re+"*"),Nt=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),mi=new RegExp(re+"|>"),Re=new RegExp(at),$t=new RegExp("^"+Me+"$"),Le={ID:new RegExp("^#("+Me+")"),CLASS:new RegExp("^\\.("+Me+")"),TAG:new RegExp("^("+Me+"|[*])"),ATTR:new RegExp("^"+Z),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+qe+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},Ke=/^(?:input|select|textarea|button)$/i,Xe=/^h\d$/i,Oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bi=/[+~]/,Ve=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),_e=v(function(y,x){var I="0x"+y.slice(1)-65536;return x||(I<0?String.fromCharCode(I+65536):String.fromCharCode(I>>10|55296,I&1023|56320))},"funescape"),$r=v(function(){Qe()},"unloadHandler"),qr=Jt(function(y){return y.disabled===!0&&ne(y,"fieldset")},{dir:"parentNode",next:"legend"});function Mr(){try{return d.activeElement}catch{}}v(Mr,"safeActiveElement");try{c.apply(i=a.call(Be.childNodes),Be.childNodes),i[Be.childNodes.length].nodeType}catch{c={apply:function(x,I){ei.apply(x,a.call(I))},call:function(x){ei.apply(x,a.call(arguments,1))}}}function se(y,x,I,O){var P,q,L,B,F,G,V,J=x&&x.ownerDocument,Y=x?x.nodeType:9;if(I=I||[],typeof y!="string"||!y||Y!==1&&Y!==9&&Y!==11)return I;if(!O&&(Qe(x),x=x||d,m)){if(Y!==11&&(F=Oe.exec(y)))if(P=F[1]){if(Y===9)if(L=x.getElementById(P)){if(L.id===P)return c.call(I,L),I}else return I;else if(J&&(L=J.getElementById(P))&&se.contains(x,L)&&L.id===P)return c.call(I,L),I}else{if(F[2])return c.apply(I,x.getElementsByTagName(y)),I;if((P=F[3])&&x.getElementsByClassName)return c.apply(I,x.getElementsByClassName(P)),I}if(!ce[y+" "]&&(!w||!w.test(y))){if(V=y,J=x,Y===1&&(mi.test(y)||Nt.test(y))){for(J=bi.test(y)&&vi(x.parentNode)||x,(J!=x||!k.scope)&&((B=x.getAttribute("id"))?B=o.escapeSelector(B):x.setAttribute("id",B=E)),G=_t(y),q=G.length;q--;)G[q]=(B?"#"+B:":scope")+" "+Ut(G[q]);V=G.join(",")}try{return c.apply(I,J.querySelectorAll(V)),I}catch{ce(y,!0)}finally{B===E&&x.removeAttribute("id")}}}return wn(y.replace(It,"$1"),x,I,O)}v(se,"find");function Vt(){var y=[];function x(I,O){return y.push(I+" ")>t.cacheLength&&delete x[y.shift()],x[I+" "]=O}return v(x,"cache"),x}v(Vt,"createCache");function Ee(y){return y[E]=!0,y}v(Ee,"markFunction");function wt(y){var x=d.createElement("fieldset");try{return!!y(x)}catch{return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}v(wt,"assert");function Rr(y){return function(x){return ne(x,"input")&&x.type===y}}v(Rr,"createInputPseudo");function Lr(y){return function(x){return(ne(x,"input")||ne(x,"button"))&&x.type===y}}v(Lr,"createButtonPseudo");function vn(y){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===y:x.disabled===y:x.isDisabled===y||x.isDisabled!==!y&&qr(x)===y:x.disabled===y:"label"in x?x.disabled===y:!1}}v(vn,"createDisabledPseudo");function ot(y){return Ee(function(x){return x=+x,Ee(function(I,O){for(var P,q=y([],I.length,x),L=q.length;L--;)I[P=q[L]]&&(I[P]=!(O[P]=I[P]))})})}v(ot,"createPositionalPseudo");function vi(y){return y&&typeof y.getElementsByTagName<"u"&&y}v(vi,"testContext");function Qe(y){var x,I=y?y.ownerDocument||y:Be;return I==d||I.nodeType!==9||!I.documentElement||(d=I,b=d.documentElement,m=!o.isXMLDoc(d),A=b.matches||b.webkitMatchesSelector||b.msMatchesSelector,Be!=d&&(x=d.defaultView)&&x.top!==x&&x.addEventListener("unload",$r),k.getById=wt(function(O){return b.appendChild(O).id=o.expando,!d.getElementsByName||!d.getElementsByName(o.expando).length}),k.disconnectedMatch=wt(function(O){return A.call(O,"*")}),k.scope=wt(function(){return d.querySelectorAll(":scope")}),k.cssHas=wt(function(){try{return d.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),k.getById?(t.filter.ID=function(O){var P=O.replace(Ve,_e);return function(q){return q.getAttribute("id")===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&m){var q=P.getElementById(O);return q?[q]:[]}}):(t.filter.ID=function(O){var P=O.replace(Ve,_e);return function(q){var L=typeof q.getAttributeNode<"u"&&q.getAttributeNode("id");return L&&L.value===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&m){var q,L,B,F=P.getElementById(O);if(F){if(q=F.getAttributeNode("id"),q&&q.value===O)return[F];for(B=P.getElementsByName(O),L=0;F=B[L++];)if(q=F.getAttributeNode("id"),q&&q.value===O)return[F]}return[]}}),t.find.TAG=function(O,P){return typeof P.getElementsByTagName<"u"?P.getElementsByTagName(O):P.querySelectorAll(O)},t.find.CLASS=function(O,P){if(typeof P.getElementsByClassName<"u"&&m)return P.getElementsByClassName(O)},w=[],wt(function(O){var P;b.appendChild(O).innerHTML="<a id='"+E+"' href='' disabled='disabled'></a><select id='"+E+"-\r\\' disabled='disabled'><option selected=''></option></select>",O.querySelectorAll("[selected]").length||w.push("\\["+re+"*(?:value|"+qe+")"),O.querySelectorAll("[id~="+E+"-]").length||w.push("~="),O.querySelectorAll("a#"+E+"+*").length||w.push(".#.+[+~]"),O.querySelectorAll(":checked").length||w.push(":checked"),P=d.createElement("input"),P.setAttribute("type","hidden"),O.appendChild(P).setAttribute("name","D"),b.appendChild(O).disabled=!0,O.querySelectorAll(":disabled").length!==2&&w.push(":enabled",":disabled"),P=d.createElement("input"),P.setAttribute("name",""),O.appendChild(P),O.querySelectorAll("[name='']").length||w.push("\\["+re+"*name"+re+"*="+re+`*(?:''|"")`)}),k.cssHas||w.push(":has"),w=w.length&&new RegExp(w.join("|")),fe=v(function(O,P){if(O===P)return u=!0,0;var q=!O.compareDocumentPosition-!P.compareDocumentPosition;return q||(q=(O.ownerDocument||O)==(P.ownerDocument||P)?O.compareDocumentPosition(P):1,q&1||!k.sortDetached&&P.compareDocumentPosition(O)===q?O===d||O.ownerDocument==Be&&se.contains(Be,O)?-1:P===d||P.ownerDocument==Be&&se.contains(Be,P)?1:s?g.call(s,O)-g.call(s,P):0:q&4?-1:1)},"sortOrder")),d}v(Qe,"setDocument"),se.matches=function(y,x){return se(y,null,null,x)},se.matchesSelector=function(y,x){if(Qe(y),m&&!ce[x+" "]&&(!w||!w.test(x)))try{var I=A.call(y,x);if(I||k.disconnectedMatch||y.document&&y.document.nodeType!==11)return I}catch{ce(x,!0)}return se(x,d,null,[y]).length>0},se.contains=function(y,x){return(y.ownerDocument||y)!=d&&Qe(y),o.contains(y,x)},se.attr=function(y,x){(y.ownerDocument||y)!=d&&Qe(y);var I=t.attrHandle[x.toLowerCase()],O=I&&T.call(t.attrHandle,x.toLowerCase())?I(y,x,!m):void 0;return O!==void 0?O:y.getAttribute(x)},se.error=function(y){throw new Error("Syntax error, unrecognized expression: "+y)},o.uniqueSort=function(y){var x,I=[],O=0,P=0;if(u=!k.sortStable,s=!k.sortStable&&a.call(y,0),Mn.call(y,fe),u){for(;x=y[P++];)x===y[P]&&(O=I.push(P));for(;O--;)Rn.call(y,I[O],1)}return s=null,y},o.fn.uniqueSort=function(){return this.pushStack(o.uniqueSort(a.apply(this)))},t=o.expr={cacheLength:50,createPseudo:Ee,match:Le,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(y){return y[1]=y[1].replace(Ve,_e),y[3]=(y[3]||y[4]||y[5]||"").replace(Ve,_e),y[2]==="~="&&(y[3]=" "+y[3]+" "),y.slice(0,4)},CHILD:function(y){return y[1]=y[1].toLowerCase(),y[1].slice(0,3)==="nth"?(y[3]||se.error(y[0]),y[4]=+(y[4]?y[5]+(y[6]||1):2*(y[3]==="even"||y[3]==="odd")),y[5]=+(y[7]+y[8]||y[3]==="odd")):y[3]&&se.error(y[0]),y},PSEUDO:function(y){var x,I=!y[6]&&y[2];return Le.CHILD.test(y[0])?null:(y[3]?y[2]=y[4]||y[5]||"":I&&Re.test(I)&&(x=_t(I,!0))&&(x=I.indexOf(")",I.length-x)-I.length)&&(y[0]=y[0].slice(0,x),y[2]=I.slice(0,x)),y.slice(0,3))}},filter:{TAG:function(y){var x=y.replace(Ve,_e).toLowerCase();return y==="*"?function(){return!0}:function(I){return ne(I,x)}},CLASS:function(y){var x=U[y+" "];return x||(x=new RegExp("(^|"+re+")"+y+"("+re+"|$)"))&&U(y,function(I){return x.test(typeof I.className=="string"&&I.className||typeof I.getAttribute<"u"&&I.getAttribute("class")||"")})},ATTR:function(y,x,I){return function(O){var P=se.attr(O,y);return P==null?x==="!=":x?(P+="",x==="="?P===I:x==="!="?P!==I:x==="^="?I&&P.indexOf(I)===0:x==="*="?I&&P.indexOf(I)>-1:x==="$="?I&&P.slice(-I.length)===I:x==="~="?(" "+P.replace(ie," ")+" ").indexOf(I)>-1:x==="|="?P===I||P.slice(0,I.length+1)===I+"-":!1):!0}},CHILD:function(y,x,I,O,P){var q=y.slice(0,3)!=="nth",L=y.slice(-4)!=="last",B=x==="of-type";return O===1&&P===0?function(F){return!!F.parentNode}:function(F,G,V){var J,Y,W,ae,xe,de=q!==L?"nextSibling":"previousSibling",Ae=F.parentNode,Fe=B&&F.nodeName.toLowerCase(),Ct=!V&&!B,ge=!1;if(Ae){if(q){for(;de;){for(W=F;W=W[de];)if(B?ne(W,Fe):W.nodeType===1)return!1;xe=de=y==="only"&&!xe&&"nextSibling"}return!0}if(xe=[L?Ae.firstChild:Ae.lastChild],L&&Ct){for(Y=Ae[E]||(Ae[E]={}),J=Y[y]||[],ae=J[0]===D&&J[1],ge=ae&&J[2],W=ae&&Ae.childNodes[ae];W=++ae&&W&&W[de]||(ge=ae=0)||xe.pop();)if(W.nodeType===1&&++ge&&W===F){Y[y]=[D,ae,ge];break}}else if(Ct&&(Y=F[E]||(F[E]={}),J=Y[y]||[],ae=J[0]===D&&J[1],ge=ae),ge===!1)for(;(W=++ae&&W&&W[de]||(ge=ae=0)||xe.pop())&&!((B?ne(W,Fe):W.nodeType===1)&&++ge&&(Ct&&(Y=W[E]||(W[E]={}),Y[y]=[D,ge]),W===F)););return ge-=P,ge===O||ge%O===0&&ge/O>=0}}},PSEUDO:function(y,x){var I,O=t.pseudos[y]||t.setFilters[y.toLowerCase()]||se.error("unsupported pseudo: "+y);return O[E]?O(x):O.length>1?(I=[y,y,"",x],t.setFilters.hasOwnProperty(y.toLowerCase())?Ee(function(P,q){for(var L,B=O(P,x),F=B.length;F--;)L=g.call(P,B[F]),P[L]=!(q[L]=B[F])}):function(P){return O(P,0,I)}):O}},pseudos:{not:Ee(function(y){var x=[],I=[],O=Si(y.replace(It,"$1"));return O[E]?Ee(function(P,q,L,B){for(var F,G=O(P,null,B,[]),V=P.length;V--;)(F=G[V])&&(P[V]=!(q[V]=F))}):function(P,q,L){return x[0]=P,O(x,null,L,I),x[0]=null,!I.pop()}}),has:Ee(function(y){return function(x){return se(y,x).length>0}}),contains:Ee(function(y){return y=y.replace(Ve,_e),function(x){return(x.textContent||o.text(x)).indexOf(y)>-1}}),lang:Ee(function(y){return $t.test(y||"")||se.error("unsupported lang: "+y),y=y.replace(Ve,_e).toLowerCase(),function(x){var I;do if(I=m?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return I=I.toLowerCase(),I===y||I.indexOf(y+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(y){var x=h.location&&h.location.hash;return x&&x.slice(1)===y.id},root:function(y){return y===b},focus:function(y){return y===Mr()&&d.hasFocus()&&!!(y.type||y.href||~y.tabIndex)},enabled:vn(!1),disabled:vn(!0),checked:function(y){return ne(y,"input")&&!!y.checked||ne(y,"option")&&!!y.selected},selected:function(y){return y.parentNode&&y.parentNode.selectedIndex,y.selected===!0},empty:function(y){for(y=y.firstChild;y;y=y.nextSibling)if(y.nodeType<6)return!1;return!0},parent:function(y){return!t.pseudos.empty(y)},header:function(y){return Xe.test(y.nodeName)},input:function(y){return Ke.test(y.nodeName)},button:function(y){return ne(y,"input")&&y.type==="button"||ne(y,"button")},text:function(y){var x;return ne(y,"input")&&y.type==="text"&&((x=y.getAttribute("type"))==null||x.toLowerCase()==="text")},first:ot(function(){return[0]}),last:ot(function(y,x){return[x-1]}),eq:ot(function(y,x,I){return[I<0?I+x:I]}),even:ot(function(y,x){for(var I=0;I<x;I+=2)y.push(I);return y}),odd:ot(function(y,x){for(var I=1;I<x;I+=2)y.push(I);return y}),lt:ot(function(y,x,I){var O;for(I<0?O=I+x:I>x?O=x:O=I;--O>=0;)y.push(O);return y}),gt:ot(function(y,x,I){for(var O=I<0?I+x:I;++O<x;)y.push(O);return y})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=Rr(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Lr(e);function xn(){}v(xn,"setFilters"),xn.prototype=t.filters=t.pseudos,t.setFilters=new xn;function _t(y,x){var I,O,P,q,L,B,F,G=ee[y+" "];if(G)return x?0:G.slice(0);for(L=y,B=[],F=t.preFilter;L;){(!I||(O=le.exec(L)))&&(O&&(L=L.slice(O[0].length)||L),B.push(P=[])),I=!1,(O=Nt.exec(L))&&(I=O.shift(),P.push({value:I,type:O[0].replace(It," ")}),L=L.slice(I.length));for(q in t.filter)(O=Le[q].exec(L))&&(!F[q]||(O=F[q](O)))&&(I=O.shift(),P.push({value:I,type:q,matches:O}),L=L.slice(I.length));if(!I)break}return x?L.length:L?se.error(y):ee(y,B).slice(0)}v(_t,"tokenize");function Ut(y){for(var x=0,I=y.length,O="";x<I;x++)O+=y[x].value;return O}v(Ut,"toSelector");function Jt(y,x,I){var O=x.dir,P=x.next,q=P||O,L=I&&q==="parentNode",B=$++;return x.first?function(F,G,V){for(;F=F[O];)if(F.nodeType===1||L)return y(F,G,V);return!1}:function(F,G,V){var J,Y,W=[D,B];if(V){for(;F=F[O];)if((F.nodeType===1||L)&&y(F,G,V))return!0}else for(;F=F[O];)if(F.nodeType===1||L)if(Y=F[E]||(F[E]={}),P&&ne(F,P))F=F[O]||F;else{if((J=Y[q])&&J[0]===D&&J[1]===B)return W[2]=J[2];if(Y[q]=W,W[2]=y(F,G,V))return!0}return!1}}v(Jt,"addCombinator");function xi(y){return y.length>1?function(x,I,O){for(var P=y.length;P--;)if(!y[P](x,I,O))return!1;return!0}:y[0]}v(xi,"elementMatcher");function Fr(y,x,I){for(var O=0,P=x.length;O<P;O++)se(y,x[O],I);return I}v(Fr,"multipleContexts");function Kt(y,x,I,O,P){for(var q,L=[],B=0,F=y.length,G=x!=null;B<F;B++)(q=y[B])&&(!I||I(q,O,P))&&(L.push(q),G&&x.push(B));return L}v(Kt,"condense");function wi(y,x,I,O,P,q){return O&&!O[E]&&(O=wi(O)),P&&!P[E]&&(P=wi(P,q)),Ee(function(L,B,F,G){var V,J,Y,W,ae=[],xe=[],de=B.length,Ae=L||Fr(x||"*",F.nodeType?[F]:F,[]),Fe=y&&(L||!x)?Kt(Ae,ae,y,F,G):Ae;if(I?(W=P||(L?y:de||O)?[]:B,I(Fe,W,F,G)):W=Fe,O)for(V=Kt(W,xe),O(V,[],F,G),J=V.length;J--;)(Y=V[J])&&(W[xe[J]]=!(Fe[xe[J]]=Y));if(L){if(P||y){if(P){for(V=[],J=W.length;J--;)(Y=W[J])&&V.push(Fe[J]=Y);P(null,W=[],V,G)}for(J=W.length;J--;)(Y=W[J])&&(V=P?g.call(L,Y):ae[J])>-1&&(L[V]=!(B[V]=Y))}}else W=Kt(W===B?W.splice(de,W.length):W),P?P(null,B,W,G):c.apply(B,W)})}v(wi,"setMatcher");function Ci(y){for(var x,I,O,P=y.length,q=t.relative[y[0].type],L=q||t.relative[" "],B=q?1:0,F=Jt(function(J){return J===x},L,!0),G=Jt(function(J){return g.call(x,J)>-1},L,!0),V=[function(J,Y,W){var ae=!q&&(W||Y!=r)||((x=Y).nodeType?F(J,Y,W):G(J,Y,W));return x=null,ae}];B<P;B++)if(I=t.relative[y[B].type])V=[Jt(xi(V),I)];else{if(I=t.filter[y[B].type].apply(null,y[B].matches),I[E]){for(O=++B;O<P&&!t.relative[y[O].type];O++);return wi(B>1&&xi(V),B>1&&Ut(y.slice(0,B-1).concat({value:y[B-2].type===" "?"*":""})).replace(It,"$1"),I,B<O&&Ci(y.slice(B,O)),O<P&&Ci(y=y.slice(O)),O<P&&Ut(y))}V.push(I)}return xi(V)}v(Ci,"matcherFromTokens");function zr(y,x){var I=x.length>0,O=y.length>0,P=v(function(q,L,B,F,G){var V,J,Y,W=0,ae="0",xe=q&&[],de=[],Ae=r,Fe=q||O&&t.find.TAG("*",G),Ct=D+=Ae==null?1:Math.random()||.1,ge=Fe.length;for(G&&(r=L==d||L||G);ae!==ge&&(V=Fe[ae])!=null;ae++){if(O&&V){for(J=0,!L&&V.ownerDocument!=d&&(Qe(V),B=!m);Y=y[J++];)if(Y(V,L||d,B)){c.call(F,V);break}G&&(D=Ct)}I&&((V=!Y&&V)&&W--,q&&xe.push(V))}if(W+=ae,I&&ae!==W){for(J=0;Y=x[J++];)Y(xe,de,L,B);if(q){if(W>0)for(;ae--;)xe[ae]||de[ae]||(de[ae]=qn.call(F));de=Kt(de)}c.apply(F,de),G&&!q&&de.length>0&&W+x.length>1&&o.uniqueSort(F)}return G&&(D=Ct,r=Ae),xe},"superMatcher");return I?Ee(P):P}v(zr,"matcherFromGroupMatchers");function Si(y,x){var I,O=[],P=[],q=X[y+" "];if(!q){for(x||(x=_t(y)),I=x.length;I--;)q=Ci(x[I]),q[E]?O.push(q):P.push(q);q=X(y,zr(P,O)),q.selector=y}return q}v(Si,"compile");function wn(y,x,I,O){var P,q,L,B,F,G=typeof y=="function"&&y,V=!O&&_t(y=G.selector||y);if(I=I||[],V.length===1){if(q=V[0]=V[0].slice(0),q.length>2&&(L=q[0]).type==="ID"&&x.nodeType===9&&m&&t.relative[q[1].type]){if(x=(t.find.ID(L.matches[0].replace(Ve,_e),x)||[])[0],x)G&&(x=x.parentNode);else return I;y=y.slice(q.shift().value.length)}for(P=Le.needsContext.test(y)?0:q.length;P--&&(L=q[P],!t.relative[B=L.type]);)if((F=t.find[B])&&(O=F(L.matches[0].replace(Ve,_e),bi.test(q[0].type)&&vi(x.parentNode)||x))){if(q.splice(P,1),y=O.length&&Ut(q),!y)return c.apply(I,O),I;break}}return(G||Si(y,V))(O,x,!m,I,!x||bi.test(y)&&vi(x.parentNode)||x),I}v(wn,"select"),k.sortStable=E.split("").sort(fe).join("")===E,Qe(),k.sortDetached=wt(function(y){return y.compareDocumentPosition(d.createElement("fieldset"))&1}),o.find=se,o.expr[":"]=o.expr.pseudos,o.unique=o.uniqueSort,se.compile=Si,se.select=wn,se.setDocument=Qe,se.escape=o.escapeSelector,se.getText=o.text,se.isXML=o.isXMLDoc,se.selectors=o.expr,se.support=o.support,se.uniqueSort=o.uniqueSort})();var dt=v(function(e,t,r){for(var s=[],u=r!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(u&&o(e).is(r))break;s.push(e)}return s},"dir"),qi=v(function(e,t){for(var r=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&r.push(e);return r},"siblings"),Mi=o.expr.match.needsContext,Ri=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function ti(e,t,r){return N(t)?o.grep(e,function(s,u){return!!t.call(s,u,s)!==r}):t.nodeType?o.grep(e,function(s){return s===t!==r}):typeof t!="string"?o.grep(e,function(s){return g.call(t,s)>-1!==r}):o.filter(t,e,r)}v(ti,"winnow"),o.filter=function(e,t,r){var s=t[0];return r&&(e=":not("+e+")"),t.length===1&&s.nodeType===1?o.find.matchesSelector(s,e)?[s]:[]:o.find.matches(e,o.grep(t,function(u){return u.nodeType===1}))},o.fn.extend({find:function(e){var t,r,s=this.length,u=this;if(typeof e!="string")return this.pushStack(o(e).filter(function(){for(t=0;t<s;t++)if(o.contains(u[t],this))return!0}));for(r=this.pushStack([]),t=0;t<s;t++)o.find(e,u[t],r);return s>1?o.uniqueSort(r):r},filter:function(e){return this.pushStack(ti(this,e||[],!1))},not:function(e){return this.pushStack(ti(this,e||[],!0))},is:function(e){return!!ti(this,typeof e=="string"&&Mi.test(e)?o(e):e||[],!1).length}});var Li,zn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Bn=o.fn.init=function(e,t,r){var s,u;if(!e)return this;if(r=r||Li,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?s=[null,e,null]:s=zn.exec(e),s&&(s[1]||!t))if(s[1]){if(t=t instanceof o?t[0]:t,o.merge(this,o.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:z,!0)),Ri.test(s[1])&&o.isPlainObject(t))for(s in t)N(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}else return u=z.getElementById(s[2]),u&&(this[0]=u,this.length=1),this;else return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(N(e))return r.ready!==void 0?r.ready(e):e(o)}return o.makeArray(e,this)};Bn.prototype=o.fn,Li=o(z);var Hn=/^(?:parents|prev(?:Until|All))/,Wn={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(e){var t=o(e,this),r=t.length;return this.filter(function(){for(var s=0;s<r;s++)if(o.contains(this,t[s]))return!0})},closest:function(e,t){var r,s=0,u=this.length,c=[],d=typeof e!="string"&&o(e);if(!Mi.test(e)){for(;s<u;s++)for(r=this[s];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(d?d.index(r)>-1:r.nodeType===1&&o.find.matchesSelector(r,e))){c.push(r);break}}return this.pushStack(c.length>1?o.uniqueSort(c):c)},index:function(e){return e?typeof e=="string"?g.call(o(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Fi(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}v(Fi,"sibling"),o.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return dt(e,"parentNode")},parentsUntil:function(e,t,r){return dt(e,"parentNode",r)},next:function(e){return Fi(e,"nextSibling")},prev:function(e){return Fi(e,"previousSibling")},nextAll:function(e){return dt(e,"nextSibling")},prevAll:function(e){return dt(e,"previousSibling")},nextUntil:function(e,t,r){return dt(e,"nextSibling",r)},prevUntil:function(e,t,r){return dt(e,"previousSibling",r)},siblings:function(e){return qi((e.parentNode||{}).firstChild,e)},children:function(e){return qi(e.firstChild)},contents:function(e){return e.contentDocument!=null&&n(e.contentDocument)?e.contentDocument:(ne(e,"template")&&(e=e.content||e),o.merge([],e.childNodes))}},function(e,t){o.fn[e]=function(r,s){var u=o.map(this,t,r);return e.slice(-5)!=="Until"&&(s=r),s&&typeof s=="string"&&(u=o.filter(s,u)),this.length>1&&(Wn[e]||o.uniqueSort(u),Hn.test(e)&&u.reverse()),this.pushStack(u)}});var Ne=/[^\x20\t\r\n\f]+/g;function Vn(e){var t={};return o.each(e.match(Ne)||[],function(r,s){t[s]=!0}),t}v(Vn,"createOptions"),o.Callbacks=function(e){e=typeof e=="string"?Vn(e):o.extend({},e);var t,r,s,u,c=[],d=[],b=-1,m=v(function(){for(u=u||e.once,s=t=!0;d.length;b=-1)for(r=d.shift();++b<c.length;)c[b].apply(r[0],r[1])===!1&&e.stopOnFalse&&(b=c.length,r=!1);e.memory||(r=!1),t=!1,u&&(r?c=[]:c="")},"fire"),w={add:function(){return c&&(r&&!t&&(b=c.length-1,d.push(r)),v(function A(E){o.each(E,function(D,$){N($)?(!e.unique||!w.has($))&&c.push($):$&&$.length&&Q($)!=="string"&&A($)})},"add")(arguments),r&&!t&&m()),this},remove:function(){return o.each(arguments,function(A,E){for(var D;(D=o.inArray(E,c,D))>-1;)c.splice(D,1),D<=b&&b--}),this},has:function(A){return A?o.inArray(A,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return u=d=[],c=r="",this},disabled:function(){return!c},lock:function(){return u=d=[],!r&&!t&&(c=r=""),this},locked:function(){return!!u},fireWith:function(A,E){return u||(E=E||[],E=[A,E.slice?E.slice():E],d.push(E),t||m()),this},fire:function(){return w.fireWith(this,arguments),this},fired:function(){return!!s}};return w};function pt(e){return e}v(pt,"Identity");function Rt(e){throw e}v(Rt,"Thrower");function zi(e,t,r,s){var u;try{e&&N(u=e.promise)?u.call(e).done(t).fail(r):e&&N(u=e.then)?u.call(e,t,r):t.apply(void 0,[e].slice(s))}catch(c){r.apply(void 0,[c])}}v(zi,"adoptValue"),o.extend({Deferred:function(e){var t=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return u.done(arguments).fail(arguments),this},catch:function(c){return s.then(null,c)},pipe:function(){var c=arguments;return o.Deferred(function(d){o.each(t,function(b,m){var w=N(c[m[4]])&&c[m[4]];u[m[1]](function(){var A=w&&w.apply(this,arguments);A&&N(A.promise)?A.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[m[0]+"With"](this,w?[A]:arguments)})}),c=null}).promise()},then:function(c,d,b){var m=0;function w(A,E,D,$){return function(){var U=this,ee=arguments,X=v(function(){var fe,qe;if(!(A<m)){if(fe=D.apply(U,ee),fe===E.promise())throw new TypeError("Thenable self-resolution");qe=fe&&(typeof fe=="object"||typeof fe=="function")&&fe.then,N(qe)?$?qe.call(fe,w(m,E,pt,$),w(m,E,Rt,$)):(m++,qe.call(fe,w(m,E,pt,$),w(m,E,Rt,$),w(m,E,pt,E.notifyWith))):(D!==pt&&(U=void 0,ee=[fe]),($||E.resolveWith)(U,ee))}},"mightThrow"),ce=$?X:function(){try{X()}catch(fe){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(fe,ce.error),A+1>=m&&(D!==Rt&&(U=void 0,ee=[fe]),E.rejectWith(U,ee))}};A?ce():(o.Deferred.getErrorHook?ce.error=o.Deferred.getErrorHook():o.Deferred.getStackHook&&(ce.error=o.Deferred.getStackHook()),h.setTimeout(ce))}}return v(w,"resolve"),o.Deferred(function(A){t[0][3].add(w(0,A,N(b)?b:pt,A.notifyWith)),t[1][3].add(w(0,A,N(c)?c:pt)),t[2][3].add(w(0,A,N(d)?d:Rt))}).promise()},promise:function(c){return c!=null?o.extend(c,s):s}},u={};return o.each(t,function(c,d){var b=d[2],m=d[5];s[d[1]]=b.add,m&&b.add(function(){r=m},t[3-c][2].disable,t[3-c][3].disable,t[0][2].lock,t[0][3].lock),b.add(d[3].fire),u[d[0]]=function(){return u[d[0]+"With"](this===u?void 0:this,arguments),this},u[d[0]+"With"]=b.fireWith}),s.promise(u),e&&e.call(u,u),u},when:function(e){var t=arguments.length,r=t,s=Array(r),u=a.call(arguments),c=o.Deferred(),d=v(function(b){return function(m){s[b]=this,u[b]=arguments.length>1?a.call(arguments):m,--t||c.resolveWith(s,u)}},"updateFunc");if(t<=1&&(zi(e,c.done(d(r)).resolve,c.reject,!t),c.state()==="pending"||N(u[r]&&u[r].then)))return c.then();for(;r--;)zi(u[r],d(r),c.reject);return c.promise()}});var _n=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(e,t){h.console&&h.console.warn&&e&&_n.test(e.name)&&h.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},o.readyException=function(e){h.setTimeout(function(){throw e})};var ii=o.Deferred();o.fn.ready=function(e){return ii.then(e).catch(function(t){o.readyException(t)}),this},o.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(e!==!0&&--o.readyWait>0)&&ii.resolveWith(z,[o]))}}),o.ready.then=ii.then;function Lt(){z.removeEventListener("DOMContentLoaded",Lt),h.removeEventListener("load",Lt),o.ready()}v(Lt,"completed"),z.readyState==="complete"||z.readyState!=="loading"&&!z.documentElement.doScroll?h.setTimeout(o.ready):(z.addEventListener("DOMContentLoaded",Lt),h.addEventListener("load",Lt));var He=v(function(e,t,r,s,u,c,d){var b=0,m=e.length,w=r==null;if(Q(r)==="object"){u=!0;for(b in r)He(e,t,b,r[b],!0,c,d)}else if(s!==void 0&&(u=!0,N(s)||(d=!0),w&&(d?(t.call(e,s),t=null):(w=t,t=v(function(A,E,D){return w.call(o(A),D)},"fn"))),t))for(;b<m;b++)t(e[b],r,d?s:s.call(e[b],b,t(e[b],r)));return u?e:w?t.call(e):m?t(e[0],r):c},"access"),Un=/^-ms-/,Jn=/-([a-z])/g;function Kn(e,t){return t.toUpperCase()}v(Kn,"fcamelCase");function $e(e){return e.replace(Un,"ms-").replace(Jn,Kn)}v($e,"camelCase");var Dt=v(function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},"acceptData");function Ot(){this.expando=o.expando+Ot.uid++}v(Ot,"Data"),Ot.uid=1,Ot.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Dt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var s,u=this.cache(e);if(typeof t=="string")u[$e(t)]=r;else for(s in t)u[$e(s)]=t[s];return u},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][$e(t)]},access:function(e,t,r){return t===void 0||t&&typeof t=="string"&&r===void 0?this.get(e,t):(this.set(e,t,r),r!==void 0?r:t)},remove:function(e,t){var r,s=e[this.expando];if(s!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map($e):(t=$e(t),t=t in s?[t]:t.match(Ne)||[]),r=t.length;r--;)delete s[t[r]];(t===void 0||o.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!o.isEmptyObject(t)}};var H=new Ot,me=new Ot,Xn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Qn=/[A-Z]/g;function Gn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Xn.test(e)?JSON.parse(e):e}v(Gn,"getData");function Bi(e,t,r){var s;if(r===void 0&&e.nodeType===1)if(s="data-"+t.replace(Qn,"-$&").toLowerCase(),r=e.getAttribute(s),typeof r=="string"){try{r=Gn(r)}catch{}me.set(e,t,r)}else r=void 0;return r}v(Bi,"dataAttr"),o.extend({hasData:function(e){return me.hasData(e)||H.hasData(e)},data:function(e,t,r){return me.access(e,t,r)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,r){return H.access(e,t,r)},_removeData:function(e,t){H.remove(e,t)}}),o.fn.extend({data:function(e,t){var r,s,u,c=this[0],d=c&&c.attributes;if(e===void 0){if(this.length&&(u=me.get(c),c.nodeType===1&&!H.get(c,"hasDataAttrs"))){for(r=d.length;r--;)d[r]&&(s=d[r].name,s.indexOf("data-")===0&&(s=$e(s.slice(5)),Bi(c,s,u[s])));H.set(c,"hasDataAttrs",!0)}return u}return typeof e=="object"?this.each(function(){me.set(this,e)}):He(this,function(b){var m;if(c&&b===void 0)return m=me.get(c,e),m!==void 0||(m=Bi(c,e),m!==void 0)?m:void 0;this.each(function(){me.set(this,e,b)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),o.extend({queue:function(e,t,r){var s;if(e)return t=(t||"fx")+"queue",s=H.get(e,t),r&&(!s||Array.isArray(r)?s=H.access(e,t,o.makeArray(r)):s.push(r)),s||[]},dequeue:function(e,t){t=t||"fx";var r=o.queue(e,t),s=r.length,u=r.shift(),c=o._queueHooks(e,t),d=v(function(){o.dequeue(e,t)},"next");u==="inprogress"&&(u=r.shift(),s--),u&&(t==="fx"&&r.unshift("inprogress"),delete c.stop,u.call(e,d,c)),!s&&c&&c.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return H.get(e,r)||H.access(e,r,{empty:o.Callbacks("once memory").add(function(){H.remove(e,[t+"queue",r])})})}}),o.fn.extend({queue:function(e,t){var r=2;return typeof e!="string"&&(t=e,e="fx",r--),arguments.length<r?o.queue(this[0],e):t===void 0?this:this.each(function(){var s=o.queue(this,e,t);o._queueHooks(this,e),e==="fx"&&s[0]!=="inprogress"&&o.dequeue(this,e)})},dequeue:function(e){return this.each(function(){o.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,s=1,u=o.Deferred(),c=this,d=this.length,b=v(function(){--s||u.resolveWith(c,[c])},"resolve");for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";d--;)r=H.get(c[d],e+"queueHooks"),r&&r.empty&&(s++,r.empty.add(b));return b(),u.promise(t)}});var Hi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,At=new RegExp("^(?:([+-])=|)("+Hi+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],nt=z.documentElement,gt=v(function(e){return o.contains(e.ownerDocument,e)},"isAttached"),Yn={composed:!0};nt.getRootNode&&(gt=v(function(e){return o.contains(e.ownerDocument,e)||e.getRootNode(Yn)===e.ownerDocument},"isAttached"));var Ft=v(function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&gt(e)&&o.css(e,"display")==="none"},"isHiddenWithinTree");function Wi(e,t,r,s){var u,c,d=20,b=s?function(){return s.cur()}:function(){return o.css(e,t,"")},m=b(),w=r&&r[3]||(o.cssNumber[t]?"":"px"),A=e.nodeType&&(o.cssNumber[t]||w!=="px"&&+m)&&At.exec(o.css(e,t));if(A&&A[3]!==w){for(m=m/2,w=w||A[3],A=+m||1;d--;)o.style(e,t,A+w),(1-c)*(1-(c=b()/m||.5))<=0&&(d=0),A=A/c;A=A*2,o.style(e,t,A+w),r=r||[]}return r&&(A=+A||+m||0,u=r[1]?A+(r[1]+1)*r[2]:+r[2],s&&(s.unit=w,s.start=A,s.end=u)),u}v(Wi,"adjustCSS");var Vi={};function Zn(e){var t,r=e.ownerDocument,s=e.nodeName,u=Vi[s];return u||(t=r.body.appendChild(r.createElement(s)),u=o.css(t,"display"),t.parentNode.removeChild(t),u==="none"&&(u="block"),Vi[s]=u,u)}v(Zn,"getDefaultDisplay");function yt(e,t){for(var r,s,u=[],c=0,d=e.length;c<d;c++)s=e[c],s.style&&(r=s.style.display,t?(r==="none"&&(u[c]=H.get(s,"display")||null,u[c]||(s.style.display="")),s.style.display===""&&Ft(s)&&(u[c]=Zn(s))):r!=="none"&&(u[c]="none",H.set(s,"display",r)));for(c=0;c<d;c++)u[c]!=null&&(e[c].style.display=u[c]);return e}v(yt,"showHide"),o.fn.extend({show:function(){return yt(this,!0)},hide:function(){return yt(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Ft(this)?o(this).show():o(this).hide()})}});var Tt=/^(?:checkbox|radio)$/i,_i=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ui=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=z.createDocumentFragment(),t=e.appendChild(z.createElement("div")),r=z.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",k.option=!!t.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,k.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function be(e,t){var r;return typeof e.getElementsByTagName<"u"?r=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?r=e.querySelectorAll(t||"*"):r=[],t===void 0||t&&ne(e,t)?o.merge([e],r):r}v(be,"getAll");function ni(e,t){for(var r=0,s=e.length;r<s;r++)H.set(e[r],"globalEval",!t||H.get(t[r],"globalEval"))}v(ni,"setGlobalEval");var er=/<|&#?\w+;/;function Ji(e,t,r,s,u){for(var c,d,b,m,w,A,E=t.createDocumentFragment(),D=[],$=0,U=e.length;$<U;$++)if(c=e[$],c||c===0)if(Q(c)==="object")o.merge(D,c.nodeType?[c]:c);else if(!er.test(c))D.push(t.createTextNode(c));else{for(d=d||E.appendChild(t.createElement("div")),b=(_i.exec(c)||["",""])[1].toLowerCase(),m=De[b]||De._default,d.innerHTML=m[1]+o.htmlPrefilter(c)+m[2],A=m[0];A--;)d=d.lastChild;o.merge(D,d.childNodes),d=E.firstChild,d.textContent=""}for(E.textContent="",$=0;c=D[$++];){if(s&&o.inArray(c,s)>-1){u&&u.push(c);continue}if(w=gt(c),d=be(E.appendChild(c),"script"),w&&ni(d),r)for(A=0;c=d[A++];)Ui.test(c.type||"")&&r.push(c)}return E}v(Ji,"buildFragment");var Ki=/^([^.]*)(?:\.(.+)|)/;function mt(){return!0}v(mt,"returnTrue");function bt(){return!1}v(bt,"returnFalse");function ri(e,t,r,s,u,c){var d,b;if(typeof t=="object"){typeof r!="string"&&(s=s||r,r=void 0);for(b in t)ri(e,b,r,s,t[b],c);return e}if(s==null&&u==null?(u=r,s=r=void 0):u==null&&(typeof r=="string"?(u=s,s=void 0):(u=s,s=r,r=void 0)),u===!1)u=bt;else if(!u)return e;return c===1&&(d=u,u=v(function(m){return o().off(m),d.apply(this,arguments)},"fn"),u.guid=d.guid||(d.guid=o.guid++)),e.each(function(){o.event.add(this,t,u,s,r)})}v(ri,"on"),o.event={global:{},add:function(e,t,r,s,u){var c,d,b,m,w,A,E,D,$,U,ee,X=H.get(e);if(Dt(e))for(r.handler&&(c=r,r=c.handler,u=c.selector),u&&o.find.matchesSelector(nt,u),r.guid||(r.guid=o.guid++),(m=X.events)||(m=X.events=Object.create(null)),(d=X.handle)||(d=X.handle=function(ce){return typeof o<"u"&&o.event.triggered!==ce.type?o.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ne)||[""],w=t.length;w--;)b=Ki.exec(t[w])||[],$=ee=b[1],U=(b[2]||"").split(".").sort(),$&&(E=o.event.special[$]||{},$=(u?E.delegateType:E.bindType)||$,E=o.event.special[$]||{},A=o.extend({type:$,origType:ee,data:s,handler:r,guid:r.guid,selector:u,needsContext:u&&o.expr.match.needsContext.test(u),namespace:U.join(".")},c),(D=m[$])||(D=m[$]=[],D.delegateCount=0,(!E.setup||E.setup.call(e,s,U,d)===!1)&&e.addEventListener&&e.addEventListener($,d)),E.add&&(E.add.call(e,A),A.handler.guid||(A.handler.guid=r.guid)),u?D.splice(D.delegateCount++,0,A):D.push(A),o.event.global[$]=!0)},remove:function(e,t,r,s,u){var c,d,b,m,w,A,E,D,$,U,ee,X=H.hasData(e)&&H.get(e);if(!(!X||!(m=X.events))){for(t=(t||"").match(Ne)||[""],w=t.length;w--;){if(b=Ki.exec(t[w])||[],$=ee=b[1],U=(b[2]||"").split(".").sort(),!$){for($ in m)o.event.remove(e,$+t[w],r,s,!0);continue}for(E=o.event.special[$]||{},$=(s?E.delegateType:E.bindType)||$,D=m[$]||[],b=b[2]&&new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=c=D.length;c--;)A=D[c],(u||ee===A.origType)&&(!r||r.guid===A.guid)&&(!b||b.test(A.namespace))&&(!s||s===A.selector||s==="**"&&A.selector)&&(D.splice(c,1),A.selector&&D.delegateCount--,E.remove&&E.remove.call(e,A));d&&!D.length&&((!E.teardown||E.teardown.call(e,U,X.handle)===!1)&&o.removeEvent(e,$,X.handle),delete m[$])}o.isEmptyObject(m)&&H.remove(e,"handle events")}},dispatch:function(e){var t,r,s,u,c,d,b=new Array(arguments.length),m=o.event.fix(e),w=(H.get(this,"events")||Object.create(null))[m.type]||[],A=o.event.special[m.type]||{};for(b[0]=m,t=1;t<arguments.length;t++)b[t]=arguments[t];if(m.delegateTarget=this,!(A.preDispatch&&A.preDispatch.call(this,m)===!1)){for(d=o.event.handlers.call(this,m,w),t=0;(u=d[t++])&&!m.isPropagationStopped();)for(m.currentTarget=u.elem,r=0;(c=u.handlers[r++])&&!m.isImmediatePropagationStopped();)(!m.rnamespace||c.namespace===!1||m.rnamespace.test(c.namespace))&&(m.handleObj=c,m.data=c.data,s=((o.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,b),s!==void 0&&(m.result=s)===!1&&(m.preventDefault(),m.stopPropagation()));return A.postDispatch&&A.postDispatch.call(this,m),m.result}},handlers:function(e,t){var r,s,u,c,d,b=[],m=t.delegateCount,w=e.target;if(m&&w.nodeType&&!(e.type==="click"&&e.button>=1)){for(;w!==this;w=w.parentNode||this)if(w.nodeType===1&&!(e.type==="click"&&w.disabled===!0)){for(c=[],d={},r=0;r<m;r++)s=t[r],u=s.selector+" ",d[u]===void 0&&(d[u]=s.needsContext?o(u,this).index(w)>-1:o.find(u,this,null,[w]).length),d[u]&&c.push(s);c.length&&b.push({elem:w,handlers:c})}}return w=this,m<t.length&&b.push({elem:w,handlers:t.slice(m)}),b},addProp:function(e,t){Object.defineProperty(o.Event.prototype,e,{enumerable:!0,configurable:!0,get:N(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})},fix:function(e){return e[o.expando]?e:new o.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Tt.test(t.type)&&t.click&&ne(t,"input")&&zt(t,"click",!0),!1},trigger:function(e){var t=this||e;return Tt.test(t.type)&&t.click&&ne(t,"input")&&zt(t,"click"),!0},_default:function(e){var t=e.target;return Tt.test(t.type)&&t.click&&ne(t,"input")&&H.get(t,"click")||ne(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function zt(e,t,r){if(!r){H.get(e,t)===void 0&&o.event.add(e,t,mt);return}H.set(e,t,!1),o.event.add(e,t,{namespace:!1,handler:function(s){var u,c=H.get(this,t);if(s.isTrigger&1&&this[t]){if(c)(o.event.special[t]||{}).delegateType&&s.stopPropagation();else if(c=a.call(arguments),H.set(this,t,c),this[t](),u=H.get(this,t),H.set(this,t,!1),c!==u)return s.stopImmediatePropagation(),s.preventDefault(),u}else c&&(H.set(this,t,o.event.trigger(c[0],c.slice(1),this)),s.stopPropagation(),s.isImmediatePropagationStopped=mt)}})}v(zt,"leverageNative"),o.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},o.Event=function(e,t){if(!(this instanceof o.Event))return new o.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?mt:bt,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&o.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=mt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=mt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=mt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(e,t){function r(s){if(z.documentMode){var u=H.get(this,"handle"),c=o.event.fix(s);c.type=s.type==="focusin"?"focus":"blur",c.isSimulated=!0,u(s),c.target===c.currentTarget&&u(c)}else o.event.simulate(t,s.target,o.event.fix(s))}v(r,"focusMappedHandler"),o.event.special[e]={setup:function(){var s;if(zt(this,e,!0),z.documentMode)s=H.get(this,t),s||this.addEventListener(t,r),H.set(this,t,(s||0)+1);else return!1},trigger:function(){return zt(this,e),!0},teardown:function(){var s;if(z.documentMode)s=H.get(this,t)-1,s?H.set(this,t,s):(this.removeEventListener(t,r),H.remove(this,t));else return!1},_default:function(s){return H.get(s.target,e)},delegateType:t},o.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,u=z.documentMode?this:s,c=H.get(u,t);c||(z.documentMode?this.addEventListener(t,r):s.addEventListener(e,r,!0)),H.set(u,t,(c||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,u=z.documentMode?this:s,c=H.get(u,t)-1;c?H.set(u,t,c):(z.documentMode?this.removeEventListener(t,r):s.removeEventListener(e,r,!0),H.remove(u,t))}}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){o.event.special[e]={delegateType:t,bindType:t,handle:function(r){var s,u=this,c=r.relatedTarget,d=r.handleObj;return(!c||c!==u&&!o.contains(u,c))&&(r.type=d.origType,s=d.handler.apply(this,arguments),r.type=t),s}}}),o.fn.extend({on:function(e,t,r,s){return ri(this,e,t,r,s)},one:function(e,t,r,s){return ri(this,e,t,r,s,1)},off:function(e,t,r){var s,u;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,o(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if(typeof e=="object"){for(u in e)this.off(u,t,e[u]);return this}return(t===!1||typeof t=="function")&&(r=t,t=void 0),r===!1&&(r=bt),this.each(function(){o.event.remove(this,e,r,t)})}});var tr=/<script|<style|<link/i,ir=/checked\s*(?:[^=]|=\s*.checked.)/i,nr=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Xi(e,t){return ne(e,"table")&&ne(t.nodeType!==11?t:t.firstChild,"tr")&&o(e).children("tbody")[0]||e}v(Xi,"manipulationTarget");function rr(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}v(rr,"disableScript");function sr(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}v(sr,"restoreScript");function Qi(e,t){var r,s,u,c,d,b,m;if(t.nodeType===1){if(H.hasData(e)&&(c=H.get(e),m=c.events,m)){H.remove(t,"handle events");for(u in m)for(r=0,s=m[u].length;r<s;r++)o.event.add(t,u,m[u][r])}me.hasData(e)&&(d=me.access(e),b=o.extend({},d),me.set(t,b))}}v(Qi,"cloneCopyEvent");function ar(e,t){var r=t.nodeName.toLowerCase();r==="input"&&Tt.test(e.type)?t.checked=e.checked:(r==="input"||r==="textarea")&&(t.defaultValue=e.defaultValue)}v(ar,"fixInput");function vt(e,t,r,s){t=f(t);var u,c,d,b,m,w,A=0,E=e.length,D=E-1,$=t[0],U=N($);if(U||E>1&&typeof $=="string"&&!k.checkClone&&ir.test($))return e.each(function(ee){var X=e.eq(ee);U&&(t[0]=$.call(this,ee,X.html())),vt(X,t,r,s)});if(E&&(u=Ji(t,e[0].ownerDocument,!1,e,s),c=u.firstChild,u.childNodes.length===1&&(u=c),c||s)){for(d=o.map(be(u,"script"),rr),b=d.length;A<E;A++)m=u,A!==D&&(m=o.clone(m,!0,!0),b&&o.merge(d,be(m,"script"))),r.call(e[A],m,A);if(b)for(w=d[d.length-1].ownerDocument,o.map(d,sr),A=0;A<b;A++)m=d[A],Ui.test(m.type||"")&&!H.access(m,"globalEval")&&o.contains(w,m)&&(m.src&&(m.type||"").toLowerCase()!=="module"?o._evalUrl&&!m.noModule&&o._evalUrl(m.src,{nonce:m.nonce||m.getAttribute("nonce")},w):Se(m.textContent.replace(nr,""),m,w))}return e}v(vt,"domManip");function Gi(e,t,r){for(var s,u=t?o.filter(t,e):e,c=0;(s=u[c])!=null;c++)!r&&s.nodeType===1&&o.cleanData(be(s)),s.parentNode&&(r&&gt(s)&&ni(be(s,"script")),s.parentNode.removeChild(s));return e}v(Gi,"remove"),o.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var s,u,c,d,b=e.cloneNode(!0),m=gt(e);if(!k.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!o.isXMLDoc(e))for(d=be(b),c=be(e),s=0,u=c.length;s<u;s++)ar(c[s],d[s]);if(t)if(r)for(c=c||be(e),d=d||be(b),s=0,u=c.length;s<u;s++)Qi(c[s],d[s]);else Qi(e,b);return d=be(b,"script"),d.length>0&&ni(d,!m&&be(e,"script")),b},cleanData:function(e){for(var t,r,s,u=o.event.special,c=0;(r=e[c])!==void 0;c++)if(Dt(r)){if(t=r[H.expando]){if(t.events)for(s in t.events)u[s]?o.event.remove(r,s):o.removeEvent(r,s,t.handle);r[H.expando]=void 0}r[me.expando]&&(r[me.expando]=void 0)}}}),o.fn.extend({detach:function(e){return Gi(this,e,!0)},remove:function(e){return Gi(this,e)},text:function(e){return He(this,function(t){return t===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return vt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Xi(this,e);t.appendChild(e)}})},prepend:function(){return vt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Xi(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return vt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return vt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(o.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return o.clone(this,e,t)})},html:function(e){return He(this,function(t){var r=this[0]||{},s=0,u=this.length;if(t===void 0&&r.nodeType===1)return r.innerHTML;if(typeof t=="string"&&!tr.test(t)&&!De[(_i.exec(t)||["",""])[1].toLowerCase()]){t=o.htmlPrefilter(t);try{for(;s<u;s++)r=this[s]||{},r.nodeType===1&&(o.cleanData(be(r,!1)),r.innerHTML=t);r=0}catch{}}r&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return vt(this,arguments,function(t){var r=this.parentNode;o.inArray(this,e)<0&&(o.cleanData(be(this)),r&&r.replaceChild(t,this))},e)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){o.fn[e]=function(r){for(var s,u=[],c=o(r),d=c.length-1,b=0;b<=d;b++)s=b===d?this:this.clone(!0),o(c[b])[t](s),p.apply(u,s.get());return this.pushStack(u)}});var si=new RegExp("^("+Hi+")(?!px)[a-z%]+$","i"),ai=/^--/,Bt=v(function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=h),t.getComputedStyle(e)},"getStyles"),Yi=v(function(e,t,r){var s,u,c={};for(u in t)c[u]=e.style[u],e.style[u]=t[u];s=r.call(e);for(u in t)e.style[u]=c[u];return s},"swap"),or=new RegExp(We.join("|"),"i");(function(){function e(){if(w){m.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",w.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(m).appendChild(w);var A=h.getComputedStyle(w);r=A.top!=="1%",b=t(A.marginLeft)===12,w.style.right="60%",c=t(A.right)===36,s=t(A.width)===36,w.style.position="absolute",u=t(w.offsetWidth/3)===12,nt.removeChild(m),w=null}}v(e,"computeStyleTests");function t(A){return Math.round(parseFloat(A))}v(t,"roundPixelMeasures");var r,s,u,c,d,b,m=z.createElement("div"),w=z.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle=w.style.backgroundClip==="content-box",o.extend(k,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),c},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),b},scrollboxSize:function(){return e(),u},reliableTrDimensions:function(){var A,E,D,$;return d==null&&(A=z.createElement("table"),E=z.createElement("tr"),D=z.createElement("div"),A.style.cssText="position:absolute;left:-11111px;border-collapse:separate",E.style.cssText="border:1px solid",E.style.height="1px",D.style.height="9px",D.style.display="block",nt.appendChild(A).appendChild(E).appendChild(D),$=h.getComputedStyle(E),d=parseInt($.height,10)+parseInt($.borderTopWidth,10)+parseInt($.borderBottomWidth,10)===E.offsetHeight,nt.removeChild(A)),d}}))})();function kt(e,t,r){var s,u,c,d,b=ai.test(t),m=e.style;return r=r||Bt(e),r&&(d=r.getPropertyValue(t)||r[t],b&&d&&(d=d.replace(It,"$1")||void 0),d===""&&!gt(e)&&(d=o.style(e,t)),!k.pixelBoxStyles()&&si.test(d)&&or.test(t)&&(s=m.width,u=m.minWidth,c=m.maxWidth,m.minWidth=m.maxWidth=m.width=d,d=r.width,m.width=s,m.minWidth=u,m.maxWidth=c)),d!==void 0?d+"":d}v(kt,"curCSS");function Zi(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}v(Zi,"addGetHookIf");var en=["Webkit","Moz","ms"],tn=z.createElement("div").style,nn={};function lr(e){for(var t=e[0].toUpperCase()+e.slice(1),r=en.length;r--;)if(e=en[r]+t,e in tn)return e}v(lr,"vendorPropName");function oi(e){var t=o.cssProps[e]||nn[e];return t||(e in tn?e:nn[e]=lr(e)||e)}v(oi,"finalPropName");var ur=/^(none|table(?!-c[ea]).+)/,fr={position:"absolute",visibility:"hidden",display:"block"},rn={letterSpacing:"0",fontWeight:"400"};function sn(e,t,r){var s=At.exec(t);return s?Math.max(0,s[2]-(r||0))+(s[3]||"px"):t}v(sn,"setPositiveNumber");function li(e,t,r,s,u,c){var d=t==="width"?1:0,b=0,m=0,w=0;if(r===(s?"border":"content"))return 0;for(;d<4;d+=2)r==="margin"&&(w+=o.css(e,r+We[d],!0,u)),s?(r==="content"&&(m-=o.css(e,"padding"+We[d],!0,u)),r!=="margin"&&(m-=o.css(e,"border"+We[d]+"Width",!0,u))):(m+=o.css(e,"padding"+We[d],!0,u),r!=="padding"?m+=o.css(e,"border"+We[d]+"Width",!0,u):b+=o.css(e,"border"+We[d]+"Width",!0,u));return!s&&c>=0&&(m+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-c-m-b-.5))||0),m+w}v(li,"boxModelAdjustment");function an(e,t,r){var s=Bt(e),u=!k.boxSizingReliable()||r,c=u&&o.css(e,"boxSizing",!1,s)==="border-box",d=c,b=kt(e,t,s),m="offset"+t[0].toUpperCase()+t.slice(1);if(si.test(b)){if(!r)return b;b="auto"}return(!k.boxSizingReliable()&&c||!k.reliableTrDimensions()&&ne(e,"tr")||b==="auto"||!parseFloat(b)&&o.css(e,"display",!1,s)==="inline")&&e.getClientRects().length&&(c=o.css(e,"boxSizing",!1,s)==="border-box",d=m in e,d&&(b=e[m])),b=parseFloat(b)||0,b+li(e,t,r||(c?"border":"content"),d,s,b)+"px"}v(an,"getWidthOrHeight"),o.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=kt(e,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,s){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var u,c,d,b=$e(t),m=ai.test(t),w=e.style;if(m||(t=oi(b)),d=o.cssHooks[t]||o.cssHooks[b],r!==void 0){if(c=typeof r,c==="string"&&(u=At.exec(r))&&u[1]&&(r=Wi(e,t,u),c="number"),r==null||r!==r)return;c==="number"&&!m&&(r+=u&&u[3]||(o.cssNumber[b]?"":"px")),!k.clearCloneStyle&&r===""&&t.indexOf("background")===0&&(w[t]="inherit"),(!d||!("set"in d)||(r=d.set(e,r,s))!==void 0)&&(m?w.setProperty(t,r):w[t]=r)}else return d&&"get"in d&&(u=d.get(e,!1,s))!==void 0?u:w[t]}},css:function(e,t,r,s){var u,c,d,b=$e(t),m=ai.test(t);return m||(t=oi(b)),d=o.cssHooks[t]||o.cssHooks[b],d&&"get"in d&&(u=d.get(e,!0,r)),u===void 0&&(u=kt(e,t,s)),u==="normal"&&t in rn&&(u=rn[t]),r===""||r?(c=parseFloat(u),r===!0||isFinite(c)?c||0:u):u}}),o.each(["height","width"],function(e,t){o.cssHooks[t]={get:function(r,s,u){if(s)return ur.test(o.css(r,"display"))&&(!r.getClientRects().length||!r.getBoundingClientRect().width)?Yi(r,fr,function(){return an(r,t,u)}):an(r,t,u)},set:function(r,s,u){var c,d=Bt(r),b=!k.scrollboxSize()&&d.position==="absolute",m=b||u,w=m&&o.css(r,"boxSizing",!1,d)==="border-box",A=u?li(r,t,u,w,d):0;return w&&b&&(A-=Math.ceil(r["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(d[t])-li(r,t,"border",!1,d)-.5)),A&&(c=At.exec(s))&&(c[3]||"px")!=="px"&&(r.style[t]=s,s=o.css(r,t)),sn(r,s,A)}}}),o.cssHooks.marginLeft=Zi(k.reliableMarginLeft,function(e,t){if(t)return(parseFloat(kt(e,"marginLeft"))||e.getBoundingClientRect().left-Yi(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(e,t){o.cssHooks[e+t]={expand:function(r){for(var s=0,u={},c=typeof r=="string"?r.split(" "):[r];s<4;s++)u[e+We[s]+t]=c[s]||c[s-2]||c[0];return u}},e!=="margin"&&(o.cssHooks[e+t].set=sn)}),o.fn.extend({css:function(e,t){return He(this,function(r,s,u){var c,d,b={},m=0;if(Array.isArray(s)){for(c=Bt(r),d=s.length;m<d;m++)b[s[m]]=o.css(r,s[m],!1,c);return b}return u!==void 0?o.style(r,s,u):o.css(r,s)},e,t,arguments.length>1)}});function ve(e,t,r,s,u){return new ve.prototype.init(e,t,r,s,u)}v(ve,"Tween"),o.Tween=ve,ve.prototype={constructor:ve,init:function(e,t,r,s,u,c){this.elem=e,this.prop=r,this.easing=u||o.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=c||(o.cssNumber[r]?"":"px")},cur:function(){var e=ve.propHooks[this.prop];return e&&e.get?e.get(this):ve.propHooks._default.get(this)},run:function(e){var t,r=ve.propHooks[this.prop];return this.options.duration?this.pos=t=o.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ve.propHooks._default.set(this),this}},ve.prototype.init.prototype=ve.prototype,ve.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=o.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){o.fx.step[e.prop]?o.fx.step[e.prop](e):e.elem.nodeType===1&&(o.cssHooks[e.prop]||e.elem.style[oi(e.prop)]!=null)?o.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ve.propHooks.scrollTop=ve.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},o.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},o.fx=ve.prototype.init,o.fx.step={};var xt,Ht,cr=/^(?:toggle|show|hide)$/,hr=/queueHooks$/;function ui(){Ht&&(z.hidden===!1&&h.requestAnimationFrame?h.requestAnimationFrame(ui):h.setTimeout(ui,o.fx.interval),o.fx.tick())}v(ui,"schedule");function on(){return h.setTimeout(function(){xt=void 0}),xt=Date.now()}v(on,"createFxNow");function Wt(e,t){var r,s=0,u={height:e};for(t=t?1:0;s<4;s+=2-t)r=We[s],u["margin"+r]=u["padding"+r]=e;return t&&(u.opacity=u.width=e),u}v(Wt,"genFx");function ln(e,t,r){for(var s,u=(Pe.tweeners[t]||[]).concat(Pe.tweeners["*"]),c=0,d=u.length;c<d;c++)if(s=u[c].call(r,t,e))return s}v(ln,"createTween");function dr(e,t,r){var s,u,c,d,b,m,w,A,E="width"in t||"height"in t,D=this,$={},U=e.style,ee=e.nodeType&&Ft(e),X=H.get(e,"fxshow");r.queue||(d=o._queueHooks(e,"fx"),d.unqueued==null&&(d.unqueued=0,b=d.empty.fire,d.empty.fire=function(){d.unqueued||b()}),d.unqueued++,D.always(function(){D.always(function(){d.unqueued--,o.queue(e,"fx").length||d.empty.fire()})}));for(s in t)if(u=t[s],cr.test(u)){if(delete t[s],c=c||u==="toggle",u===(ee?"hide":"show"))if(u==="show"&&X&&X[s]!==void 0)ee=!0;else continue;$[s]=X&&X[s]||o.style(e,s)}if(m=!o.isEmptyObject(t),!(!m&&o.isEmptyObject($))){E&&e.nodeType===1&&(r.overflow=[U.overflow,U.overflowX,U.overflowY],w=X&&X.display,w==null&&(w=H.get(e,"display")),A=o.css(e,"display"),A==="none"&&(w?A=w:(yt([e],!0),w=e.style.display||w,A=o.css(e,"display"),yt([e]))),(A==="inline"||A==="inline-block"&&w!=null)&&o.css(e,"float")==="none"&&(m||(D.done(function(){U.display=w}),w==null&&(A=U.display,w=A==="none"?"":A)),U.display="inline-block")),r.overflow&&(U.overflow="hidden",D.always(function(){U.overflow=r.overflow[0],U.overflowX=r.overflow[1],U.overflowY=r.overflow[2]})),m=!1;for(s in $)m||(X?"hidden"in X&&(ee=X.hidden):X=H.access(e,"fxshow",{display:w}),c&&(X.hidden=!ee),ee&&yt([e],!0),D.done(function(){ee||yt([e]),H.remove(e,"fxshow");for(s in $)o.style(e,s,$[s])})),m=ln(ee?X[s]:0,s,D),s in X||(X[s]=m.start,ee&&(m.end=m.start,m.start=0))}}v(dr,"defaultPrefilter");function pr(e,t){var r,s,u,c,d;for(r in e)if(s=$e(r),u=t[s],c=e[r],Array.isArray(c)&&(u=c[1],c=e[r]=c[0]),r!==s&&(e[s]=c,delete e[r]),d=o.cssHooks[s],d&&"expand"in d){c=d.expand(c),delete e[s];for(r in c)r in e||(e[r]=c[r],t[r]=u)}else t[s]=u}v(pr,"propFilter");function Pe(e,t,r){var s,u,c=0,d=Pe.prefilters.length,b=o.Deferred().always(function(){delete m.elem}),m=v(function(){if(u)return!1;for(var E=xt||on(),D=Math.max(0,w.startTime+w.duration-E),$=D/w.duration||0,U=1-$,ee=0,X=w.tweens.length;ee<X;ee++)w.tweens[ee].run(U);return b.notifyWith(e,[w,U,D]),U<1&&X?D:(X||b.notifyWith(e,[w,1,0]),b.resolveWith(e,[w]),!1)},"tick"),w=b.promise({elem:e,props:o.extend({},t),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},r),originalProperties:t,originalOptions:r,startTime:xt||on(),duration:r.duration,tweens:[],createTween:function(E,D){var $=o.Tween(e,w.opts,E,D,w.opts.specialEasing[E]||w.opts.easing);return w.tweens.push($),$},stop:function(E){var D=0,$=E?w.tweens.length:0;if(u)return this;for(u=!0;D<$;D++)w.tweens[D].run(1);return E?(b.notifyWith(e,[w,1,0]),b.resolveWith(e,[w,E])):b.rejectWith(e,[w,E]),this}}),A=w.props;for(pr(A,w.opts.specialEasing);c<d;c++)if(s=Pe.prefilters[c].call(w,e,A,w.opts),s)return N(s.stop)&&(o._queueHooks(w.elem,w.opts.queue).stop=s.stop.bind(s)),s;return o.map(A,ln,w),N(w.opts.start)&&w.opts.start.call(e,w),w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always),o.fx.timer(o.extend(m,{elem:e,anim:w,queue:w.opts.queue})),w}v(Pe,"Animation"),o.Animation=o.extend(Pe,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return Wi(r.elem,e,At.exec(t),r),r}]},tweener:function(e,t){N(e)?(t=e,e=["*"]):e=e.match(Ne);for(var r,s=0,u=e.length;s<u;s++)r=e[s],Pe.tweeners[r]=Pe.tweeners[r]||[],Pe.tweeners[r].unshift(t)},prefilters:[dr],prefilter:function(e,t){t?Pe.prefilters.unshift(e):Pe.prefilters.push(e)}}),o.speed=function(e,t,r){var s=e&&typeof e=="object"?o.extend({},e):{complete:r||!r&&t||N(e)&&e,duration:e,easing:r&&t||t&&!N(t)&&t};return o.fx.off?s.duration=0:typeof s.duration!="number"&&(s.duration in o.fx.speeds?s.duration=o.fx.speeds[s.duration]:s.duration=o.fx.speeds._default),(s.queue==null||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){N(s.old)&&s.old.call(this),s.queue&&o.dequeue(this,s.queue)},s},o.fn.extend({fadeTo:function(e,t,r,s){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:t},e,r,s)},animate:function(e,t,r,s){var u=o.isEmptyObject(e),c=o.speed(t,r,s),d=v(function(){var b=Pe(this,o.extend({},e),c);(u||H.get(this,"finish"))&&b.stop(!0)},"doAnimation");return d.finish=d,u||c.queue===!1?this.each(d):this.queue(c.queue,d)},stop:function(e,t,r){var s=v(function(u){var c=u.stop;delete u.stop,c(r)},"stopQueue");return typeof e!="string"&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var u=!0,c=e!=null&&e+"queueHooks",d=o.timers,b=H.get(this);if(c)b[c]&&b[c].stop&&s(b[c]);else for(c in b)b[c]&&b[c].stop&&hr.test(c)&&s(b[c]);for(c=d.length;c--;)d[c].elem===this&&(e==null||d[c].queue===e)&&(d[c].anim.stop(r),u=!1,d.splice(c,1));(u||!r)&&o.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=H.get(this),s=r[e+"queue"],u=r[e+"queueHooks"],c=o.timers,d=s?s.length:0;for(r.finish=!0,o.queue(this,e,[]),u&&u.stop&&u.stop.call(this,!0),t=c.length;t--;)c[t].elem===this&&c[t].queue===e&&(c[t].anim.stop(!0),c.splice(t,1));for(t=0;t<d;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete r.finish})}}),o.each(["toggle","show","hide"],function(e,t){var r=o.fn[t];o.fn[t]=function(s,u,c){return s==null||typeof s=="boolean"?r.apply(this,arguments):this.animate(Wt(t,!0),s,u,c)}}),o.each({slideDown:Wt("show"),slideUp:Wt("hide"),slideToggle:Wt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){o.fn[e]=function(r,s,u){return this.animate(t,r,s,u)}}),o.timers=[],o.fx.tick=function(){var e,t=0,r=o.timers;for(xt=Date.now();t<r.length;t++)e=r[t],!e()&&r[t]===e&&r.splice(t--,1);r.length||o.fx.stop(),xt=void 0},o.fx.timer=function(e){o.timers.push(e),o.fx.start()},o.fx.interval=13,o.fx.start=function(){Ht||(Ht=!0,ui())},o.fx.stop=function(){Ht=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(e,t){return e=o.fx&&o.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(r,s){var u=h.setTimeout(r,e);s.stop=function(){h.clearTimeout(u)}})},function(){var e=z.createElement("input"),t=z.createElement("select"),r=t.appendChild(z.createElement("option"));e.type="checkbox",k.checkOn=e.value!=="",k.optSelected=r.selected,e=z.createElement("input"),e.value="t",e.type="radio",k.radioValue=e.value==="t"}();var un,Pt=o.expr.attrHandle;o.fn.extend({attr:function(e,t){return He(this,o.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){o.removeAttr(this,e)})}}),o.extend({attr:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2)){if(typeof e.getAttribute>"u")return o.prop(e,t,r);if((c!==1||!o.isXMLDoc(e))&&(u=o.attrHooks[t.toLowerCase()]||(o.expr.match.bool.test(t)?un:void 0)),r!==void 0){if(r===null){o.removeAttr(e,t);return}return u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:(e.setAttribute(t,r+""),r)}return u&&"get"in u&&(s=u.get(e,t))!==null?s:(s=o.find.attr(e,t),s??void 0)}},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&t==="radio"&&ne(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,s=0,u=t&&t.match(Ne);if(u&&e.nodeType===1)for(;r=u[s++];)e.removeAttribute(r)}}),un={set:function(e,t,r){return t===!1?o.removeAttr(e,r):e.setAttribute(r,r),r}},o.each(o.expr.match.bool.source.match(/\w+/g),function(e,t){var r=Pt[t]||o.find.attr;Pt[t]=function(s,u,c){var d,b,m=u.toLowerCase();return c||(b=Pt[m],Pt[m]=d,d=r(s,u,c)!=null?m:null,Pt[m]=b),d}});var gr=/^(?:input|select|textarea|button)$/i,yr=/^(?:a|area)$/i;o.fn.extend({prop:function(e,t){return He(this,o.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[o.propFix[e]||e]})}}),o.extend({prop:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2))return(c!==1||!o.isXMLDoc(e))&&(t=o.propFix[t]||t,u=o.propHooks[t]),r!==void 0?u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:e[t]=r:u&&"get"in u&&(s=u.get(e,t))!==null?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=o.find.attr(e,"tabindex");return t?parseInt(t,10):gr.test(e.nodeName)||yr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),k.optSelected||(o.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function rt(e){var t=e.match(Ne)||[];return t.join(" ")}v(rt,"stripAndCollapse");function st(e){return e.getAttribute&&e.getAttribute("class")||""}v(st,"getClass");function fi(e){return Array.isArray(e)?e:typeof e=="string"?e.match(Ne)||[]:[]}v(fi,"classesToArray"),o.fn.extend({addClass:function(e){var t,r,s,u,c,d;return N(e)?this.each(function(b){o(this).addClass(e.call(this,b,st(this)))}):(t=fi(e),t.length?this.each(function(){if(s=st(this),r=this.nodeType===1&&" "+rt(s)+" ",r){for(c=0;c<t.length;c++)u=t[c],r.indexOf(" "+u+" ")<0&&(r+=u+" ");d=rt(r),s!==d&&this.setAttribute("class",d)}}):this)},removeClass:function(e){var t,r,s,u,c,d;return N(e)?this.each(function(b){o(this).removeClass(e.call(this,b,st(this)))}):arguments.length?(t=fi(e),t.length?this.each(function(){if(s=st(this),r=this.nodeType===1&&" "+rt(s)+" ",r){for(c=0;c<t.length;c++)for(u=t[c];r.indexOf(" "+u+" ")>-1;)r=r.replace(" "+u+" "," ");d=rt(r),s!==d&&this.setAttribute("class",d)}}):this):this.attr("class","")},toggleClass:function(e,t){var r,s,u,c,d=typeof e,b=d==="string"||Array.isArray(e);return N(e)?this.each(function(m){o(this).toggleClass(e.call(this,m,st(this),t),t)}):typeof t=="boolean"&&b?t?this.addClass(e):this.removeClass(e):(r=fi(e),this.each(function(){if(b)for(c=o(this),u=0;u<r.length;u++)s=r[u],c.hasClass(s)?c.removeClass(s):c.addClass(s);else(e===void 0||d==="boolean")&&(s=st(this),s&&H.set(this,"__className__",s),this.setAttribute&&this.setAttribute("class",s||e===!1?"":H.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,s=0;for(t=" "+e+" ";r=this[s++];)if(r.nodeType===1&&(" "+rt(st(r))+" ").indexOf(t)>-1)return!0;return!1}});var mr=/\r/g;o.fn.extend({val:function(e){var t,r,s,u=this[0];return arguments.length?(s=N(e),this.each(function(c){var d;this.nodeType===1&&(s?d=e.call(this,c,o(this).val()):d=e,d==null?d="":typeof d=="number"?d+="":Array.isArray(d)&&(d=o.map(d,function(b){return b==null?"":b+""})),t=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,d,"value")===void 0)&&(this.value=d))})):u?(t=o.valHooks[u.type]||o.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==void 0?r:(r=u.value,typeof r=="string"?r.replace(mr,""):r??"")):void 0}}),o.extend({valHooks:{option:{get:function(e){var t=o.find.attr(e,"value");return t??rt(o.text(e))}},select:{get:function(e){var t,r,s,u=e.options,c=e.selectedIndex,d=e.type==="select-one",b=d?null:[],m=d?c+1:u.length;for(c<0?s=m:s=d?c:0;s<m;s++)if(r=u[s],(r.selected||s===c)&&!r.disabled&&(!r.parentNode.disabled||!ne(r.parentNode,"optgroup"))){if(t=o(r).val(),d)return t;b.push(t)}return b},set:function(e,t){for(var r,s,u=e.options,c=o.makeArray(t),d=u.length;d--;)s=u[d],(s.selected=o.inArray(o.valHooks.option.get(s),c)>-1)&&(r=!0);return r||(e.selectedIndex=-1),c}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=o.inArray(o(e).val(),t)>-1}},k.checkOn||(o.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Et=h.location,fn={guid:Date.now()},ci=/\?/;o.parseXML=function(e){var t,r;if(!e||typeof e!="string")return null;try{t=new h.DOMParser().parseFromString(e,"text/xml")}catch{}return r=t&&t.getElementsByTagName("parsererror")[0],(!t||r)&&o.error("Invalid XML: "+(r?o.map(r.childNodes,function(s){return s.textContent}).join(`
`):e)),t};var cn=/^(?:focusinfocus|focusoutblur)$/,hn=v(function(e){e.stopPropagation()},"stopPropagationCallback");o.extend(o.event,{trigger:function(e,t,r,s){var u,c,d,b,m,w,A,E,D=[r||z],$=T.call(e,"type")?e.type:e,U=T.call(e,"namespace")?e.namespace.split("."):[];if(c=E=d=r=r||z,!(r.nodeType===3||r.nodeType===8)&&!cn.test($+o.event.triggered)&&($.indexOf(".")>-1&&(U=$.split("."),$=U.shift(),U.sort()),m=$.indexOf(":")<0&&"on"+$,e=e[o.expando]?e:new o.Event($,typeof e=="object"&&e),e.isTrigger=s?2:3,e.namespace=U.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=t==null?[e]:o.makeArray(t,[e]),A=o.event.special[$]||{},!(!s&&A.trigger&&A.trigger.apply(r,t)===!1))){if(!s&&!A.noBubble&&!R(r)){for(b=A.delegateType||$,cn.test(b+$)||(c=c.parentNode);c;c=c.parentNode)D.push(c),d=c;d===(r.ownerDocument||z)&&D.push(d.defaultView||d.parentWindow||h)}for(u=0;(c=D[u++])&&!e.isPropagationStopped();)E=c,e.type=u>1?b:A.bindType||$,w=(H.get(c,"events")||Object.create(null))[e.type]&&H.get(c,"handle"),w&&w.apply(c,t),w=m&&c[m],w&&w.apply&&Dt(c)&&(e.result=w.apply(c,t),e.result===!1&&e.preventDefault());return e.type=$,!s&&!e.isDefaultPrevented()&&(!A._default||A._default.apply(D.pop(),t)===!1)&&Dt(r)&&m&&N(r[$])&&!R(r)&&(d=r[m],d&&(r[m]=null),o.event.triggered=$,e.isPropagationStopped()&&E.addEventListener($,hn),r[$](),e.isPropagationStopped()&&E.removeEventListener($,hn),o.event.triggered=void 0,d&&(r[m]=d)),e.result}},simulate:function(e,t,r){var s=o.extend(new o.Event,r,{type:e,isSimulated:!0});o.event.trigger(s,null,t)}}),o.fn.extend({trigger:function(e,t){return this.each(function(){o.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return o.event.trigger(e,t,r,!0)}});var br=/\[\]$/,dn=/\r?\n/g,vr=/^(?:submit|button|image|reset|file)$/i,xr=/^(?:input|select|textarea|keygen)/i;function hi(e,t,r,s){var u;if(Array.isArray(t))o.each(t,function(c,d){r||br.test(e)?s(e,d):hi(e+"["+(typeof d=="object"&&d!=null?c:"")+"]",d,r,s)});else if(!r&&Q(t)==="object")for(u in t)hi(e+"["+u+"]",t[u],r,s);else s(e,t)}v(hi,"buildParams"),o.param=function(e,t){var r,s=[],u=v(function(c,d){var b=N(d)?d():d;s[s.length]=encodeURIComponent(c)+"="+encodeURIComponent(b??"")},"add");if(e==null)return"";if(Array.isArray(e)||e.jquery&&!o.isPlainObject(e))o.each(e,function(){u(this.name,this.value)});else for(r in e)hi(r,e[r],t,u);return s.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=o.prop(this,"elements");return e?o.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!o(this).is(":disabled")&&xr.test(this.nodeName)&&!vr.test(e)&&(this.checked||!Tt.test(e))}).map(function(e,t){var r=o(this).val();return r==null?null:Array.isArray(r)?o.map(r,function(s){return{name:t.name,value:s.replace(dn,`\r
`)}}):{name:t.name,value:r.replace(dn,`\r
`)}}).get()}});var wr=/%20/g,Cr=/#.*$/,Sr=/([?&])_=[^&]*/,Ir=/^(.*?):[ \t]*([^\r\n]*)$/mg,Dr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Or=/^(?:GET|HEAD)$/,Ar=/^\/\//,pn={},di={},gn="*/".concat("*"),pi=z.createElement("a");pi.href=Et.href;function yn(e){return function(t,r){typeof t!="string"&&(r=t,t="*");var s,u=0,c=t.toLowerCase().match(Ne)||[];if(N(r))for(;s=c[u++];)s[0]==="+"?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(r)):(e[s]=e[s]||[]).push(r)}}v(yn,"addToPrefiltersOrTransports");function mn(e,t,r,s){var u={},c=e===di;function d(b){var m;return u[b]=!0,o.each(e[b]||[],function(w,A){var E=A(t,r,s);if(typeof E=="string"&&!c&&!u[E])return t.dataTypes.unshift(E),d(E),!1;if(c)return!(m=E)}),m}return v(d,"inspect"),d(t.dataTypes[0])||!u["*"]&&d("*")}v(mn,"inspectPrefiltersOrTransports");function gi(e,t){var r,s,u=o.ajaxSettings.flatOptions||{};for(r in t)t[r]!==void 0&&((u[r]?e:s||(s={}))[r]=t[r]);return s&&o.extend(!0,e,s),e}v(gi,"ajaxExtend");function Tr(e,t,r){for(var s,u,c,d,b=e.contents,m=e.dataTypes;m[0]==="*";)m.shift(),s===void 0&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s){for(u in b)if(b[u]&&b[u].test(s)){m.unshift(u);break}}if(m[0]in r)c=m[0];else{for(u in r){if(!m[0]||e.converters[u+" "+m[0]]){c=u;break}d||(d=u)}c=c||d}if(c)return c!==m[0]&&m.unshift(c),r[c]}v(Tr,"ajaxHandleResponses");function kr(e,t,r,s){var u,c,d,b,m,w={},A=e.dataTypes.slice();if(A[1])for(d in e.converters)w[d.toLowerCase()]=e.converters[d];for(c=A.shift();c;)if(e.responseFields[c]&&(r[e.responseFields[c]]=t),!m&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),m=c,c=A.shift(),c){if(c==="*")c=m;else if(m!=="*"&&m!==c){if(d=w[m+" "+c]||w["* "+c],!d){for(u in w)if(b=u.split(" "),b[1]===c&&(d=w[m+" "+b[0]]||w["* "+b[0]],d)){d===!0?d=w[u]:w[u]!==!0&&(c=b[0],A.unshift(b[1]));break}}if(d!==!0)if(d&&e.throws)t=d(t);else try{t=d(t)}catch(E){return{state:"parsererror",error:d?E:"No conversion from "+m+" to "+c}}}}return{state:"success",data:t}}v(kr,"ajaxConvert"),o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:Dr.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gi(gi(e,o.ajaxSettings),t):gi(o.ajaxSettings,e)},ajaxPrefilter:yn(pn),ajaxTransport:yn(di),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var r,s,u,c,d,b,m,w,A,E,D=o.ajaxSetup({},t),$=D.context||D,U=D.context&&($.nodeType||$.jquery)?o($):o.event,ee=o.Deferred(),X=o.Callbacks("once memory"),ce=D.statusCode||{},fe={},qe={},Me="canceled",Z={readyState:0,getResponseHeader:function(ie){var le;if(m){if(!c)for(c={};le=Ir.exec(u);)c[le[1].toLowerCase()+" "]=(c[le[1].toLowerCase()+" "]||[]).concat(le[2]);le=c[ie.toLowerCase()+" "]}return le==null?null:le.join(", ")},getAllResponseHeaders:function(){return m?u:null},setRequestHeader:function(ie,le){return m==null&&(ie=qe[ie.toLowerCase()]=qe[ie.toLowerCase()]||ie,fe[ie]=le),this},overrideMimeType:function(ie){return m==null&&(D.mimeType=ie),this},statusCode:function(ie){var le;if(ie)if(m)Z.always(ie[Z.status]);else for(le in ie)ce[le]=[ce[le],ie[le]];return this},abort:function(ie){var le=ie||Me;return r&&r.abort(le),at(0,le),this}};if(ee.promise(Z),D.url=((e||D.url||Et.href)+"").replace(Ar,Et.protocol+"//"),D.type=t.method||t.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(Ne)||[""],D.crossDomain==null){b=z.createElement("a");try{b.href=D.url,b.href=b.href,D.crossDomain=pi.protocol+"//"+pi.host!=b.protocol+"//"+b.host}catch{D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=o.param(D.data,D.traditional)),mn(pn,D,t,Z),m)return Z;w=o.event&&D.global,w&&o.active++===0&&o.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!Or.test(D.type),s=D.url.replace(Cr,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(wr,"+")):(E=D.url.slice(s.length),D.data&&(D.processData||typeof D.data=="string")&&(s+=(ci.test(s)?"&":"?")+D.data,delete D.data),D.cache===!1&&(s=s.replace(Sr,"$1"),E=(ci.test(s)?"&":"?")+"_="+fn.guid+++E),D.url=s+E),D.ifModified&&(o.lastModified[s]&&Z.setRequestHeader("If-Modified-Since",o.lastModified[s]),o.etag[s]&&Z.setRequestHeader("If-None-Match",o.etag[s])),(D.data&&D.hasContent&&D.contentType!==!1||t.contentType)&&Z.setRequestHeader("Content-Type",D.contentType),Z.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+gn+"; q=0.01":""):D.accepts["*"]);for(A in D.headers)Z.setRequestHeader(A,D.headers[A]);if(D.beforeSend&&(D.beforeSend.call($,Z,D)===!1||m))return Z.abort();if(Me="abort",X.add(D.complete),Z.done(D.success),Z.fail(D.error),r=mn(di,D,t,Z),!r)at(-1,"No Transport");else{if(Z.readyState=1,w&&U.trigger("ajaxSend",[Z,D]),m)return Z;D.async&&D.timeout>0&&(d=h.setTimeout(function(){Z.abort("timeout")},D.timeout));try{m=!1,r.send(fe,at)}catch(ie){if(m)throw ie;at(-1,ie)}}function at(ie,le,Nt,mi){var Re,$t,Le,Ke,Xe,Oe=le;m||(m=!0,d&&h.clearTimeout(d),r=void 0,u=mi||"",Z.readyState=ie>0?4:0,Re=ie>=200&&ie<300||ie===304,Nt&&(Ke=Tr(D,Z,Nt)),!Re&&o.inArray("script",D.dataTypes)>-1&&o.inArray("json",D.dataTypes)<0&&(D.converters["text script"]=function(){}),Ke=kr(D,Ke,Z,Re),Re?(D.ifModified&&(Xe=Z.getResponseHeader("Last-Modified"),Xe&&(o.lastModified[s]=Xe),Xe=Z.getResponseHeader("etag"),Xe&&(o.etag[s]=Xe)),ie===204||D.type==="HEAD"?Oe="nocontent":ie===304?Oe="notmodified":(Oe=Ke.state,$t=Ke.data,Le=Ke.error,Re=!Le)):(Le=Oe,(ie||!Oe)&&(Oe="error",ie<0&&(ie=0))),Z.status=ie,Z.statusText=(le||Oe)+"",Re?ee.resolveWith($,[$t,Oe,Z]):ee.rejectWith($,[Z,Oe,Le]),Z.statusCode(ce),ce=void 0,w&&U.trigger(Re?"ajaxSuccess":"ajaxError",[Z,D,Re?$t:Le]),X.fireWith($,[Z,Oe]),w&&(U.trigger("ajaxComplete",[Z,D]),--o.active||o.event.trigger("ajaxStop")))}return v(at,"done"),Z},getJSON:function(e,t,r){return o.get(e,t,r,"json")},getScript:function(e,t){return o.get(e,void 0,t,"script")}}),o.each(["get","post"],function(e,t){o[t]=function(r,s,u,c){return N(s)&&(c=c||u,u=s,s=void 0),o.ajax(o.extend({url:r,type:t,dataType:c,data:s,success:u},o.isPlainObject(r)&&r))}}),o.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),o._evalUrl=function(e,t,r){return o.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(s){o.globalEval(s,t,r)}})},o.fn.extend({wrapAll:function(e){var t;return this[0]&&(N(e)&&(e=e.call(this[0])),t=o(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var r=this;r.firstElementChild;)r=r.firstElementChild;return r}).append(this)),this},wrapInner:function(e){return N(e)?this.each(function(t){o(this).wrapInner(e.call(this,t))}):this.each(function(){var t=o(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=N(e);return this.each(function(r){o(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(e){return!o.expr.pseudos.visible(e)},o.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new h.XMLHttpRequest}catch{}};var Pr={0:200,1223:204},jt=o.ajaxSettings.xhr();k.cors=!!jt&&"withCredentials"in jt,k.ajax=jt=!!jt,o.ajaxTransport(function(e){var t,r;if(k.cors||jt&&!e.crossDomain)return{send:function(s,u){var c,d=e.xhr();if(d.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(c in e.xhrFields)d[c]=e.xhrFields[c];e.mimeType&&d.overrideMimeType&&d.overrideMimeType(e.mimeType),!e.crossDomain&&!s["X-Requested-With"]&&(s["X-Requested-With"]="XMLHttpRequest");for(c in s)d.setRequestHeader(c,s[c]);t=v(function(b){return function(){t&&(t=r=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,b==="abort"?d.abort():b==="error"?typeof d.status!="number"?u(0,"error"):u(d.status,d.statusText):u(Pr[d.status]||d.status,d.statusText,(d.responseType||"text")!=="text"||typeof d.responseText!="string"?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},"callback"),d.onload=t(),r=d.onerror=d.ontimeout=t("error"),d.onabort!==void 0?d.onabort=r:d.onreadystatechange=function(){d.readyState===4&&h.setTimeout(function(){t&&r()})},t=t("abort");try{d.send(e.hasContent&&e.data||null)}catch(b){if(t)throw b}},abort:function(){t&&t()}}}),o.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return o.globalEval(e),e}}}),o.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),o.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,r;return{send:function(s,u){t=o("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=v(function(c){t.remove(),r=null,c&&u(c.type==="error"?404:200,c.type)},"callback")),z.head.appendChild(t[0])},abort:function(){r&&r()}}}});var bn=[],yi=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bn.pop()||o.expando+"_"+fn.guid++;return this[e]=!0,e}}),o.ajaxPrefilter("json jsonp",function(e,t,r){var s,u,c,d=e.jsonp!==!1&&(yi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&yi.test(e.data)&&"data");if(d||e.dataTypes[0]==="jsonp")return s=e.jsonpCallback=N(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,d?e[d]=e[d].replace(yi,"$1"+s):e.jsonp!==!1&&(e.url+=(ci.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return c||o.error(s+" was not called"),c[0]},e.dataTypes[0]="json",u=h[s],h[s]=function(){c=arguments},r.always(function(){u===void 0?o(h).removeProp(s):h[s]=u,e[s]&&(e.jsonpCallback=t.jsonpCallback,bn.push(s)),c&&N(u)&&u(c[0]),c=u=void 0}),"script"}),k.createHTMLDocument=function(){var e=z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),o.parseHTML=function(e,t,r){if(typeof e!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,c;return t||(k.createHTMLDocument?(t=z.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=z.location.href,t.head.appendChild(s)):t=z),u=Ri.exec(e),c=!r&&[],u?[t.createElement(u[1])]:(u=Ji([e],t,c),c&&c.length&&o(c).remove(),o.merge([],u.childNodes))},o.fn.load=function(e,t,r){var s,u,c,d=this,b=e.indexOf(" ");return b>-1&&(s=rt(e.slice(b)),e=e.slice(0,b)),N(t)?(r=t,t=void 0):t&&typeof t=="object"&&(u="POST"),d.length>0&&o.ajax({url:e,type:u||"GET",dataType:"html",data:t}).done(function(m){c=arguments,d.html(s?o("<div>").append(o.parseHTML(m)).find(s):m)}).always(r&&function(m,w){d.each(function(){r.apply(this,c||[m.responseText,w,m])})}),this},o.expr.pseudos.animated=function(e){return o.grep(o.timers,function(t){return e===t.elem}).length},o.offset={setOffset:function(e,t,r){var s,u,c,d,b,m,w,A=o.css(e,"position"),E=o(e),D={};A==="static"&&(e.style.position="relative"),b=E.offset(),c=o.css(e,"top"),m=o.css(e,"left"),w=(A==="absolute"||A==="fixed")&&(c+m).indexOf("auto")>-1,w?(s=E.position(),d=s.top,u=s.left):(d=parseFloat(c)||0,u=parseFloat(m)||0),N(t)&&(t=t.call(e,r,o.extend({},b))),t.top!=null&&(D.top=t.top-b.top+d),t.left!=null&&(D.left=t.left-b.left+u),"using"in t?t.using.call(e,D):E.css(D)}},o.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(u){o.offset.setOffset(this,e,u)});var t,r,s=this[0];if(s)return s.getClientRects().length?(t=s.getBoundingClientRect(),r=s.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,s=this[0],u={top:0,left:0};if(o.css(s,"position")==="fixed")t=s.getBoundingClientRect();else{for(t=this.offset(),r=s.ownerDocument,e=s.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&o.css(e,"position")==="static";)e=e.parentNode;e&&e!==s&&e.nodeType===1&&(u=o(e).offset(),u.top+=o.css(e,"borderTopWidth",!0),u.left+=o.css(e,"borderLeftWidth",!0))}return{top:t.top-u.top-o.css(s,"marginTop",!0),left:t.left-u.left-o.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&o.css(e,"position")==="static";)e=e.offsetParent;return e||nt})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=t==="pageYOffset";o.fn[e]=function(s){return He(this,function(u,c,d){var b;if(R(u)?b=u:u.nodeType===9&&(b=u.defaultView),d===void 0)return b?b[t]:u[c];b?b.scrollTo(r?b.pageXOffset:d,r?d:b.pageYOffset):u[c]=d},e,s,arguments.length)}}),o.each(["top","left"],function(e,t){o.cssHooks[t]=Zi(k.pixelPosition,function(r,s){if(s)return s=kt(r,t),si.test(s)?o(r).position()[t]+"px":s})}),o.each({Height:"height",Width:"width"},function(e,t){o.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,s){o.fn[s]=function(u,c){var d=arguments.length&&(r||typeof u!="boolean"),b=r||(u===!0||c===!0?"margin":"border");return He(this,function(m,w,A){var E;return R(m)?s.indexOf("outer")===0?m["inner"+e]:m.document.documentElement["client"+e]:m.nodeType===9?(E=m.documentElement,Math.max(m.body["scroll"+e],E["scroll"+e],m.body["offset"+e],E["offset"+e],E["client"+e])):A===void 0?o.css(m,w,b):o.style(m,w,A,b)},t,d?u:void 0,d)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){o.fn[t]=function(r){return this.on(t,r)}}),o.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,s){return this.on(t,e,r,s)},undelegate:function(e,t,r){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){o.fn[t]=function(r,s){return arguments.length>0?this.on(t,null,r,s):this.trigger(t)}});var Er=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;o.proxy=function(e,t){var r,s,u;if(typeof t=="string"&&(r=e[t],t=e,e=r),!!N(e))return s=a.call(arguments,2),u=v(function(){return e.apply(t||this,s.concat(a.call(arguments)))},"proxy"),u.guid=e.guid=e.guid||o.guid++,u},o.holdReady=function(e){e?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=ne,o.isFunction=N,o.isWindow=R,o.camelCase=$e,o.type=Q,o.now=Date.now,o.isNumeric=function(e){var t=o.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},o.trim=function(e){return e==null?"":(e+"").replace(Er,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var jr=h.jQuery,Nr=h.$;return o.noConflict=function(e){return h.$===o&&(h.$=Nr),e&&h.jQuery===o&&(h.jQuery=jr),o},typeof l>"u"&&(h.jQuery=h.$=o),o})});var is={};var ke,it,$n=Ur(()=>{ke=class{constructor(l,i){if(this.app="loki",this.options=i||{},typeof l!="undefined"&&(this.app=l),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}exportDatabase(l,i,n){throw new Error("Method not implemented.")}closeDatabase(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)}checkAvailability(){return!!(typeof indexedDB!="undefined"&&indexedDB)}loadDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new it(f=>{a.catalog=f,a.loadDatabase(l,i)});return}this.catalog.getAppKey(n,l,({id:f,val:p})=>{if(typeof i=="function"){if(f===0){i(null);return}i(p)}else console.log(p)})}saveDatabase(l,i,n){let a=this.app,f=this;function p(g){g&&g.success===!0?n(null):n(new Error("Error saving database")),f.options.closeAfterSave&&f.closeDatabase()}if(v(p,"saveCallback"),this.catalog===null||this.catalog.db===null){this.catalog=new it(g=>{f.saveDatabase(l,i,p)});return}this.catalog.setAppKey(a,l,i,p)}deleteDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new it(f=>{a.catalog=f,a.deleteDatabase(l,i)});return}this.catalog.getAppKey(n,l,f=>{let p=f.id;p!==0?a.catalog.deleteAppKey(p,i):typeof i=="function"&&i({success:!0})})}deleteDatabasePartitions(l){let i=this;this.getDatabaseList(n=>{n.forEach(a=>{a.startsWith(l)&&i.deleteDatabase(a)})})}getDatabaseList(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new it(a=>{n.catalog=a,n.getDatabaseList(l)});return}this.catalog.getAppKeys(i,a=>{let f=[];for(let p=0;p<a.length;p++)f.push(a[p].key);typeof l=="function"?l(f):f.forEach(p=>{console.log(p)})})}getCatalogSummary(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new it(a=>{n.catalog=a,n.getCatalogSummary(l)});return}this.catalog.getAllKeys(a=>{let f=[],p,g,S,C,T;for(let j=0;j<a.length;j++)p=a[j],S=p.app||"",C=p.key||"",T=p.val||"",g=S.length*2+C.length*2+T.length+1,f.push({app:p.app,key:p.key,size:g});typeof l=="function"?l(f):f.forEach(j=>{console.log(j)})})}};v(ke,"IndexedAdapter");ke.prototype.loadKey=ke.prototype.loadDatabase;ke.prototype.saveKey=ke.prototype.saveDatabase;ke.prototype.deleteKey=ke.prototype.deleteDatabase;ke.prototype.getKeyList=ke.prototype.getDatabaseList;it=class{constructor(l){this.db=null,this.initializeLokiCatalog(l)}initializeLokiCatalog(l){let i=indexedDB.open("LokiCatalog",1),n=this;i.onupgradeneeded=({target:a})=>{let f=a.result;if(f.objectStoreNames.contains("LokiAKV")&&f.deleteObjectStore("LokiAKV"),!f.objectStoreNames.contains("LokiAKV")){let p=f.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});p.createIndex("app","app",{unique:!1}),p.createIndex("key","key",{unique:!1}),p.createIndex("appkey","appkey",{unique:!0})}},i.onsuccess=({target:a})=>{n.db=a.result,typeof l=="function"&&l(n)},i.onerror=a=>{throw a}}getAppKey(l,i,n){let p=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("appkey"),g=`${l},${i}`,S=p.get(g);S.onsuccess=(C=>({target:T})=>{let j=T.result;(j===null||typeof j=="undefined")&&(j={id:0,success:!1}),typeof C=="function"?C(j):console.log(j)})(n),S.onerror=(C=>T=>{if(typeof C=="function")C({id:0,success:!1});else throw T})(n)}getAppKeyById(l,i,n){let p=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").get(l);p.onsuccess=((g,S)=>({target:C})=>{typeof S=="function"?S(C.result,g):console.log(C.result)})(n,i)}setAppKey(l,i,n,a){let p=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV"),g=p.index("appkey"),S=`${l},${i}`,C=g.get(S);C.onsuccess=({target:T})=>{let j=T.result;j==null?j={app:l,key:i,appkey:`${l},${i}`,val:n}:j.val=n;let M=p.put(j);M.onerror=(k=>N=>{typeof k=="function"?k({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(C.error))})(a),M.onsuccess=(k=>N=>{typeof k=="function"&&k({success:!0})})(a)},C.onerror=(T=>j=>{typeof T=="function"?T({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(C.error))})(a)}deleteAppKey(l,i){let f=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV").delete(l);f.onsuccess=(p=>g=>{typeof p=="function"&&p({success:!0})})(i),f.onerror=(p=>g=>{typeof p=="function"?p({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(f.error))})(i)}getAppKeys(l,i){let f=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("app"),p=IDBKeyRange.only(l),g=f.openCursor(p),S=[];g.onsuccess=((C,T)=>({target:j})=>{let M=j.result;if(M){let k=M.value;C.push(k),M.continue()}else typeof T=="function"?T(C):console.log(C)})(S,i),g.onerror=(C=>T=>{typeof C=="function"?C(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(T))})(i)}getAllKeys(l){let a=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").openCursor(),f=[];a.onsuccess=((p,g)=>({target:S})=>{let C=S.result;if(C){let T=C.value;p.push(T),C.continue()}else typeof g=="function"?g(p):console.log(p)})(f,l),a.onerror=(p=>g=>{typeof p=="function"&&p(null)})(l)}};v(it,"LokiCatalog");typeof window!="undefined"&&Object.assign(window,{IndexedAdapter:ke})});var ut=class{constructor(){try{this.fs=Ii("fs")}catch(l){this.fs=null}}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.fs.stat(l,(a,f)=>{!a&&f.isFile()?n.fs.readFile(l,{encoding:"utf8"},v(function(g,S){i(g?new Error(g):S)},"readFileCallback")):i(null)})}saveDatabase(l,i,n){let a=this,f=`${l}~`;this.fs.writeFile(f,i,v(function(g){g?n(new Error(g)):a.fs.rename(f,l,n)},"writeFileCallback"))}deleteDatabase(l,i){this.fs.unlink(l,v(function(a){a?i(new Error(a)):i()},"deleteDatabaseCallback"))}};v(ut,"FsAdapter");function Ge(h,l,i){if(i===!1)return h[l];let n=l.split("."),a=h;for(;n.length>0;)a=a[n.shift()];return a}v(Ge,"deepProperty");var Tn=Xr(On(),1);function An(h,l){if(l=="parse-stringify")return oe(h,l);for(var i=[],n=0,a=h.length;n<a;n++)i[n]=oe(h[n],l);return i}v(An,"cloneObjectArray");function oe(h,l){if(h==null)return null;var i=l||"parse-stringify",n;switch(i){case"parse-stringify":n=JSON.parse(JSON.stringify(h));break;case"jquery-extend-deep":n=Tn.extend(!0,{},h);break;case"shallow":n=Object.create(h.constructor.prototype),Object.keys(h).map(function(f){n[f]=h[f]});break;case"shallow-assign":n=Object.create(h.constructor.prototype),Object.assign(n,h);break;case"shallow-recurse-objects":n=oe(h,"shallow");var a=Object.keys(h);a.forEach(function(f){typeof h[f]=="object"&&h[f].constructor.name==="Object"?n[f]=oe(h[f],"shallow-recurse-objects"):Array.isArray(h[f])&&(n[f]=An(h[f],"shallow-recurse-objects"))});break;default:break}return n}v(oe,"clone");function Ye(h){Object.isFrozen(h)||Object.freeze(h)}v(Ye,"freeze");function pe(h){var l,i;if(Array.isArray(h)){for(i=0;i<h.length;i++)pe(h[i]);Ye(h)}else if(h!==null&&typeof h=="object"){for(l in h)Object.hasOwn(h,l)&&pe(h[l]);Ye(h)}}v(pe,"deepFreeze");function Ze(h){return Object.isFrozen(h)?oe(h,"shallow"):h}v(Ze,"unFreeze");var _={};Kr(_,{copyProperties:()=>Gr,getIn:()=>Zr,resolveTransformObject:()=>kn,resolveTransformParams:()=>Yr});var Gr=v(function(h,l){var i;for(i in h)l[i]=h[i]},"copyProperties"),kn=v(function(h,l,i){var n,a;if(typeof i!="number"&&(i=0),++i>=10)return h;for(n in h)typeof h[n]=="string"&&h[n].indexOf("[%lktxp]")===0?(a=h[n].substring(8),Object.hasOwn(l,a)&&(h[n]=l[a])):typeof h[n]=="object"&&(h[n]=_.resolveTransformObject(h[n],l,i));return h},"resolveTransformObject"),Yr=v(function(h,l){var i,n,a=[];if(typeof l=="undefined")return h;for(i=0;i<h.length;i++)n=oe(h[i],"shallow-recurse-objects"),a.push(kn(n,l));return a},"resolveTransformParams"),Zr=v(function(h,l,i){if(h!=null){if(!i)return h[l];if(typeof l=="string"&&(l=l.split(".")),!Array.isArray(l))throw new Error("path must be a string or array. Found "+typeof l);for(var n=0,a=l.length;h!=null&&n<a;)h=h[l[n++]];return n&&n==a?h:void 0}},"getIn");function Gt(h){return h.indexOf(".")!==-1}v(Gt,"isDeepProperty");function es(h,l){return h+l}v(es,"add");function Pn(h,l){return h-l}v(Pn,"sub");function Qt(h){return h.reduce(es,0)/h.length}v(Qt,"average");function En(h){let l=Qt(h),i=h.map(function(f){let p=f-l;return p*p}),n=Qt(i);return Math.sqrt(n)}v(En,"standardDeviation");function Oi(h){return typeof h=="string"||Array.isArray(h)?function(l){return h.indexOf(l)!==-1}:typeof h=="object"&&h!==null?function(l){return Object.hasOwn(h,l)}:null}v(Oi,"containsCheckFn");function ft(h,l,i,n,a,f){let p=f||0,g=l[p],S=!1,C;if(h!==null&&typeof h=="object"&&g in h&&(C=h[g]),p+1>=l.length)S=i(C,n,a);else if(Array.isArray(C))for(let T=0,j=C.length;T<j&&(S=ft(C[T],l,i,n,a,p+1),S!==!0);T+=1);else S=ft(C,l,i,n,a,p+1);return S}v(ft,"dotSubScan");var K={aeq:Ai,lt:Ti,gt:ki};function Ai(h,l){var i,n,a,f;if(h===l)return!0;if(!h||!l||h===!0||l===!0||h!==h||l!==l){switch(h){case void 0:a=1;break;case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=h===h?9:0;break}switch(l){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=l===l?9:0;break}if(a!==9||f!==9)return a===f}return i=Number(h),n=Number(l),i===i||n===n?i===n:(i=h.toString(),n=l.toString(),i==n)}v(Ai,"aeqHelper");function Ti(h,l,i){var n,a,f,p;if(!h||!l||h===!0||l===!0||h!==h||l!==l){switch(h){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=h===h?9:0;break}switch(l){case void 0:p=1;break;case null:p=1;break;case!1:p=3;break;case!0:p=4;break;case"":p=5;break;default:p=l===l?9:0;break}if(f!==9||p!==9)return f===p?i:f<p}return n=Number(h),a=Number(l),n===n&&a===a?n<a?!0:n>a?!1:i:n===n&&a!==a?!0:a===a&&n!==n?!1:h<l?!0:h>l?!1:h==l?i:(n=h.toString(),a=l.toString(),n<a?!0:n==a?i:!1)}v(Ti,"ltHelper");function ki(h,l,i){var n,a,f,p;if(!h||!l||h===!0||l===!0||h!==h||l!==l){switch(h){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=h===h?9:0;break}switch(l){case void 0:p=1;break;case null:p=1;break;case!1:p=3;break;case!0:p=4;break;case"":p=5;break;default:p=l===l?9:0;break}if(f!==9||p!==9)return f===p?i:f>p}return n=Number(h),a=Number(l),n===n&&a===a?n>a?!0:n<a?!1:i:n===n&&a!==a?!1:a===a&&n!==n||h>l?!0:h<l?!1:h==l?i:(n=h.toString(),a=l.toString(),n>a?!0:n==a?i:!1)}v(ki,"gtHelper");function Pi(h,l,i){return K.aeq(h,l)?0:K.lt(h,l,!1)?i?1:-1:K.gt(h,l,!1)?i?-1:1:0}v(Pi,"sortHelper");function jn(h,l,i){for(var n=0,a,f,p,g,S,C=0,T=h.length;C<T;C++)if(a=h[C],f=a[0],~f.indexOf(".")?(S=f.split("."),p=_.getIn(l,S,!0),g=_.getIn(i,S,!0)):(p=l[f],g=i[f]),n=Pi(p,g,a[1]),n!==0)return n;return 0}v(jn,"compoundeval");function et(h,l,i){for(var n in l)if(Object.hasOwn(l,n))return we[n](h,l[n],i);return!1}v(et,"doQueryOp");var we={$eq:function(h,l){return h===l},$aeq:function(h,l){return h==l},$ne:function(h,l){return l!==l?h===h:h!==l},$dteq:function(h,l){return K.aeq(h,l)},$gt:function(h,l){return K.gt(h,l,!1)},$gte:function(h,l){return K.gt(h,l,!0)},$lt:function(h,l){return K.lt(h,l,!1)},$lte:function(h,l){return K.lt(h,l,!0)},$jgt:function(h,l){return h>l},$jgte:function(h,l){return h>=l},$jlt:function(h,l){return h<l},$jlte:function(h,l){return h<=l},$between:function(h,l){return h==null?!1:K.gt(h,l[0],!0)&&K.lt(h,l[1],!0)},$jbetween:function(h,l){return h==null?!1:h>=l[0]&&h<=l[1]},$in:function(h,l){return l.indexOf(h)!==-1},$inSet:function(h,l){return l.has(h)},$nin:function(h,l){return l.indexOf(h)===-1},$keyin:function(h,l){return h in l},$nkeyin:function(h,l){return!(h in l)},$definedin:function(h,l){return l[h]!==void 0},$undefinedin:function(h,l){return l[h]===void 0},$regex:function(h,l){return l.test(h)},$containsString:function(h,l){return typeof h=="string"&&h.indexOf(l)!==-1},$containsNone:function(h,l){return!we.$containsAny(h,l)},$containsAny:function(h,l){var i=Oi(h);return i!==null?Array.isArray(l)?l.some(i):i(l):!1},$contains:function(h,l){var i=Oi(h);return i!==null?Array.isArray(l)?l.every(i):i(l):!1},$elemMatch:function(h,l){return Array.isArray(h)?h.some(function(i){return Object.keys(l).every(function(n){var a=l[n];return typeof a=="object"&&a||(a={$eq:a}),n.indexOf(".")!==-1?ft(i,n.split("."),et,l[n],i):et(i[n],a,i)})}):!1},$type:function(h,l,i){var n=typeof h;return n==="object"&&(Array.isArray(h)?n="array":h instanceof Date&&(n="date")),typeof l!="object"?n===l:et(n,l,i)},$finite:function(h,l){return l===isFinite(h)},$size:function(h,l,i){return Array.isArray(h)?typeof l!="object"?h.length===l:et(h.length,l,i):!1},$len:function(h,l,i){return typeof h=="string"?typeof l!="object"?h.length===l:et(h.length,l,i):!1},$where:function(h,l){return l(h)===!0},$not:function(h,l,i){return!et(h,l,i)},$and:function(h,l,i){for(var n=0,a=l.length;n<a;n+=1)if(!et(h,l[n],i))return!1;return!0},$or:function(h,l,i){for(var n=0,a=l.length;n<a;n+=1)if(et(h,l[n],i))return!0;return!1},$exists:function(h,l){return l?h!==void 0:h===void 0}},ts=["$eq","$aeq","$ne","$dteq","$gt","$gte","$lt","$lte","$jgt","$jgte","$jlt","$jlte","$type"];ts.forEach(function(h){var l=we[h];we["$"+h]=function(i,n,a){if(typeof n=="string")return l(i,a[n]);if(typeof n=="function")return l(i,n(a));throw new Error("Invalid argument to $$ matcher")}});var Yt={$eq:we.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};function Ei(h,l){if(h==="$regex")Array.isArray(l)?l=new RegExp(l[0],l[1]):l instanceof RegExp||(l=new RegExp(l));else if(typeof l=="object")for(let i in l)(i==="$regex"||typeof l[i]=="object")&&(l[i]=Ei(i,l[i]));return l}v(Ei,"precompileQuery");var ue=class{constructor(l,i){this.branch=ue.prototype.copy;this.$or=ue.prototype.findOr;this.$and=ue.prototype.findAnd;return this.options=i||{},this.collection=l,this.filteredrows=[],this.filterInitialized=!1,this}reset(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this}toJSON(){let l=this.copy();return l.collection=null,l}limit(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(0,l),i.filterInitialized=!0,i}offset(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(l),i.filterInitialized=!0,i}copy(){let l=new ue(this.collection);return this.filteredrows.length>0&&(l.filteredrows=this.filteredrows.slice()),l.filterInitialized=this.filterInitialized,l}transform(l,i){let n,a,f=this;if(typeof l=="string"&&Object.hasOwn(this.collection.transforms,l)&&(l=this.collection.transforms[l]),typeof l!="object"||!Array.isArray(l))throw new Error("Invalid transform");for(typeof i!="undefined"&&(l=_.resolveTransformParams(l,i)),n=0;n<l.length;n++)switch(a=l[n],a.type){case"find":f.find(a.value);break;case"where":f.where(a.value);break;case"simplesort":f.simplesort(a.property,a.desc||a.options);break;case"compoundsort":f.compoundsort(a.value);break;case"sort":f.sort(a.value);break;case"limit":f=f.limit(a.value);break;case"offset":f=f.offset(a.value);break;case"map":f=f.map(a.value,a.dataOptions);break;case"eqJoin":f=f.eqJoin(a.joinData,a.leftJoinKey,a.rightJoinKey,a.mapFun,a.dataOptions);break;case"mapReduce":f=f.mapReduce(a.mapFunction,a.reduceFunction);break;case"update":f.update(a.value);break;case"remove":f.remove();break;default:break}return f}sort(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=((n,a)=>(f,p)=>n(a[f],a[p]))(l,this.collection.data);return this.filteredrows.sort(i),this}simplesort(l,i){let n,a=10,f=this.collection.data.length,p=this.filteredrows.length,g=Object.hasOwn(this.collection.binaryIndices,l);if((typeof i=="undefined"||i===!1)&&(i={desc:!1}),i===!0&&(i={desc:!0}),p===0){if(this.filterInitialized)return this;if(Object.hasOwn(this.collection.binaryIndices,l))return this.collection.ensureIndex(l),this.filteredrows=this.collection.binaryIndices[l].values.slice(0),i.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!i.disableIndexIntersect&&g&&(n=f/p,i.useJavascriptSorting&&(a=6),n<=a||i.forceIndexIntersect)){let C,T=this.filteredrows,j={};for(C=0;C<p;C++)j[T[C]]=!0;let M=this.collection.binaryIndices[l].values;return this.filteredrows=M.filter(k=>j[k]),i.desc&&this.filteredrows.reverse(),this}if(i.useJavascriptSorting)return this.sort((C,T)=>{if(C[l]===T[l])return 0;if(C[l]>T[l])return 1;if(C[l]<T[l])return-1});let S=((C,T,j)=>{let M,k,N;return(R,z)=>(~C.indexOf(".")?(N=C.split("."),M=_.getIn(j[R],N,!0),k=_.getIn(j[z],N,!0)):(M=j[R][C],k=j[z][C]),Pi(M,k,T))})(l,i.desc,this.collection.data);return this.filteredrows.sort(S),this}compoundsort(l){if(l.length===0)throw new Error("Invalid call to compoundsort, need at least one property");let i;if(l.length===1)return i=l[0],Array.isArray(i)?this.simplesort(i[0],i[1]):this.simplesort(i,!1);for(let a=0,f=l.length;a<f;a+=1)i=l[a],Array.isArray(i)||(l[a]=[i,!1]);!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let n=((a,f)=>(p,g)=>jn(a,f[p],f[g]))(l,this.collection.data);return this.filteredrows.sort(n),this}findOr(l){let i=null,n=0,a=0,f=[],p=[],g=0;for(let S=0,C=l.length;S<C;S++)for(i=this.branch().find(l[S]).filteredrows,a=i.length,n=0;n<a;n++)g=i[n],p[g]===void 0&&(p[g]=!0,f.push(g));return this.filteredrows=f,this.filterInitialized=!0,this}findAnd(l){for(let i=0,n=l.length;i<n;i++){if(this.count()===0)return this;this.find(l[i])}return this}find(l,i){if(this.collection.data.length===0)return this.filteredrows=[],this.filterInitialized=!0,this;let n=l||"getAll",a,f,p,g,S,C,T,j=!1,M=[],k=[],N=null;if(i=i||!1,typeof n=="object"){for(a in n)g={},g[a]=n[a],k.push(g),ze.call(n,a)&&(f=a,p=n[a]);if(k.length>1)return this.find({$and:k},i)}if(!f||n==="getAll")return i&&(this.filterInitialized?this.filteredrows=this.filteredrows.slice(0,1):(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0)),this;if(f==="$and"||f==="$or")return this[f](p),i&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(p===null||typeof p!="object"||p instanceof Date)S="$eq",C=p;else if(typeof p=="object"){for(T in p)if(ze.call(p,T)){S=T,C=p[T];break}}else throw new Error("Do not know what you want to do.");(S==="$regex"||typeof C=="object")&&(C=Ei(S,C));let R=f.includes(".");!this.filterInitialized&&this.collection.binaryIndices[f]&&Yt[S]&&(this.collection.adaptiveBinaryIndices!==!0&&this.collection.ensureIndex(f),j=!0,N=this.collection.binaryIndices[f]),!j&&S==="$in"&&Array.isArray(C)&&typeof Set!="undefined"&&(C=new Set(C),S="$inSet");let Ce=we[S];if(typeof Ce!="function")throw new TypeError('"'+S+'" is not a valid operator');let Se=this.collection.data,Q=0,ye=0,Ie,o=0,he;if(this.filterInitialized){if(Ie=this.filteredrows,ye=Ie.length,R){for(f=f.split("."),Q=0;Q<ye;Q++)if(o=Ie[Q],he=Se[o],ft(he,f,Ce,C,he)&&(M.push(o),i))return this.filteredrows=M,this}else for(Q=0;Q<ye;Q++)if(o=Ie[Q],he=Se[o],Ce(he[f],C,he)&&(M.push(o),i))return this.filteredrows=M,this}else if(j){let ne=this.collection.calculateRange(S,f,C);if(S!=="$in"){for(Q=ne[0];Q<=ne[1];Q++)if(Yt[S]!==!0){if(Yt[S](_.getIn(Se[N.values[Q]],f,R),C)&&(M.push(N.values[Q]),i))return this.filteredrows=M,this.filterInitialized=!0,this}else if(M.push(N.values[Q]),i)return this.filteredrows=M,this.filterInitialized=!0,this}else for(Q=0,ye=ne.length;Q<ye;Q++)if(M.push(N.values[ne[Q]]),i)return this.filteredrows=M,this.filterInitialized=!0,this}else if(ye=Se.length,R){for(f=f.split("."),Q=0;Q<ye;Q++)if(he=Se[Q],ft(he,f,Ce,C,he)&&(M.push(Q),i))return this.filteredrows=M,this.filterInitialized=!0,this}else for(Q=0;Q<ye;Q++)if(he=Se[Q],Ce(he[f],C,he)&&(M.push(Q),i))return this.filteredrows=M,this.filterInitialized=!0,this;return this.filteredrows=M,this.filterInitialized=!0,this}where(l){let i,n=[];if(typeof l=="function")i=l;else throw new TypeError("Argument is not a stored view or a function");if(this.filterInitialized){let a=this.filteredrows.length;for(;a--;)i(this.collection.data[this.filteredrows[a]])===!0&&n.push(this.filteredrows[a]);return this.filteredrows=n,this}else{let a=this.collection.data.length;for(;a--;)i(this.collection.data[a])===!0&&n.push(a);return this.filteredrows=n,this.filterInitialized=!0,this}}count(){return this.filterInitialized?this.filteredrows.length:this.collection.count()}update(l){if(typeof l!="function")throw new TypeError("Argument is not a function");!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i,n=this.filteredrows.length,a=this.collection.data;for(let f=0;f<n;f++)!this.collection.disableFreeze||this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(i=oe(a[this.filteredrows[f]],this.collection.cloneMethod),l(i),this.collection.update(i)):(l(a[this.filteredrows[f]]),this.collection.update(a[this.filteredrows[f]]));return this}remove(){return!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this}mapReduce(l,i){return i(this.data().map(l))}eqJoin(l,i,n,a,f){let p=[],g=[],S,C=[],T=typeof i=="function",j=typeof n=="function",M={};p=this.data(f);let k=p.length;if(l instanceof Te)g=l.chain().data(f);else if(l instanceof ue){let R=new ue(new Te("")),z=l.data(f);R.rightData=l.data(f)}else if(Array.isArray(l))g=l;else throw new TypeError("joinData needs to be an array or result set");let N=g.length;for(let R=0;R<N;R++)S=j?n(g[R]):g[R][n],M[S]=g[R];a||(a=v((R,z)=>({left:R,right:z}),"mapFun"));for(let R=0;R<k;R++)S=T?i(p[R]):p[R][i],C.push(a(p[R],M[S]||{}));return this.collection=new Te("joinData"),this.collection.insert(C),this.filteredrows=[],this.filterInitialized=!1,this}data(l){var i=[],n=this.collection.data,a,f,p,g;if(l=l||{},l.removeMeta&&!l.forceClones&&(l.forceClones=!0,l.forceCloneMethod=l.forceCloneMethod||"shallow"),!this.collection.disableDeltaChangesApi&&this.collection.disableFreeze&&(l.forceClones=!0,l.forceCloneMethod="parse-stringify"),!this.filterInitialized)if(this.filteredrows.length===0)if(this.collection.cloneObjects||l.forceClones){for(f=n.length,g=l.forceCloneMethod||this.collection.cloneMethod,p=0;p<f;p++)a=oe(n[p],g),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);return i}else return n.slice();else this.filterInitialized=!0;var S=this.filteredrows;if(f=S.length,this.collection.cloneObjects||l.forceClones)for(g=l.forceCloneMethod||this.collection.cloneMethod,p=0;p<f;p++)a=oe(n[S[p]],g),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);else for(p=0;p<f;p++)i.push(n[S[p]]);return i}map(l,i){let n=this.data(i).map(l);return this.collection=new Te("mappedData"),this.collection.insert(n),this.filteredrows=[],this.filterInitialized=!1,this}};v(ue,"ResultSet");var Ue=class{constructor(){this.addListener=this.on;this.events={};this.asyncListeners=!1}on(l,i){let n;var a=this;return Array.isArray(l)?(l.forEach(f=>{this.on(f,i)}),i):(n=this.events[l],n||(n=this.events[l]=[]),n.push(i),i)}emit(l,i,n){let a;var f=this;if(l&&this.events[l])this.events[l].length&&(a=Array.prototype.slice.call(arguments,1),this.events[l].forEach(p=>{this.asyncListeners?setTimeout(()=>{p.apply(f,a)},1):p.apply(f,a)}));else throw new Error(`No event ${l} defined`)}removeListener(l,i){var n=this;if(Array.isArray(l)){l.forEach(a=>{this.removeListener(a,i)});return}if(this.events[l]){let a=this.events[l];a.splice(a.indexOf(i),1)}}};v(Ue,"SylvieEventEmitter");var Je=class extends Ue{constructor(i,n,a){super();this.collection=i,this.name=n,this.rebuildPending=!1,this.options=a||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new ue(i),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.collection.disableFreeze||Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[],filter:[],sort:[]}}getSort(){return this.sortFunction||this.sortCriteria||this.sortCriteriaSimple}rematerialize(i){let n,a,f;i=i||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new ue(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0);let p=Object.isFrozen(this.filterPipeline);if(i.hasOwnProperty("removeWhereFilters"))for(p&&(this.filterPipeline=this.filterPipeline.slice()),n=this.filterPipeline.length,a=n;a--;)this.filterPipeline[a].type==="where"&&(a!==this.filterPipeline.length-1&&(this.filterPipeline[a]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);let g=this.filterPipeline;for(this.filterPipeline=[],n=g.length,f=0;f<n;f++)this.applyFind(g[f].val,g[f].uid);return p&&Object.freeze(this.filterPipeline),this.data(),this.emit("rebuild",this),this}branchResultset(i,n){let a=this.resultset.branch();return typeof i=="undefined"?a:a.transform(i,n)}toJSON(){let i=new Je(this.collection,this.name,this.options);return i.resultset=this.resultset,i.resultdata=[],i.resultsdirty=!0,i.filterPipeline=this.filterPipeline,i.sortFunction=this.sortFunction,i.sortCriteria=this.sortCriteria,i.sortCriteriaSimple=this.sortCriteriaSimple||null,i.sortDirty=this.sortDirty,i.collection=null,i}removeFilters(i={}){this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null;let n=Object.isFrozen(this.filterPipeline),a=this.filterPipeline.length>0;this.filterPipeline=[],n&&Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,i.queueSortPhase===!0&&this.queueSortPhase(),a&&this.emit("filter")}applySort(i){return this.sortFunction=i,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this.emit("sort"),this}applySimpleSort(i,n){return this.sortCriteriaSimple={propname:i,options:n||!1},this.collection.disableFreeze||pe(this.sortCriteriaSimple),this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this}applySortCriteria(i){return this.sortCriteria=i,this.collection.disableFreeze||pe(this.sortCriteria),this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this}startTransaction(){return this.cachedresultset=this.resultset.copy(),this}commit(){return this.cachedresultset=null,this}rollback(){return this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this}_indexOfFilterWithId(i){if(typeof i=="string"||typeof i=="number"){for(let n=0,a=this.filterPipeline.length;n<a;n+=1)if(i===this.filterPipeline[n].uid)return n}return-1}_addFilter(i){let n=Object.isFrozen(this.filterPipeline);n&&(this.filterPipeline=this.filterPipeline.slice()),this.collection.disableFreeze||pe(i),this.filterPipeline.push(i),n&&Object.freeze(this.filterPipeline),this.resultset[i.type](i.val)}reapplyFilters(){this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);let i=this.filterPipeline,n=Object.isFrozen(i);this.filterPipeline=[];for(let a=0,f=i.length;a<f;a+=1)this._addFilter(i[a]);return n&&Object.freeze(this.filterPipeline),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this}applyFilter(i){let n=this._indexOfFilterWithId(i.uid);if(n>=0){let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline[n]=i,a&&(Ye(i),Object.freeze(this.filterPipeline)),this.reapplyFilters()}return this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(i),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this}applyFind(i,n){return this.applyFilter({type:"find",val:i,uid:n}),this}applyWhere(i,n){return this.applyFilter({type:"where",val:i,uid:n}),this}removeFilter(i){let n=this._indexOfFilterWithId(i);if(n<0)throw new Error(`Dynamic view does not contain a filter with ID: ${i}`);let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline.splice(n,1),a&&Object.freeze(this.filterPipeline),this.reapplyFilters(),this}count(){return this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()}data(i){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(i)}queueRebuildEvent(){if(this.rebuildPending)return;this.rebuildPending=!0;let i=this;setTimeout(()=>{i.rebuildPending&&(i.rebuildPending=!1,i.emit("rebuild",i))},this.options.minRebuildInterval)}queueSortPhase(){if(this.sortDirty)return;this.sortDirty=!0;let i=this;this.options.sortPriority==="active"?setTimeout(()=>{i.performSortPhase()},this.options.minRebuildInterval):this.queueRebuildEvent()}performSortPhase(i){!this.sortDirty&&!this.resultsdirty||(i=i||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),i.suppressRebuildEvent||this.emit("rebuild",this))}evaluateDocument(i,n){if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}let a=this.resultset.filteredrows,f=n?-1:a.indexOf(+i),p=a.length,g=new ue(this.collection);g.filteredrows=[i],g.filterInitialized=!0;let S;for(let T=0,j=this.filterPipeline.length;T<j;T++)S=this.filterPipeline[T],g[S.type](S.val);let C=g.filteredrows.length===0?-1:0;if(!(f===-1&&C===-1)){if(f===-1&&C!==-1){a.push(i),this.options.persistent&&this.resultdata.push(this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C===-1){f<p-1?(a.splice(f,1),this.options.persistent&&this.resultdata.splice(f,1)):(a.length=p-1,this.options.persistent&&(this.resultdata.length=p-1)),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C!==-1){this.options.persistent&&(this.resultdata[f]=this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}}}removeDocument(i){let n,a,f,p={},g={},S=[],C=this.resultset,T=this.resultset.filteredrows,j=T.length;if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}for(Array.isArray(i)||(i=[i]),f=i.length,a=0;a<f;a++)p[i[a]]=!0;for(n=0;n<j;n++)p[T[n]]&&(g[n]=!0);Object.keys(g).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter((k,N)=>!g[N]),this.options.persistent&&(this.resultdata=this.resultdata.filter((k,N)=>!g[N])),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());let M=v(k=>N=>N<C.filteredrows[k],"filt");for(j=C.filteredrows.length,n=0;n<j;n++)S=i.filter(M(n)),C.filteredrows[n]-=S.length}mapReduce(i,n){return n(this.data().map(i))}};v(Je,"DynamicView");var je,Mt=class{constructor(l){In(this,je,void 0);Di(this,je,Object.create(null)),this.field=l}set(l,i){lt(this,je)[l]?lt(this,je)[l].push(i):lt(this,je)[l]=[i]}remove(l,i){let n=lt(this,je)[l];for(let a in n)n[a]===i&&n.splice(parseInt(a),1);n.length<1&&(lt(this,je)[l]=void 0)}get(l){return lt(this,je)[l]}clear(){Di(this,je,{})}};v(Mt,"ExactIndex"),je=new WeakMap;var ct=class{constructor(l){this.field=l,this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}set(l){let i=l[this.field];if(i!==null&&typeof i!="undefined"){if(this.keyMap[i])throw new Error(`Duplicate key for property ${this.field}: ${i}`);this.keyMap[i]=l,this.lokiMap[l.$loki]=i}}get(l){return this.keyMap[l]}byId(l){return this.keyMap[this.lokiMap[l]]}update(l,i){if(this.lokiMap[l.$loki]!==i[this.field]){let n=this.lokiMap[l.$loki];this.set(i),this.keyMap[n]=void 0}else this.keyMap[l[this.field]]=i}remove(l){let i=this.keyMap[l];if(i!==null&&typeof i!="undefined")this.keyMap[l]=void 0,this.lokiMap[i.$loki]=void 0;else throw new Error(`Key is not in unique index: ${this.field}`)}clear(){this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}};v(ct,"UniqueIndex");ct.prototype.keyMap={};ct.prototype.lokiMap={};function Nn(h){return parseInt(h,10)}v(Nn,"parseBase10");var Te=class extends Ue{constructor(i,n){super();this.stages={};this.commitLog=[];this.configureOptions=v((i={})=>{i.hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=i.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},"configureOptions");this.count=v(i=>i?this.chain().find(i).filteredrows.length:this.data.length,"count");this.startTransaction=v(()=>{if(this.transactional){this.cachedData=oe(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices,this.cachedDirtyIds=this.dirtyIds;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].startTransaction()}},"startTransaction");this.commit=v(()=>{if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedDirtyIds=null;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].commit()}},"commit");this.rollback=v(()=>{if(this.transactional){this.cachedData!==null&&this.cachedIndex!==null&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex,this.dirtyIds=this.cachedDirtyIds);for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].rollback()}},"rollback");this.mapReduce=v((i,n)=>n(this.data.map(i)),"mapReduce");this.lokiConsoleWrapper={log(i){},warn(i){},error(i){}};this.name=i,this.data=[],this.idIndex=null,this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=i,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;let a=this;n=n||{},n.hasOwnProperty("unique")&&(Array.isArray(n.unique)||(n.unique=[n.unique]),n.unique.forEach(T=>{a.uniqueNames.push(T)})),n.hasOwnProperty("exact")&&n.exact.forEach(T=>{a.constraints.exact[T]=new Mt(T)}),this.adaptiveBinaryIndices=n.hasOwnProperty("adaptiveBinaryIndices")?n.adaptiveBinaryIndices:!0,this.transactional=n.hasOwnProperty("transactional")?n.transactional:!1,this.cloneObjects=n.hasOwnProperty("clone")?n.clone:!1,this.cloneMethod=n.hasOwnProperty("cloneMethod")?n.cloneMethod:"parse-stringify",this.asyncListeners=n.hasOwnProperty("asyncListeners")?n.asyncListeners:!1,this.disableMeta=n.hasOwnProperty("disableMeta")?n.disableMeta:!1,this.disableChangesApi=n.hasOwnProperty("disableChangesApi")?n.disableChangesApi:!0,this.disableDeltaChangesApi=n.hasOwnProperty("disableDeltaChangesApi")?n.disableDeltaChangesApi:!0,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=n.hasOwnProperty("autoupdate")?n.autoupdate:!1,this.serializableIndices=n.hasOwnProperty("serializableIndices")?n.serializableIndices:!0,this.disableFreeze=n.hasOwnProperty("disableFreeze")?n.disableFreeze:!0,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(n.ttl||-1,n.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.dirtyIds=[];let f=[];if(n&&n.indices)if(Object.prototype.toString.call(n.indices)==="[object Array]")f=n.indices;else if(typeof n.indices=="string")f=[n.indices];else throw new TypeError("Indices needs to be a string or an array of strings");for(let T=0;T<f.length;T++)this.ensureIndex(f[T]);function p(T){let j=new Set;j.add||(j.add=function(M){return this.includes(M)||this.push(M),this}),T.forEach(({object:M})=>{j.add(M)}),j.forEach(M=>{if(!ze.call(M,"$loki"))return a.removeAutoUpdateObserver(M);try{a.update(M)}catch(k){console.log(k)}})}v(p,"observerCallback"),this.observerCallback=p;function g(T,j){return j?S(j,T):JSON.parse(JSON.stringify(T))}v(g,"getChangeDelta"),this.getChangeDelta=g;function S(T,j){let M=j!==null&&typeof j=="object"?Object.keys(j):null;if(M&&M.length&&!["string","boolean","number"].includes(typeof j)){let k={};for(let N=0;N<M.length;N++){let R=M[N];if(j.hasOwnProperty(R))if(!T.hasOwnProperty(R)||a.uniqueNames.includes(R)||R=="$loki"||R=="meta")k[R]=j[R];else{let z=S(T[R],j[R]);typeof z!="undefined"&&(k[R]=z)}}return Object.keys(k).length===0?void 0:k}else return T===j?void 0:j}v(S,"getObjectDelta"),this.getObjectDelta=S;function C(){a.changes=[]}v(C,"flushChanges"),this.getChanges=()=>a.changes,this.flushChanges=C,this.setChangesApi=T=>{a.disableChangesApi=!T,T||(a.disableDeltaChangesApi=!1)},this.on("delete",v(function(j){a.disableChangesApi||a.createChange(a.name,"R",j)},"deleteCallback")),this.on("warning",T=>{a.lokiConsoleWrapper.warn(T)}),C()}createChange(i,n,a,f){this.changes.push({name:i,operation:n,obj:n=="U"&&!this.disableDeltaChangesApi?this.getChangeDelta(a,f):JSON.parse(JSON.stringify(a))})}insertMeta(i){let n,a;if(!(this.disableMeta||!i)){if(Array.isArray(i)){for(n=i.length,a=0;a<n;a++)i[a].hasOwnProperty("meta")||(i[a].meta={}),i[a].meta.created=new Date().getTime(),i[a].meta.revision=0;return}i.meta||(i.meta={}),i.meta.created=new Date().getTime(),i.meta.revision=0}}updateMeta(i){return this.disableMeta||!i||(this.disableFreeze||(i=Ze(i),i.meta=Ze(i.meta)),i.meta.updated=new Date().getTime(),i.meta.revision+=1),i}createInsertChange(i){this.createChange(this.name,"I",i)}createUpdateChange(i,n){this.createChange(this.name,"U",i,n)}insertMetaWithChange(i){this.insertMeta(i),this.createInsertChange(i)}updateMetaWithChange(i,n){return i=this.updateMeta(i),this.createUpdateChange(i,n),i}addAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.observe(i,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])}removeAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.unobserve(i,this.observerCallback)}addTransform(i,n){if(this.transforms.hasOwnProperty(i))throw new Error("a transform by that name already exists");this.transforms[i]=n}getTransform(i){return this.transforms[i]}setTransform(i,n){this.transforms[i]=n}removeTransform(i){delete this.transforms[i]}byExample(i){let n,a,f=[];for(n in i)i.hasOwnProperty(n)&&f.push((a={},a[n]=i[n],a));return{$and:f}}findObject(i){return this.findOne(this.byExample(i))}findObjects(i){return this.find(this.byExample(i))}ttlDaemonFuncGen(){let i=this,n=this.ttl.age;return v(function(){let f=Date.now();i.chain().where(v(function(S){let C=S.meta.updated||S.meta.created,T=f-C;return n<T},"daemonFilter")).remove()},"ttlDaemon")}setTTL(i,n){i<0?clearInterval(this.ttl.daemon):(this.ttl.age=i,this.ttl.ttlInterval=n,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),n))}prepareFullDocIndex(){let i=this.data.length,n=new Array(i);for(let a=0;a<i;a+=1)n[a]=a;return n}ensureIndex(i,n){if(typeof n=="undefined"&&(n=!1),i==null)throw new Error("Attempting to set index without an associated property");if(this.binaryIndices[i]&&!n&&!this.binaryIndices[i].dirty||this.adaptiveBinaryIndices===!0&&this.binaryIndices.hasOwnProperty(i)&&!n)return;let a={name:i,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[i]=a;let f=((p,g)=>{let S,C,T=~p.indexOf(".")?p.split("."):!1;return(j,M)=>{if(T?(S=_.getIn(g[j],T,!0),C=_.getIn(g[M],T,!0)):(S=g[j][p],C=g[M][p]),S!==C){if(K.lt(S,C,!1))return-1;if(K.gt(S,C,!1))return 1}return 0}})(i,this.data);a.values.sort(f),a.dirty=!1,this.dirty=!0}checkAllIndexes(i){let n,a=this.binaryIndices,f=[],p;for(n in a)ze.call(a,n)&&(p=this.checkIndex(n,i),p||f.push(n));return f}checkIndex(i,n={}){n.randomSamplingFactor&&n.randomSampling!==!1&&(n.randomSampling=!0),n.randomSamplingFactor=n.randomSamplingFactor||.1,(n.randomSamplingFactor<0||n.randomSamplingFactor>1)&&(n.randomSamplingFactor=.1);let a=!0,f,p,g;if(!this.binaryIndices.hasOwnProperty(i))throw new Error(`called checkIndex on property without an index: ${i}`);this.adaptiveBinaryIndices||this.ensureIndex(i);let S=this.binaryIndices[i].values,C=S.length;if(C!==this.data.length)return n.repair&&this.ensureIndex(i,!0),!1;if(C===0)return!0;let T=i.includes(".");if(C===1)a=S[0]===0;else if(n.randomSampling){if(we.$lte(_.getIn(this.data[S[0]],i,T),_.getIn(this.data[S[1]],i,T))||(a=!1),we.$lte(_.getIn(this.data[S[C-2]],i,T),_.getIn(this.data[S[C-1]],i,T))||(a=!1),a){for(p=Math.floor((C-1)*n.randomSamplingFactor),f=0;f<p-1;f++)if(g=Math.floor(Math.random()*(C-1)),!we.$lte(_.getIn(this.data[S[g]],i,T),_.getIn(this.data[S[g+1]],i,T))){a=!1;break}}}else for(f=0;f<C-1;f++)if(!we.$lte(_.getIn(this.data[S[f]],i,T),_.getIn(this.data[S[f+1]],i,T))){a=!1;break}return!a&&n.repair&&this.ensureIndex(i,!0),a}getBinaryIndexValues(i){let n,a=this.binaryIndices[i].values,f=[];for(n=0;n<a.length;n++)f.push(_.getIn(this.data[a[n]],i,!0));return f}getUniqueIndex(i,n){let a=this.constraints.unique[i];return!a&&n?this.ensureUniqueIndex(i):a}ensureUniqueIndex(i){let n=this.constraints.unique[i];return n||this.uniqueNames.includes(i)||this.uniqueNames.push(i),this.constraints.unique[i]=n=new ct(i),this.data.forEach(a=>{n.set(a)}),n}ensureAllIndexes(i){let n=this.binaryIndices;for(let a in n)ze.call(n,a)&&this.ensureIndex(a,i)}flagBinaryIndexesDirty(){let i=this.binaryIndices;for(let n in i)ze.call(i,n)&&(i[n].dirty=!0)}flagBinaryIndexDirty(i){this.binaryIndices[i]&&(this.binaryIndices[i].dirty=!0)}ensureId(){if(this.idIndex)return;let i=this.data,n=0,a=i.length,f=new Array(a);for(n;n<a;n++)f[n]=i[n].$loki;this.idIndex=f}ensureIdAsync(i){this.async(function(){this.ensureId()},i)}addDynamicView(i,n){let a=new Je(this,i,n);return this.DynamicViews.push(a),a}removeDynamicView(i){this.DynamicViews=this.DynamicViews.filter(n=>n.name!==i)}getDynamicView(i){for(let n=0;n<this.DynamicViews.length;n++)if(this.DynamicViews[n].name===i)return this.DynamicViews[n];return null}findAndUpdate(i,n){typeof i=="function"?this.updateWhere(i,n):this.chain().find(i).update(n)}findAndRemove(i){this.chain().find(i).remove()}insert(i,n){if(!Array.isArray(i))return this.insertOne(i);let a,f=[],p=n&&!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0;p&&(this.adaptiveBinaryIndices=!1);try{this.emit("pre-insert",i);for(let g=0,S=i.length;g<S;g++){if(a=this.insertOne(i[g],!0),!a)return;f.push(a)}}finally{p&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return this.emit("insert",f),f=this.cloneObjects?oe(f,this.cloneMethod):f,f.length===1?f[0]:f}insertOne(i,n){let a=null;if(typeof i!="object"?a=new TypeError("Document needs to be an object"):i===null&&(a=new TypeError("Object cannot be null")),a!==null)throw this.emit("error",a),a;let f=this.cloneObjects?oe(i,this.cloneMethod):i;if(this.disableFreeze||(f=Ze(f)),this.disableMeta||(typeof f.meta=="undefined"?f.meta={revision:0,created:0}:this.disableFreeze||(f.meta=Ze(f.meta))),n||this.emit("pre-insert",f),!this.add(f))return;this.disableChangesApi?this.insertMeta(f):this.insertMetaWithChange(f),this.disableFreeze||pe(f);let p=this.cloneObjects?oe(f,this.cloneMethod):f;return n||this.emit("insert",p),this.addAutoUpdateObserver(p),p}clear(i){let n=this;i=i||{},this.data=[],this.idIndex=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,this.constraints={unique:{},exact:{}},i.removeIndices===!0?(this.binaryIndices={},this.uniqueNames=[]):Object.keys(this.binaryIndices).forEach(f=>{n.binaryIndices[f].dirty=!1,n.binaryIndices[f].values=[]})}update(i){let n,a,f;if(Array.isArray(i)){f=i.length,n=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,n&&(this.adaptiveBinaryIndices=!1);try{for(a=0;a<f;a+=1)this.update(i[a])}finally{n&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return}if(!ze.call(i,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();let p=this.get(i.$loki,!0),g,S=this;if(!p)throw new Error("Trying to update a document not in collection.");let C=p[0],T=p[1];g=this.cloneObjects||!this.disableDeltaChangesApi&&this.disableFreeze?oe(i,this.cloneMethod):i,this.emit("pre-update",i),this.uniqueNames.forEach(k=>{S.getUniqueIndex(k,!0).update(C,g)}),this.data[T]=g,g!==i&&this.addAutoUpdateObserver(i);for(let k=0;k<this.DynamicViews.length;k++)this.DynamicViews[k].evaluateDocument(T,!1);let j;if(this.adaptiveBinaryIndices){let k=this.binaryIndices;for(j in k)this.adaptiveBinaryIndexUpdate(T,j)}else this.flagBinaryIndexesDirty();this.idIndex[T]=g.$loki,this.isIncremental&&this.dirtyIds.push(g.$loki),this.commit(),this.dirty=!0,this.disableChangesApi?g=this.updateMeta(g):g=this.updateMetaWithChange(g,C),this.disableFreeze||pe(g);let M;return this.cloneObjects?M=oe(g,this.cloneMethod):M=g,this.emit("update",M),M}catch(p){throw this.rollback(),this.lokiConsoleWrapper.error(p.message),this.emit("error",p),p}}add(i){if(typeof i!="object")throw new TypeError("Object being added needs to be an object");if(typeof i.$loki!="undefined")throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1);let f=this.maxId;i.$loki=f,this.disableMeta||(i.meta.version=0);for(var n=0,a=this.uniqueNames.length;n<a;n++)this.getUniqueIndex(this.uniqueNames[n],!0).set(i);this.idIndex&&this.idIndex.push(f),this.isIncremental&&this.dirtyIds.push(f),this.data.push(i);let p=this.data.length-1,g=this.DynamicViews.length;for(n=0;n<g;n++)this.DynamicViews[n].evaluateDocument(p,!0);if(this.adaptiveBinaryIndices){let S=this.binaryIndices;for(let C in S)this.adaptiveBinaryIndexInsert(p,C)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?oe(i,this.cloneMethod):i}catch(f){throw this.rollback(),this.lokiConsoleWrapper.error(f.message),this.emit("error",f),f}}updateWhere(i,n){let a=this.where(i),f=0,p;try{for(f;f<a.length;f++)p=n(a[f]),this.update(p)}catch(g){this.rollback(),this.lokiConsoleWrapper.error(g.message)}}removeWhere(i){let n;typeof i=="function"?(n=this.data.filter(i),this.remove(n)):this.chain().find(i).remove()}removeDataOnly(){this.remove(this.data.slice())}removeBatchByPositions(i){let n=i.length,a={},f,p,g,S=Object.keys(this.binaryIndices).length,C=Object.keys(this.constraints.unique).length,T=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,j,M=this;try{for(this.startTransaction(),this.ensureId(),g=0;g<n;g++)a[this.idIndex[i[g]]]=!0;if(f=this.DynamicViews.length,f>0||S>0||C>0){if(f>0)for(p=0;p<f;p++)this.DynamicViews[p].removeDocument(i);if(this.adaptiveBinaryIndices&&!T){let k,N=this.binaryIndices;for(k in N)this.adaptiveBinaryIndexRemove(i,k)}else this.flagBinaryIndexesDirty();C&&this.uniqueNames.forEach(k=>{let N=M.getUniqueIndex(k);if(N)for(g=0;g<n;g++)j=M.data[i[g]],j[k]!==null&&j[k]!==void 0&&N.remove(j[k])})}if(!this.disableChangesApi||this.events.delete.length>1)for(g=0;g<n;g++)this.emit("delete",this.data[i[g]]);if(this.data=this.data.filter(({$loki:k})=>!a[k]),this.isIncremental)for(g=0;g<n;g++)this.dirtyIds.push(this.idIndex[i[g]]);this.idIndex=this.idIndex.filter(k=>!a[k]),this.adaptiveBinaryIndices&&T&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(k){return this.rollback(),T&&(this.adaptiveBinaryIndices=!0),this.lokiConsoleWrapper.error(k.message),this.emit("error",k),null}}removeBatch(i){let n=i.length,a=this.data.length,f,p={},g=[];for(f=0;f<a;f++)p[this.data[f].$loki]=f;for(f=0;f<n;f++)typeof i[f]=="object"?g.push(p[i[f].$loki]):g.push(p[i[f]]);this.removeBatchByPositions(g)}remove(i){if(typeof i=="number"&&(i=this.get(i)),typeof i!="object")throw new Error("Parameter is not an object");if(Array.isArray(i)){this.removeBatch(i);return}if(!ze.call(i,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();let n=this.get(i.$loki,!0),a=n[1],f=this;this.uniqueNames.forEach(p=>{if(i[p]!==null&&typeof i[p]!="undefined"){let g=f.getUniqueIndex(p);g&&g.remove(i[p])}});for(let p=0;p<this.DynamicViews.length;p++)this.DynamicViews[p].removeDocument(a);if(this.adaptiveBinaryIndices){let p,g=this.binaryIndices;for(p in g)this.adaptiveBinaryIndexRemove(a,p)}else this.flagBinaryIndexesDirty();return this.data.splice(a,1),this.removeAutoUpdateObserver(i),this.idIndex.splice(a,1),this.isIncremental&&this.dirtyIds.push(i.$loki),this.commit(),this.dirty=!0,this.emit("delete",n[0]),this.disableFreeze||(i=Ze(i)),delete i.$loki,delete i.meta,this.disableFreeze||Ye(i),i}catch(n){return this.rollback(),this.lokiConsoleWrapper.error(n.message),this.emit("error",n),null}}get(i,n){this.idIndex||this.ensureId();let a=n||!1,f=this.idIndex,p=f.length-1,g=0,S=g+p>>1;if(i=typeof i=="number"?i:parseInt(i,10),isNaN(i))throw new TypeError("Passed id is not an integer");for(;f[g]<f[p];)S=g+p>>1,f[S]<i?g=S+1:p=S;return p===g&&f[g]===i?a?[this.data[g],g]:this.data[g]:null}getBinaryIndexPosition(i,n){let a=_.getIn(this.data[i],n,!0),f=this.binaryIndices[n].values,p=this.calculateRange("$eq",n,a);if(p[0]===0&&p[1]===-1)return null;let g=p[0],S=p[1];for(let C=g;C<=S;C++)if(f[C]===i)return C;return null}adaptiveBinaryIndexInsert(i,n){let a=n.includes("."),f=this.binaryIndices[n].values,p=_.getIn(this.data[i],n,a);this.serializableIndices===!0&&p instanceof Date&&(this.data[i][n]=p.getTime(),p=_.getIn(this.data[i],n));let g=f.length===0?0:this.calculateRangeStart(n,p,!0,a);this.binaryIndices[n].values.splice(g,0,i)}adaptiveBinaryIndexUpdate(i,n){let a,f=this.binaryIndices[n].values,p=f.length;for(a=0;a<p&&f[a]!==i;a++);this.binaryIndices[n].values.splice(a,1),this.adaptiveBinaryIndexInsert(i,n)}adaptiveBinaryIndexRemove(i,n,a){let f=this.binaryIndices[n],p,g,S,C,T={},j,M;if(Array.isArray(i))if(C=i.length,C===1)i=i[0];else{for(S=0;S<C;S++)T[i[S]]=!0;if(f.values=f.values.filter(R=>!T[R]),a===!0)return;let N=i.slice();for(N.sort((R,z)=>R-z),p=f.values.length,g=0;g<p;g++){for(j=f.values[g],M=0,S=0;S<C&&j>N[S];S++)M++;f.values[g]-=M}return}let k=this.getBinaryIndexPosition(i,n);if(k===null)return null;if(f.values.splice(k,1),a!==!0)for(p=f.values.length,g=0;g<p;g++)f.values[g]>i&&f.values[g]--}calculateRangeStart(i,n,a,f){let p=this.data,g=this.binaryIndices[i].values,S=0,C=g.length-1,T=0;if(g.length===0)return-1;for(;S<C;)T=S+C>>1,K.lt(_.getIn(p[g[T]],i,f),n,!1)?S=T+1:C=T;let j=S;return K.aeq(n,_.getIn(p[g[j]],i,f))?j:K.lt(n,_.getIn(p[g[j]],i,f),!1)?a?j:j-1:a?j+1:j}calculateRangeEnd(i,n,a){let f=this.data,p=this.binaryIndices[i].values,g=0,S=p.length-1,C=0;if(p.length===0)return-1;for(;g<S;)C=g+S>>1,K.lt(n,_.getIn(f[p[C]],i,a),!1)?S=C:g=C+1;let T=S;return K.aeq(n,_.getIn(f[p[T]],i,a))?T:K.gt(n,_.getIn(f[p[T]],i,a),!1)?T+1:K.aeq(n,_.getIn(f[p[T-1]],i,a))?T-1:T}calculateRange(i,n,a){let f=this.data,p=this.binaryIndices[n].values,g=0,S=p.length-1,C,T,j,M;if(f.length===0)return[0,-1];let k=n.includes("."),N=_.getIn(f[p[g]],n,k),R=_.getIn(f[p[S]],n,k);switch(i){case"$eq":case"$aeq":if(K.lt(a,N,!1)||K.gt(a,R,!1))return[0,-1];break;case"$dteq":if(K.lt(a,N,!1)||K.gt(a,R,!1))return[0,-1];break;case"$gt":if(K.gt(a,R,!0))return[0,-1];if(K.gt(N,a,!1))return[g,S];break;case"$gte":if(K.gt(a,R,!1))return[0,-1];if(K.gt(N,a,!0))return[g,S];break;case"$lt":if(K.lt(a,N,!0))return[0,-1];if(K.lt(R,a,!1))return[g,S];break;case"$lte":if(K.lt(a,N,!1))return[0,-1];if(K.lt(R,a,!0))return[g,S];break;case"$between":return K.gt(a[0],R,!1)?[0,-1]:K.lt(a[1],N,!1)?[0,-1]:(C=this.calculateRangeStart(n,a[0],!1,k),j=this.calculateRangeEnd(n,a[1],k),C<0&&C++,j>S&&j--,K.gt(_.getIn(f[p[C]],n,k),a[0],!0)||C++,K.lt(_.getIn(f[p[j]],n,k),a[1],!0)||j--,j<C?[0,-1]:[C,j]);case"$in":{let z=[],Ce=[];for(let Se=0,Q=a.length;Se<Q;Se++){let ye=this.calculateRange("$eq",n,a[Se]);for(let Ie=ye[0];Ie<=ye[1];Ie++)z[Ie]===void 0&&(z[Ie]=!0,Ce.push(Ie))}return Ce}}switch(i){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":C=this.calculateRangeStart(n,a,!1,k),T=_.getIn(f[p[C]],n,k);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":j=this.calculateRangeEnd(n,a,k),M=_.getIn(f[p[j]],n,k);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":return K.aeq(T,a)?[C,j]:[0,-1];case"$gt":return K.aeq(_.getIn(f[p[j]],n,k),a)?[j+1,S]:[j,S];case"$gte":return K.aeq(_.getIn(f[p[C]],n,k),a)?[C,S]:[C+1,S];case"$lt":return K.aeq(_.getIn(f[p[C]],n,k),a)?[g,C-1]:[g,C];case"$lte":return K.aeq(_.getIn(f[p[j]],n,k),a)?[g,j]:[g,j-1];default:return[0,f.length-1]}}by(i,n){let a;if(n===void 0)return a=this,p=>a.by(i,p);let f=this.getUniqueIndex(i,!0).get(n);return this.cloneObjects?oe(f,this.cloneMethod):f}findOne(i={}){let n=this.chain().find(i,!0).data();return Array.isArray(n)&&n.length===0?null:this.cloneObjects?oe(n[0],this.cloneMethod):n[0]}chain(i,n){let a=new ue(this);return typeof i=="undefined"?a:a.transform(i,n)}find(i){return this.chain().find(i).data()}findOneUnindexed(i,n){let a=this.data.length,f;for(;a--;)if(_.getIn(this.data[a],i,!0)===n)return f=this.data[a],f;return null}async(i,n){setTimeout(()=>{if(typeof i=="function")i(),n();else throw new TypeError("Argument passed for async execution is not a function")},0)}where(i){return this.chain().where(i).data()}eqJoin(i,n,a,f,p){return new ue(this).eqJoin(i,n,a,f,p)}getStage(i){return this.stages[i]||(this.stages[i]={}),this.stages[i]}stage(i,n){let a=JSON.parse(JSON.stringify(n));return this.getStage(i)[n.$loki]=a,a}commitStage(i,n){let a=this.getStage(i),f,p=new Date().getTime();for(f in a)this.update(a[f]),this.commitLog.push({timestamp:p,message:n,data:JSON.parse(JSON.stringify(a[f]))});this.stages[i]={}}extract(i){let n=0,a=this.data.length,f=Gt(i),p=[];for(n;n<a;n+=1)p.push(Ge(this.data[n],i,f));return p}max(i){return Math.max.apply(null,this.extract(i))}min(i){return Math.min.apply(null,this.extract(i))}maxRecord(i){let n=0,a=this.data.length,f=Gt(i),p={index:0,value:void 0},g;for(n;n<a;n+=1)g!==void 0?g<Ge(this.data[n],i,f)&&(g=Ge(this.data[n],i,f),p.index=this.data[n].$loki):(g=Ge(this.data[n],i,f),p.index=this.data[n].$loki);return p.value=g,p}minRecord(i){let n=0,a=this.data.length,f=Gt(i),p={index:0,value:void 0},g;for(n;n<a;n+=1)g!==void 0?g>Ge(this.data[n],i,f)&&(g=Ge(this.data[n],i,f),p.index=this.data[n].$loki):(g=Ge(this.data[n],i,f),p.index=this.data[n].$loki);return p.value=g,p}extractNumerical(i){return this.extract(i).map(Nn).filter(Number).filter(n=>!isNaN(n))}avg(i){return Qt(this.extractNumerical(i))}stdDev(i){return En(this.extractNumerical(i))}mode(i){let n={};this.extract(i).forEach(S=>{n[S]?n[S]+=1:n[S]=1});let f,p,g;for(p in n)f?f<n[p]&&(g=p):(g=p,f=n[p]);return g}median(i){let n=this.extractNumerical(i);n.sort(Pn);let a=Math.floor(n.length/2);return n.length%2?n[a]:(n[a-1]+n[a])/2}};v(Te,"Collection");function ji(h,l,i){for(var n=0,a=h.length,f,p;n<a;){if(p=n+a>>1,f=i.apply(null,[l,h[p]]),f===0)return{found:!0,index:p};f<0?a=p:n=p+1}return{found:!1,index:a}}v(ji,"binarySearch");function Ni(h){return function(l,i){return ji(l,i,h)}}v(Ni,"BSonSort");function $i(){}v($i,"KeyValueStore");$i.prototype={keys:[],values:[],sort(h,l){return h<l?-1:h>l?1:0},setSort(h){this.bs=Ni(h)},bs(){return Ni(this.sort)},set(h,l){let i=this.bs(this.keys,h);i.found?this.values[i.index]=l:(this.keys.splice(i.index,0,h),this.values.splice(i.index,0,l))},get(h){return this.values[ji(this.keys,h,this.sort).index]}};function Zt(){try{return window&&window.localStorage!==void 0&&window.localStorage!==null}catch(h){return!1}}v(Zt,"localStorageAvailable");var ht=class{exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){Zt()?i(localStorage.getItem(l)):i(new Error("localStorage is not available"))}saveDatabase(l,i,n){Zt()?(localStorage.setItem(l,i),n(null)):n(new Error("localStorage is not available"))}deleteDatabase(l,i){Zt()?(localStorage.removeItem(l),i(null)):i(new Error("localStorage is not available"))}};v(ht,"LocalStorageAdapter");var St=class{constructor(l){this.hashStore={},this.options=l||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.options.asyncResponses?setTimeout(()=>{n.hashStore.hasOwnProperty(l)?i(n.hashStore[l].value):i(null)},this.options.asyncTimeout):this.hashStore.hasOwnProperty(l)?i(this.hashStore[l].value):i(null)}saveDatabase(l,i,n){let a=this,f;this.options.asyncResponses?setTimeout(()=>{f=a.hashStore.hasOwnProperty(l)?a.hashStore[l].savecount:0,a.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n()},this.options.asyncTimeout):(f=this.hashStore.hasOwnProperty(l)?this.hashStore[l].savecount:0,this.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n())}deleteDatabase(l,i){this.hashStore.hasOwnProperty(l)&&delete this.hashStore[l],typeof i=="function"&&i()}};v(St,"MemoryAdapter");function tt(h,l){if(this.mode="reference",this.adapter=null,this.options=l||{},this.dbref=null,this.dbname="",this.pageIterator={},h){if(h.mode==="reference")throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=h}else throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=25*1024*1024),this.options.hasOwnProperty("delimiter")||(this.options.delimiter=`$<
`)}v(tt,"PartitioningAdapter");tt.prototype.loadDatabase=function(h,l){var i=this;this.dbname=h,this.dbref=new te(h),this.adapter.loadDatabase(h,function(n){if(!n){l(n);return}typeof n!="string"&&l(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var a=JSON.parse(n);if(i.dbref.loadJSONObject(a),a=null,i.dbref.collections.length===0){l(i.dbref);return}i.pageIterator={collection:0,pageIndex:0},i.loadNextPartition(0,function(){l(i.dbref)})})};tt.prototype.loadNextPartition=function(h,l){var i=this.dbname+"."+h,n=this;if(this.options.paging===!0){this.pageIterator.pageIndex=0,this.loadNextPage(l);return}this.adapter.loadDatabase(i,function(a){var f=n.dbref.deserializeCollection(a,{delimited:!0,collectionIndex:h});n.dbref.collections[h].data=f,++h<n.dbref.collections.length?n.loadNextPartition(h,l):l()})};tt.prototype.loadNextPage=function(h){var l=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,i=this;this.adapter.loadDatabase(l,function(n){var a=n.split(i.options.delimiter);n="";var f=a.length,p,g=a[f-1]==="";for(g&&(a.pop(),f=a.length,a[f-1]===""&&f===1&&(a.pop(),f=a.length)),p=0;p<f;p++)i.dbref.collections[i.pageIterator.collection].data.push(JSON.parse(a[p])),a[p]=null;a=[],g?++i.pageIterator.collection<i.dbref.collections.length?i.loadNextPartition(i.pageIterator.collection,h):h():(i.pageIterator.pageIndex++,i.loadNextPage(h))})};tt.prototype.exportDatabase=function(h,l,i){var n,a=l.collections.length;for(this.dbref=l,this.dbname=h,this.dirtyPartitions=[-1],n=0;n<a;n++)l.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition(function(f){i(f)})};tt.prototype.saveNextPartition=function(h){var l=this,i=this.dirtyPartitions.shift(),n=this.dbname+(i===-1?"":"."+i);if(this.options.paging&&i!==-1){this.pageIterator={collection:i,docIndex:0,pageIndex:0},this.saveNextPage(function(f){l.dirtyPartitions.length===0?h(f):l.saveNextPartition(h)});return}var a=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:i});this.adapter.saveDatabase(n,a,function(f){if(f){h(f);return}l.dirtyPartitions.length===0?h(null):l.saveNextPartition(h)})};tt.prototype.saveNextPage=function(h){var l=this,i=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,a=0,f=i.data.length,p=this.options.delimiter.length,g="",S="",C=!1,T=!1,j=v(function(k){S="",k&&h(k),C?h(null):(l.pageIterator.pageIndex++,l.saveNextPage(h))},"pageSaveCallback");i.data.length===0&&(C=!0);let M=!1;for(;!M;)C||(g=JSON.stringify(i.data[this.pageIterator.docIndex]),S+=g,a+=g.length,++this.pageIterator.docIndex>=f&&(C=!0)),a>=this.options.pageSize&&(T=!0),(!T||C)&&(S+=this.options.delimiter,a+=p),(C||T)&&(this.adapter.saveDatabase(n,S,j),M=!0)};var te=class extends Ue{constructor(i,n){super();this.filename=i||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=n&&Object.hasOwn(n,"verbose")?n.verbose:!1,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]};let a=v(()=>typeof global!="undefined"&&(global.android||global.NSObject)?"NATIVESCRIPT":typeof window=="undefined"||typeof global!="undefined"&&global.window&&typeof process!="undefined"?"NODEJS":typeof document!="undefined"?!document.URL.includes("http://")&&!document.URL.includes("https://")?"CORDOVA":"BROWSER":"CORDOVA","getENV");n&&Object.hasOwn(n,"env")?this.ENV=n.env:this.ENV=a(),this.ENV==="undefined"&&(this.ENV="NODEJS"),this.configureOptions(n,!0),this.on("init",this.clearChanges)}getIndexedAdapter(){let i;return typeof Ii=="function"&&(i=($n(),Qr(is))),i}configureOptions(i,n){let a={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"},f={fs:ut,localStorage:ht,memory:St};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,typeof i!="undefined"){if(this.options=i,Object.hasOwn(this.options,"persistenceMethod")&&typeof f[i.persistenceMethod]=="function"&&(this.persistenceMethod=i.persistenceMethod,this.persistenceAdapter=new f[i.persistenceMethod]),Object.hasOwn(this.options,"adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=i.adapter,this.options.adapter=null,this.isIncremental=this.persistenceAdapter.mode==="incremental"),i.autoload&&n){let p=this;setTimeout(()=>{p.loadDatabase(i,i.autoloadCallback)},1)}Object.hasOwn(this.options,"autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),Object.hasOwn(this.options,"autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,Object.hasOwn(this.options,"autosaveCallback")?this.autosaveEnable(i,i.autosaveCallback):this.autosaveEnable()),Object.hasOwn(this.options,"throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}Object.hasOwn(this.options,"serializationMethod")||(this.options.serializationMethod="normal"),Object.hasOwn(this.options,"destructureDelimiter")||(this.options.destructureDelimiter=`$<
`),this.persistenceAdapter===null&&(this.persistenceMethod=a[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new f[this.persistenceMethod]))}copy(i){let n=new te(this.filename,{env:"NA"}),a,f;if(i=i||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),i.hasOwnProperty("removeNonSerializable")&&i.removeNonSerializable===!0)for(n.autosaveHandle=null,n.persistenceAdapter=null,a=n.collections.length,f=0;f<a;f++)n.collections[f].constraints=null,n.collections[f].ttl=null;return n}addCollection(i,n){let a,f=this.collections.length;if(n&&n.disableMeta===!0){if(n.disableChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(n.disableDeltaChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if(typeof n.ttl=="number"&&n.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(a=0;a<f;a+=1)if(this.collections[a].name===i)return this.collections[a];let p=new Te(i,n);return p.isIncremental=this.isIncremental,this.collections.push(p),this.verbose&&(p.lokiConsoleWrapper=console),p}loadCollection(i){if(!i.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(i)}getCollection(i){let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i)return this.collections[n];return this.emit("warning",`collection ${i} not found`),null}renameCollection(i,n){let a=this.getCollection(i);return a&&(a.name=n),a}listCollections(){let i=this.collections.length,n=[];for(;i--;)n.push({name:this.collections[i].name,type:this.collections[i].objType,count:this.collections[i].data.length});return n}removeCollection(i){let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i){let f=new Te(i,{}),p=this.collections[n];for(let g in p)p.hasOwnProperty(g)&&f.hasOwnProperty(g)&&(p[g]=f[g]);this.collections.splice(n,1);return}}getName(){return this.name}serializeReplacer(i,n){switch(i){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;case"lokiConsoleWrapper":return null;default:return n}}serialize(i={}){switch(i.hasOwnProperty("serializationMethod")||(i.serializationMethod=this.options.serializationMethod),i.serializationMethod){case"normal":return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured();default:return JSON.stringify(this,this.serializeReplacer)}}serializeDestructured(i){let n,a,f,p,g=[],S;if(i=i||{},i.hasOwnProperty("partitioned")||(i.partitioned=!1),i.hasOwnProperty("delimited")||(i.delimited=!0),i.hasOwnProperty("delimiter")||(i.delimiter=this.options.destructureDelimiter),i.partitioned===!0&&i.hasOwnProperty("partition")&&i.partition>=0)return this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:i.partition});for(S=new te(this.filename),S.loadJSONObject(this),n=0;n<S.collections.length;n++)S.collections[n].data=[];if(i.partitioned===!0&&i.partition===-1)return S.serialize({serializationMethod:"normal"});for(g.push(S.serialize({serializationMethod:"normal"})),S=null,n=0;n<this.collections.length;n++)if(f=this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:n}),i.partitioned===!1&&i.delimited===!1){if(!Array.isArray(f))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(p=f.length,a=0;a<p;a++)g.push(f[a]),f[a]=null;g.push("")}else g.push(f);return i.partitioned?(i.delimited,g):i.delimited?(g.push(""),g.join(i.delimiter)):(g.push(""),g)}serializeCollection(i){let n,a=[];if(i=i||{},i.hasOwnProperty("delimited")||(i.delimited=!0),!i.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");let f=this.collections[i.collectionIndex].data.length;for(a=[],n=0;n<f;n++)a.push(JSON.stringify(this.collections[i.collectionIndex].data[n]));return i.delimited?(a.push(""),a.join(i.delimiter)):a}deserializeDestructured(i,n){let a=[],f,p,g=0,S,C=1,T=!1,j,M;if(n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.partitioned){if(n.hasOwnProperty("partition"))return n.partition===-1?(p=JSON.parse(i[0]),p):this.deserializeCollection(i[n.partition+1],n);for(p=JSON.parse(i[0]),S=p.collections.length,g=0;g<S;g++)p.collections[g].data=this.deserializeCollection(i[g+1],n);return p}if(n.delimited){if(a=i.split(n.delimiter),i=null,f=a.length,f===0)return null}else a=i;for(p=JSON.parse(a[0]),S=p.collections.length,a[0]=null;!T;)j=a[C],a[C]===""?++g>S&&(T=!0):(M=JSON.parse(a[C]),p.collections[g].data.push(M)),a[C++]=null;return p}deserializeCollection(i,n){let a=[],f;n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.delimited?(a=i.split(n.delimiter),a.pop()):a=i;let p=a.length;for(f=0;f<p;f++)a[f]=JSON.parse(a[f]);return a}loadJSON(i,n){let a;if(i.length===0)a={};else switch(this.options.serializationMethod){case"normal":case"pretty":a=JSON.parse(i);break;case"destructured":a=this.deserializeDestructured(i);break;default:a=JSON.parse(i);break}this.loadJSONObject(a,n)}loadJSONObject(i,n){let a=0,f=i.collections?i.collections.length:0,p,g,S,C,T,j;this.name=i.name,i.hasOwnProperty("throttledSaves")&&n&&!n.hasOwnProperty("throttledSaves")&&(this.throttledSaves=i.throttledSaves),this.collections=[];function M({name:k}){let N=n[k],R;return N.proto?(R=N.inflate||_.copyProperties,z=>{let Ce=new N.proto;return R(z,Ce),Ce}):N.inflate}for(v(M,"makeLoader"),a;a<f;a+=1){if(p=i.collections[a],g=this.addCollection(p.name,{disableChangesApi:p.disableChangesApi,disableDeltaChangesApi:p.disableDeltaChangesApi,disableMeta:p.disableMeta,disableFreeze:p.hasOwnProperty("disableFreeze")?p.disableFreeze:!0}),g.adaptiveBinaryIndices=p.hasOwnProperty("adaptiveBinaryIndices")?p.adaptiveBinaryIndices===!0:!1,g.transactional=p.transactional,g.asyncListeners=p.asyncListeners,g.cloneObjects=p.cloneObjects,g.cloneMethod=p.cloneMethod||"parse-stringify",g.autoupdate=p.autoupdate,g.changes=p.changes,g.dirtyIds=p.dirtyIds||[],n&&n.retainDirtyFlags===!0?g.dirty=p.dirty:g.dirty=!1,p.getData){if(n&&n.hasOwnProperty(p.name)||!g.disableFreeze||g.autoupdate)throw new Error(`this collection cannot be loaded lazily: ${p.name}`);g.getData=p.getData,Object.defineProperty(g,"data",{get(){let k=this.getData();return this.getData=null,Object.defineProperty(this,"data",{value:k}),k}})}else if(S=p.data.length,C=0,n&&n.hasOwnProperty(p.name))for(T=M(p),C;C<S;C++)j=T(p.data[C]),g.data[C]=j,g.addAutoUpdateObserver(j),g.disableFreeze||pe(g.data[C]);else for(C;C<S;C++)g.data[C]=p.data[C],g.addAutoUpdateObserver(g.data[C]),g.disableFreeze||pe(g.data[C]);if(g.maxId=typeof p.maxId=="undefined"?0:p.maxId,typeof p.binaryIndices!="undefined"&&(g.binaryIndices=p.binaryIndices),typeof p.transforms!="undefined"&&(g.transforms=p.transforms),g.uniqueNames=[],p.hasOwnProperty("uniqueNames")&&(g.uniqueNames=p.uniqueNames),typeof p.DynamicViews!="undefined"){for(let k=0;k<p.DynamicViews.length;k++){let N=p.DynamicViews[k],R=g.addDynamicView(N.name,N.options);R.resultdata=N.resultdata,R.resultsdirty=N.resultsdirty,R.filterPipeline=N.filterPipeline,R.sortCriteriaSimple=N.sortCriteriaSimple,R.sortCriteria=N.sortCriteria,R.sortFunction=null,R.sortDirty=N.sortDirty,g.disableFreeze||(pe(R.filterPipeline),R.sortCriteriaSimple?pe(R.sortCriteriaSimple):R.sortCriteria&&pe(R.sortCriteria)),R.resultset.filteredrows=N.resultset.filteredrows,R.resultset.filterInitialized=N.resultset.filterInitialized,R.rematerialize({removeWhereFilters:!0})}i.databaseVersion<1.5&&(g.ensureAllIndexes(!0),g.dirty=!0)}}}close(i){this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(i),i=void 0)),i&&this.on("close",i),this.emit("close")}generateChangesNotification(i){function n({name:p}){return p}v(n,"getCollName");let a=[],f=i||this.collections.map(n);return this.collections.forEach(p=>{f.includes(n(p))&&(a=a.concat(p.getChanges()))}),a}serializeChanges(i){return JSON.stringify(this.generateChangesNotification(i))}deserializeChanges(i){return JSON.parse(i)}clearChanges(){this.collections.forEach(i=>{i.flushChanges&&i.flushChanges()})}throttledSaveDrain(i,n){let a=this,f=new Date().getTime();if(this.throttledSaves||i(!0),n=n||{},n.hasOwnProperty("recursiveWait")||(n.recursiveWait=!0),n.hasOwnProperty("recursiveWaitLimit")||(n.recursiveWaitLimit=!1),n.hasOwnProperty("recursiveWaitLimitDuration")||(n.recursiveWaitLimitDuration=2e3),n.hasOwnProperty("started")||(n.started=new Date().getTime()),this.throttledSaves&&this.throttledSavePending)if(n.recursiveWait)this.throttledCallbacks.push(()=>{if(a.throttledSavePending){if(n.recursiveWaitLimit&&f-n.started>n.recursiveWaitLimitDuration){i(!1);return}a.throttledSaveDrain(i,n);return}else{i(!0);return}});else{this.throttledCallbacks.push(i);return}else i(!0)}loadDatabaseInternal(i,n){let a=n||(p=>{if(p)throw p}),f=this;this.persistenceAdapter!==null?this.persistenceAdapter.loadDatabase(this.filename,v(function(g){if(typeof g=="string"){let S=!1;try{f.loadJSON(g,i||{}),S=!0}catch(C){a(C)}S&&(a(null),f.emit("loaded",`database ${f.filename} loaded`))}else{if(!g){a(null),f.emit("loaded",`empty database ${f.filename} loaded`);return}if(g instanceof Error){a(g);return}if(typeof g=="object"){f.loadJSONObject(g,i||{}),a(null),f.emit("loaded",`database ${f.filename} loaded`);return}a(`unexpected adapter response : ${g}`)}},"loadDatabaseCallback")):a(new Error("persistenceAdapter not configured"))}loadDatabase(i,n){let a=this;if(!this.throttledSaves){this.loadDatabaseInternal(i,n);return}this.throttledSaveDrain(f=>{if(f){a.throttledSavePending=!0,a.loadDatabaseInternal(i,p=>{a.throttledCallbacks.length===0?a.throttledSavePending=!1:a.saveDatabase(),typeof n=="function"&&n(p)});return}else typeof n=="function"&&n(new Error("Unable to pause save throttling long enough to read database"))},i)}saveDatabaseInternal(i){let n=i||(f=>{if(f)throw f}),a=this;if(!this.persistenceAdapter){n(new Error("persistenceAdapter not configured"));return}if(this.persistenceAdapter.mode==="incremental"){let f;this.ignoreAutosave=!0,this.persistenceAdapter.saveDatabase(this.filename,v(function(){if(a.ignoreAutosave=!1,f){n(new Error("adapter error - getLokiCopy called more than once"));return}let g=a.copy({removeNonSerializable:!0});return f=a.collections.map(({dirty:S,dirtyIds:C})=>[S,C]),a.collections.forEach(S=>{S.dirty=!1,S.dirtyIds=[]}),g},"getLokiCopy"),v(function(g){a.ignoreAutosave=!1,g&&f&&a.collections.forEach((S,C)=>{let T=f[C];S.dirty=S.dirty||T[0],S.dirtyIds=S.dirtyIds.concat(T[1])}),n(g)},"exportDatabaseCallback"))}else this.persistenceAdapter.mode==="reference"&&typeof this.persistenceAdapter.exportDatabase=="function"?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),v(function(p){a.autosaveClearFlags(),n(p)},"exportDatabaseCallback")):(this.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,this.serialize(),v(function(p){n(p)},"saveDatabasecallback")))}saveDatabase(i){if(!this.throttledSaves){this.saveDatabaseInternal(i);return}if(this.throttledSavePending){this.throttledCallbacks.push(i);return}let n=this.throttledCallbacks;this.throttledCallbacks=[],n.unshift(i),this.throttledSavePending=!0;let a=this;this.saveDatabaseInternal(f=>{a.throttledSavePending=!1,n.forEach(p=>{typeof p=="function"&&setTimeout(()=>{p(f)},1)}),a.throttledCallbacks.length>0&&a.saveDatabase()})}deleteDatabase(i,n){let a=n||(f=>{if(f)throw f});typeof i=="function"&&!n&&(a=i),this.persistenceAdapter!==null?this.persistenceAdapter.deleteDatabase(this.filename,v(function(p){a(p)},"deleteDatabaseCallback")):a(new Error("persistenceAdapter not configured"))}autosaveDirty(){for(let i=0;i<this.collections.length;i++)if(this.collections[i].dirty)return!0;return!1}autosaveClearFlags(){for(let i=0;i<this.collections.length;i++)this.collections[i].dirty=!1}autosaveEnable(i,n){this.autosave=!0;let a=5e3,f=this;typeof this.autosaveInterval!="undefined"&&this.autosaveInterval!==null&&(a=this.autosaveInterval),this.autosaveHandle=setInterval(v(function(){f.autosaveDirty()&&!f.ignoreAutosave&&f.saveDatabase(n)},"autosaveHandleInterval"),a)}autosaveDisable(){typeof this.autosaveHandle!="undefined"&&this.autosaveHandle!==null&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)}};v(te,"Sylvie");te.prototype.toJson=te.prototype.serialize;te.prototype.save=te.prototype.saveDatabase;te.deepFreeze=pe;te.freeze=Ye;te.unFreeze=Ze;te.LokiOps=we;te.Collection=Te;te.DynamicView=Je;te.Resultset=ue;te.KeyValueStore=$i;te.LokiMemoryAdapter=St;te.LokiPartitioningAdapter=tt;te.LokiLocalStorageAdapter=ht;te.LokiFsAdapter=ut;te.persistenceAdapters={fs:ut,localStorage:ht};te.aeq=Ai;te.lt=Ti;te.gt=ki;te.Comparators=K;var ze=Object.prototype.hasOwnProperty;typeof window!="undefined"&&Object.assign(window,{loki:te,Sylvie:te});var lo=te;export{lo as default,ze as hasOwnProperty};
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)
*/
//# sourceMappingURL=sylviejs.js.map
