"use strict";(()=>{var Lr=Object.create;var Nt=Object.defineProperty;var Mr=Object.getOwnPropertyDescriptor;var Rr=Object.getOwnPropertyNames;var Fr=Object.getPrototypeOf,zr=Object.prototype.hasOwnProperty;var y=(p,l)=>Nt(p,"name",{value:l,configurable:!0}),Ci=(p=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(p,{get:(l,i)=>(typeof require<"u"?require:l)[i]}):p)(function(p){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+p+'" is not supported')});var Br=(p,l)=>()=>(p&&(l=p(p=0)),l);var Hr=(p,l)=>()=>(l||p((l={exports:{}}).exports,l),l.exports),Wr=(p,l)=>{for(var i in l)Nt(p,i,{get:l[i],enumerable:!0})},vn=(p,l,i,n)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of Rr(l))!zr.call(p,a)&&a!==i&&Nt(p,a,{get:()=>l[a],enumerable:!(n=Mr(l,a))||n.enumerable});return p};var Vr=(p,l,i)=>(i=p!=null?Lr(Fr(p)):{},vn(l||!p||!p.__esModule?Nt(i,"default",{value:p,enumerable:!0}):i,p)),_r=p=>vn(Nt({},"__esModule",{value:!0}),p);var wn=Hr((xn,Jt)=>{(function(p,l){"use strict";typeof Jt=="object"&&typeof Jt.exports=="object"?Jt.exports=p.document?l(p,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return l(i)}:l(p)})(typeof window<"u"?window:xn,function(p,l){"use strict";var i=[],n=Object.getPrototypeOf,a=i.slice,f=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},h=i.push,g=i.indexOf,S={},C=S.toString,A=S.hasOwnProperty,j=A.toString,L=j.call(Object),T={},N=y(function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},"isFunction"),M=y(function(t){return t!=null&&t===t.window},"isWindow"),z=p.document,Ce={type:!0,src:!0,nonce:!0,noModule:!0};function Se(e,t,r){r=r||z;var s,u,c=r.createElement("script");if(c.text=e,t)for(s in Ce)u=t[s]||t.getAttribute&&t.getAttribute(s),u&&c.setAttribute(s,u);r.head.appendChild(c).parentNode.removeChild(c)}y(Se,"DOMEval");function Q(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?S[C.call(e)]||"object":typeof e}y(Q,"toType");var ye="3.7.0",Ie=/HTML$/i,o=y(function(e,t){return new o.fn.init(e,t)},"jQuery");o.fn=o.prototype={jquery:ye,constructor:o,length:0,toArray:function(){return a.call(this)},get:function(e){return e==null?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=o.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return o.each(this,e)},map:function(e){return this.pushStack(o.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:i.sort,splice:i.splice},o.extend=o.fn.extend=function(){var e,t,r,s,u,c,d=arguments[0]||{},v=1,b=arguments.length,w=!1;for(typeof d=="boolean"&&(w=d,d=arguments[v]||{},v++),typeof d!="object"&&!N(d)&&(d={}),v===b&&(d=this,v--);v<b;v++)if((e=arguments[v])!=null)for(t in e)s=e[t],!(t==="__proto__"||d===s)&&(w&&s&&(o.isPlainObject(s)||(u=Array.isArray(s)))?(r=d[t],u&&!Array.isArray(r)?c=[]:!u&&!o.isPlainObject(r)?c={}:c=r,u=!1,d[t]=o.extend(w,c,s)):s!==void 0&&(d[t]=s));return d},o.extend({expando:"jQuery"+(ye+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!e||C.call(e)!=="[object Object]"?!1:(t=n(e),t?(r=A.call(t,"constructor")&&t.constructor,typeof r=="function"&&j.call(r)===L):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){Se(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,s=0;if(de(e))for(r=e.length;s<r&&t.call(e[s],s,e[s])!==!1;s++);else for(s in e)if(t.call(e[s],s,e[s])===!1)break;return e},text:function(e){var t,r="",s=0,u=e.nodeType;if(u){if(u===1||u===9||u===11)return e.textContent;if(u===3||u===4)return e.nodeValue}else for(;t=e[s++];)r+=o.text(t);return r},makeArray:function(e,t){var r=t||[];return e!=null&&(de(Object(e))?o.merge(r,typeof e=="string"?[e]:e):h.call(r,e)),r},inArray:function(e,t,r){return t==null?-1:g.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Ie.test(t||r&&r.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,s=0,u=e.length;s<r;s++)e[u++]=t[s];return e.length=u,e},grep:function(e,t,r){for(var s,u=[],c=0,d=e.length,v=!r;c<d;c++)s=!t(e[c],c),s!==v&&u.push(e[c]);return u},map:function(e,t,r){var s,u,c=0,d=[];if(de(e))for(s=e.length;c<s;c++)u=t(e[c],c,r),u!=null&&d.push(u);else for(c in e)u=t(e[c],c,r),u!=null&&d.push(u);return f(d)},guid:1,support:T}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=i[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){S["[object "+t+"]"]=t.toLowerCase()});function de(e){var t=!!e&&"length"in e&&e.length,r=Q(e);return N(e)||M(e)?!1:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}y(de,"isArrayLike");function ne(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}y(ne,"nodeName");var Pn=i.pop,En=i.sort,jn=i.splice,re="[\\x20\\t\\r\\n\\f]",Ct=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g");o.contains=function(e,t){var r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(e.contains?e.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))};var Nn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function qn(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}y(qn,"fcssescape"),o.escapeSelector=function(e){return(e+"").replace(Nn,qn)};var ze=z,Yt=h;(function(){var e,t,r,s,u,c=Yt,d,v,b,w,k,E=o.expando,D=0,q=0,U=Ht(),ee=Ht(),X=Ht(),ce=Ht(),fe=y(function(m,x){return m===x&&(u=!0),0},"sortOrder"),qe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",$e="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Z="\\["+re+"*("+$e+")(?:"+re+"*([*^$|!~]?=)"+re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+$e+"))|)"+re+"*\\]",st=":("+$e+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Z+")*)|.*)\\)|)",ie=new RegExp(re+"+","g"),le=new RegExp("^"+re+"*,"+re+"*"),Et=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),gi=new RegExp(re+"|>"),Le=new RegExp(st),jt=new RegExp("^"+$e+"$"),Me={ID:new RegExp("^#("+$e+")"),CLASS:new RegExp("^\\.("+$e+")"),TAG:new RegExp("^("+$e+"|[*])"),ATTR:new RegExp("^"+Z),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+qe+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},Je=/^(?:input|select|textarea|button)$/i,Ke=/^h\d$/i,Oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yi=/[+~]/,We=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Ve=y(function(m,x){var I="0x"+m.slice(1)-65536;return x||(I<0?String.fromCharCode(I+65536):String.fromCharCode(I>>10|55296,I&1023|56320))},"funescape"),Tr=y(function(){Xe()},"unloadHandler"),Pr=_t(function(m){return m.disabled===!0&&ne(m,"fieldset")},{dir:"parentNode",next:"legend"});function Er(){try{return d.activeElement}catch{}}y(Er,"safeActiveElement");try{c.apply(i=a.call(ze.childNodes),ze.childNodes),i[ze.childNodes.length].nodeType}catch{c={apply:function(x,I){Yt.apply(x,a.call(I))},call:function(x){Yt.apply(x,a.call(arguments,1))}}}function se(m,x,I,O){var P,$,R,B,F,G,V,J=x&&x.ownerDocument,Y=x?x.nodeType:9;if(I=I||[],typeof m!="string"||!m||Y!==1&&Y!==9&&Y!==11)return I;if(!O&&(Xe(x),x=x||d,b)){if(Y!==11&&(F=Oe.exec(m)))if(P=F[1]){if(Y===9)if(R=x.getElementById(P)){if(R.id===P)return c.call(I,R),I}else return I;else if(J&&(R=J.getElementById(P))&&se.contains(x,R)&&R.id===P)return c.call(I,R),I}else{if(F[2])return c.apply(I,x.getElementsByTagName(m)),I;if((P=F[3])&&x.getElementsByClassName)return c.apply(I,x.getElementsByClassName(P)),I}if(!ce[m+" "]&&(!w||!w.test(m))){if(V=m,J=x,Y===1&&(gi.test(m)||Et.test(m))){for(J=yi.test(m)&&mi(x.parentNode)||x,(J!=x||!T.scope)&&((B=x.getAttribute("id"))?B=o.escapeSelector(B):x.setAttribute("id",B=E)),G=Wt(m),$=G.length;$--;)G[$]=(B?"#"+B:":scope")+" "+Vt(G[$]);V=G.join(",")}try{return c.apply(I,J.querySelectorAll(V)),I}catch{ce(m,!0)}finally{B===E&&x.removeAttribute("id")}}}return bn(m.replace(Ct,"$1"),x,I,O)}y(se,"find");function Ht(){var m=[];function x(I,O){return m.push(I+" ")>t.cacheLength&&delete x[m.shift()],x[I+" "]=O}return y(x,"cache"),x}y(Ht,"createCache");function Ee(m){return m[E]=!0,m}y(Ee,"markFunction");function vt(m){var x=d.createElement("fieldset");try{return!!m(x)}catch{return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}y(vt,"assert");function jr(m){return function(x){return ne(x,"input")&&x.type===m}}y(jr,"createInputPseudo");function Nr(m){return function(x){return(ne(x,"input")||ne(x,"button"))&&x.type===m}}y(Nr,"createButtonPseudo");function yn(m){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===m:x.disabled===m:x.isDisabled===m||x.isDisabled!==!m&&Pr(x)===m:x.disabled===m:"label"in x?x.disabled===m:!1}}y(yn,"createDisabledPseudo");function at(m){return Ee(function(x){return x=+x,Ee(function(I,O){for(var P,$=m([],I.length,x),R=$.length;R--;)I[P=$[R]]&&(I[P]=!(O[P]=I[P]))})})}y(at,"createPositionalPseudo");function mi(m){return m&&typeof m.getElementsByTagName<"u"&&m}y(mi,"testContext");function Xe(m){var x,I=m?m.ownerDocument||m:ze;return I==d||I.nodeType!==9||!I.documentElement||(d=I,v=d.documentElement,b=!o.isXMLDoc(d),k=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,ze!=d&&(x=d.defaultView)&&x.top!==x&&x.addEventListener("unload",Tr),T.getById=vt(function(O){return v.appendChild(O).id=o.expando,!d.getElementsByName||!d.getElementsByName(o.expando).length}),T.disconnectedMatch=vt(function(O){return k.call(O,"*")}),T.scope=vt(function(){return d.querySelectorAll(":scope")}),T.cssHas=vt(function(){try{return d.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(t.filter.ID=function(O){var P=O.replace(We,Ve);return function($){return $.getAttribute("id")===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&b){var $=P.getElementById(O);return $?[$]:[]}}):(t.filter.ID=function(O){var P=O.replace(We,Ve);return function($){var R=typeof $.getAttributeNode<"u"&&$.getAttributeNode("id");return R&&R.value===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&b){var $,R,B,F=P.getElementById(O);if(F){if($=F.getAttributeNode("id"),$&&$.value===O)return[F];for(B=P.getElementsByName(O),R=0;F=B[R++];)if($=F.getAttributeNode("id"),$&&$.value===O)return[F]}return[]}}),t.find.TAG=function(O,P){return typeof P.getElementsByTagName<"u"?P.getElementsByTagName(O):P.querySelectorAll(O)},t.find.CLASS=function(O,P){if(typeof P.getElementsByClassName<"u"&&b)return P.getElementsByClassName(O)},w=[],vt(function(O){var P;v.appendChild(O).innerHTML="<a id='"+E+"' href='' disabled='disabled'></a><select id='"+E+"-\r\\' disabled='disabled'><option selected=''></option></select>",O.querySelectorAll("[selected]").length||w.push("\\["+re+"*(?:value|"+qe+")"),O.querySelectorAll("[id~="+E+"-]").length||w.push("~="),O.querySelectorAll("a#"+E+"+*").length||w.push(".#.+[+~]"),O.querySelectorAll(":checked").length||w.push(":checked"),P=d.createElement("input"),P.setAttribute("type","hidden"),O.appendChild(P).setAttribute("name","D"),v.appendChild(O).disabled=!0,O.querySelectorAll(":disabled").length!==2&&w.push(":enabled",":disabled"),P=d.createElement("input"),P.setAttribute("name",""),O.appendChild(P),O.querySelectorAll("[name='']").length||w.push("\\["+re+"*name"+re+"*="+re+`*(?:''|"")`)}),T.cssHas||w.push(":has"),w=w.length&&new RegExp(w.join("|")),fe=y(function(O,P){if(O===P)return u=!0,0;var $=!O.compareDocumentPosition-!P.compareDocumentPosition;return $||($=(O.ownerDocument||O)==(P.ownerDocument||P)?O.compareDocumentPosition(P):1,$&1||!T.sortDetached&&P.compareDocumentPosition(O)===$?O===d||O.ownerDocument==ze&&se.contains(ze,O)?-1:P===d||P.ownerDocument==ze&&se.contains(ze,P)?1:s?g.call(s,O)-g.call(s,P):0:$&4?-1:1)},"sortOrder")),d}y(Xe,"setDocument"),se.matches=function(m,x){return se(m,null,null,x)},se.matchesSelector=function(m,x){if(Xe(m),b&&!ce[x+" "]&&(!w||!w.test(x)))try{var I=k.call(m,x);if(I||T.disconnectedMatch||m.document&&m.document.nodeType!==11)return I}catch{ce(x,!0)}return se(x,d,null,[m]).length>0},se.contains=function(m,x){return(m.ownerDocument||m)!=d&&Xe(m),o.contains(m,x)},se.attr=function(m,x){(m.ownerDocument||m)!=d&&Xe(m);var I=t.attrHandle[x.toLowerCase()],O=I&&A.call(t.attrHandle,x.toLowerCase())?I(m,x,!b):void 0;return O!==void 0?O:m.getAttribute(x)},se.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},o.uniqueSort=function(m){var x,I=[],O=0,P=0;if(u=!T.sortStable,s=!T.sortStable&&a.call(m,0),En.call(m,fe),u){for(;x=m[P++];)x===m[P]&&(O=I.push(P));for(;O--;)jn.call(m,I[O],1)}return s=null,m},o.fn.uniqueSort=function(){return this.pushStack(o.uniqueSort(a.apply(this)))},t=o.expr={cacheLength:50,createPseudo:Ee,match:Me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(We,Ve),m[3]=(m[3]||m[4]||m[5]||"").replace(We,Ve),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||se.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&se.error(m[0]),m},PSEUDO:function(m){var x,I=!m[6]&&m[2];return Me.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":I&&Le.test(I)&&(x=Wt(I,!0))&&(x=I.indexOf(")",I.length-x)-I.length)&&(m[0]=m[0].slice(0,x),m[2]=I.slice(0,x)),m.slice(0,3))}},filter:{TAG:function(m){var x=m.replace(We,Ve).toLowerCase();return m==="*"?function(){return!0}:function(I){return ne(I,x)}},CLASS:function(m){var x=U[m+" "];return x||(x=new RegExp("(^|"+re+")"+m+"("+re+"|$)"))&&U(m,function(I){return x.test(typeof I.className=="string"&&I.className||typeof I.getAttribute<"u"&&I.getAttribute("class")||"")})},ATTR:function(m,x,I){return function(O){var P=se.attr(O,m);return P==null?x==="!=":x?(P+="",x==="="?P===I:x==="!="?P!==I:x==="^="?I&&P.indexOf(I)===0:x==="*="?I&&P.indexOf(I)>-1:x==="$="?I&&P.slice(-I.length)===I:x==="~="?(" "+P.replace(ie," ")+" ").indexOf(I)>-1:x==="|="?P===I||P.slice(0,I.length+1)===I+"-":!1):!0}},CHILD:function(m,x,I,O,P){var $=m.slice(0,3)!=="nth",R=m.slice(-4)!=="last",B=x==="of-type";return O===1&&P===0?function(F){return!!F.parentNode}:function(F,G,V){var J,Y,W,ae,xe,he=$!==R?"nextSibling":"previousSibling",ke=F.parentNode,Re=B&&F.nodeName.toLowerCase(),xt=!V&&!B,ge=!1;if(ke){if($){for(;he;){for(W=F;W=W[he];)if(B?ne(W,Re):W.nodeType===1)return!1;xe=he=m==="only"&&!xe&&"nextSibling"}return!0}if(xe=[R?ke.firstChild:ke.lastChild],R&&xt){for(Y=ke[E]||(ke[E]={}),J=Y[m]||[],ae=J[0]===D&&J[1],ge=ae&&J[2],W=ae&&ke.childNodes[ae];W=++ae&&W&&W[he]||(ge=ae=0)||xe.pop();)if(W.nodeType===1&&++ge&&W===F){Y[m]=[D,ae,ge];break}}else if(xt&&(Y=F[E]||(F[E]={}),J=Y[m]||[],ae=J[0]===D&&J[1],ge=ae),ge===!1)for(;(W=++ae&&W&&W[he]||(ge=ae=0)||xe.pop())&&!((B?ne(W,Re):W.nodeType===1)&&++ge&&(xt&&(Y=W[E]||(W[E]={}),Y[m]=[D,ge]),W===F)););return ge-=P,ge===O||ge%O===0&&ge/O>=0}}},PSEUDO:function(m,x){var I,O=t.pseudos[m]||t.setFilters[m.toLowerCase()]||se.error("unsupported pseudo: "+m);return O[E]?O(x):O.length>1?(I=[m,m,"",x],t.setFilters.hasOwnProperty(m.toLowerCase())?Ee(function(P,$){for(var R,B=O(P,x),F=B.length;F--;)R=g.call(P,B[F]),P[R]=!($[R]=B[F])}):function(P){return O(P,0,I)}):O}},pseudos:{not:Ee(function(m){var x=[],I=[],O=wi(m.replace(Ct,"$1"));return O[E]?Ee(function(P,$,R,B){for(var F,G=O(P,null,B,[]),V=P.length;V--;)(F=G[V])&&(P[V]=!($[V]=F))}):function(P,$,R){return x[0]=P,O(x,null,R,I),x[0]=null,!I.pop()}}),has:Ee(function(m){return function(x){return se(m,x).length>0}}),contains:Ee(function(m){return m=m.replace(We,Ve),function(x){return(x.textContent||o.text(x)).indexOf(m)>-1}}),lang:Ee(function(m){return jt.test(m||"")||se.error("unsupported lang: "+m),m=m.replace(We,Ve).toLowerCase(),function(x){var I;do if(I=b?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return I=I.toLowerCase(),I===m||I.indexOf(m+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(m){var x=p.location&&p.location.hash;return x&&x.slice(1)===m.id},root:function(m){return m===v},focus:function(m){return m===Er()&&d.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:yn(!1),disabled:yn(!0),checked:function(m){return ne(m,"input")&&!!m.checked||ne(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!t.pseudos.empty(m)},header:function(m){return Ke.test(m.nodeName)},input:function(m){return Je.test(m.nodeName)},button:function(m){return ne(m,"input")&&m.type==="button"||ne(m,"button")},text:function(m){var x;return ne(m,"input")&&m.type==="text"&&((x=m.getAttribute("type"))==null||x.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(m,x){return[x-1]}),eq:at(function(m,x,I){return[I<0?I+x:I]}),even:at(function(m,x){for(var I=0;I<x;I+=2)m.push(I);return m}),odd:at(function(m,x){for(var I=1;I<x;I+=2)m.push(I);return m}),lt:at(function(m,x,I){var O;for(I<0?O=I+x:I>x?O=x:O=I;--O>=0;)m.push(O);return m}),gt:at(function(m,x,I){for(var O=I<0?I+x:I;++O<x;)m.push(O);return m})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=jr(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Nr(e);function mn(){}y(mn,"setFilters"),mn.prototype=t.filters=t.pseudos,t.setFilters=new mn;function Wt(m,x){var I,O,P,$,R,B,F,G=ee[m+" "];if(G)return x?0:G.slice(0);for(R=m,B=[],F=t.preFilter;R;){(!I||(O=le.exec(R)))&&(O&&(R=R.slice(O[0].length)||R),B.push(P=[])),I=!1,(O=Et.exec(R))&&(I=O.shift(),P.push({value:I,type:O[0].replace(Ct," ")}),R=R.slice(I.length));for($ in t.filter)(O=Me[$].exec(R))&&(!F[$]||(O=F[$](O)))&&(I=O.shift(),P.push({value:I,type:$,matches:O}),R=R.slice(I.length));if(!I)break}return x?R.length:R?se.error(m):ee(m,B).slice(0)}y(Wt,"tokenize");function Vt(m){for(var x=0,I=m.length,O="";x<I;x++)O+=m[x].value;return O}y(Vt,"toSelector");function _t(m,x,I){var O=x.dir,P=x.next,$=P||O,R=I&&$==="parentNode",B=q++;return x.first?function(F,G,V){for(;F=F[O];)if(F.nodeType===1||R)return m(F,G,V);return!1}:function(F,G,V){var J,Y,W=[D,B];if(V){for(;F=F[O];)if((F.nodeType===1||R)&&m(F,G,V))return!0}else for(;F=F[O];)if(F.nodeType===1||R)if(Y=F[E]||(F[E]={}),P&&ne(F,P))F=F[O]||F;else{if((J=Y[$])&&J[0]===D&&J[1]===B)return W[2]=J[2];if(Y[$]=W,W[2]=m(F,G,V))return!0}return!1}}y(_t,"addCombinator");function bi(m){return m.length>1?function(x,I,O){for(var P=m.length;P--;)if(!m[P](x,I,O))return!1;return!0}:m[0]}y(bi,"elementMatcher");function qr(m,x,I){for(var O=0,P=x.length;O<P;O++)se(m,x[O],I);return I}y(qr,"multipleContexts");function Ut(m,x,I,O,P){for(var $,R=[],B=0,F=m.length,G=x!=null;B<F;B++)($=m[B])&&(!I||I($,O,P))&&(R.push($),G&&x.push(B));return R}y(Ut,"condense");function vi(m,x,I,O,P,$){return O&&!O[E]&&(O=vi(O)),P&&!P[E]&&(P=vi(P,$)),Ee(function(R,B,F,G){var V,J,Y,W,ae=[],xe=[],he=B.length,ke=R||qr(x||"*",F.nodeType?[F]:F,[]),Re=m&&(R||!x)?Ut(ke,ae,m,F,G):ke;if(I?(W=P||(R?m:he||O)?[]:B,I(Re,W,F,G)):W=Re,O)for(V=Ut(W,xe),O(V,[],F,G),J=V.length;J--;)(Y=V[J])&&(W[xe[J]]=!(Re[xe[J]]=Y));if(R){if(P||m){if(P){for(V=[],J=W.length;J--;)(Y=W[J])&&V.push(Re[J]=Y);P(null,W=[],V,G)}for(J=W.length;J--;)(Y=W[J])&&(V=P?g.call(R,Y):ae[J])>-1&&(R[V]=!(B[V]=Y))}}else W=Ut(W===B?W.splice(he,W.length):W),P?P(null,B,W,G):c.apply(B,W)})}y(vi,"setMatcher");function xi(m){for(var x,I,O,P=m.length,$=t.relative[m[0].type],R=$||t.relative[" "],B=$?1:0,F=_t(function(J){return J===x},R,!0),G=_t(function(J){return g.call(x,J)>-1},R,!0),V=[function(J,Y,W){var ae=!$&&(W||Y!=r)||((x=Y).nodeType?F(J,Y,W):G(J,Y,W));return x=null,ae}];B<P;B++)if(I=t.relative[m[B].type])V=[_t(bi(V),I)];else{if(I=t.filter[m[B].type].apply(null,m[B].matches),I[E]){for(O=++B;O<P&&!t.relative[m[O].type];O++);return vi(B>1&&bi(V),B>1&&Vt(m.slice(0,B-1).concat({value:m[B-2].type===" "?"*":""})).replace(Ct,"$1"),I,B<O&&xi(m.slice(B,O)),O<P&&xi(m=m.slice(O)),O<P&&Vt(m))}V.push(I)}return bi(V)}y(xi,"matcherFromTokens");function $r(m,x){var I=x.length>0,O=m.length>0,P=y(function($,R,B,F,G){var V,J,Y,W=0,ae="0",xe=$&&[],he=[],ke=r,Re=$||O&&t.find.TAG("*",G),xt=D+=ke==null?1:Math.random()||.1,ge=Re.length;for(G&&(r=R==d||R||G);ae!==ge&&(V=Re[ae])!=null;ae++){if(O&&V){for(J=0,!R&&V.ownerDocument!=d&&(Xe(V),B=!b);Y=m[J++];)if(Y(V,R||d,B)){c.call(F,V);break}G&&(D=xt)}I&&((V=!Y&&V)&&W--,$&&xe.push(V))}if(W+=ae,I&&ae!==W){for(J=0;Y=x[J++];)Y(xe,he,R,B);if($){if(W>0)for(;ae--;)xe[ae]||he[ae]||(he[ae]=Pn.call(F));he=Ut(he)}c.apply(F,he),G&&!$&&he.length>0&&W+x.length>1&&o.uniqueSort(F)}return G&&(D=xt,r=ke),xe},"superMatcher");return I?Ee(P):P}y($r,"matcherFromGroupMatchers");function wi(m,x){var I,O=[],P=[],$=X[m+" "];if(!$){for(x||(x=Wt(m)),I=x.length;I--;)$=xi(x[I]),$[E]?O.push($):P.push($);$=X(m,$r(P,O)),$.selector=m}return $}y(wi,"compile");function bn(m,x,I,O){var P,$,R,B,F,G=typeof m=="function"&&m,V=!O&&Wt(m=G.selector||m);if(I=I||[],V.length===1){if($=V[0]=V[0].slice(0),$.length>2&&(R=$[0]).type==="ID"&&x.nodeType===9&&b&&t.relative[$[1].type]){if(x=(t.find.ID(R.matches[0].replace(We,Ve),x)||[])[0],x)G&&(x=x.parentNode);else return I;m=m.slice($.shift().value.length)}for(P=Me.needsContext.test(m)?0:$.length;P--&&(R=$[P],!t.relative[B=R.type]);)if((F=t.find[B])&&(O=F(R.matches[0].replace(We,Ve),yi.test($[0].type)&&mi(x.parentNode)||x))){if($.splice(P,1),m=O.length&&Vt($),!m)return c.apply(I,O),I;break}}return(G||wi(m,V))(O,x,!b,I,!x||yi.test(m)&&mi(x.parentNode)||x),I}y(bn,"select"),T.sortStable=E.split("").sort(fe).join("")===E,Xe(),T.sortDetached=vt(function(m){return m.compareDocumentPosition(d.createElement("fieldset"))&1}),o.find=se,o.expr[":"]=o.expr.pseudos,o.unique=o.uniqueSort,se.compile=wi,se.select=bn,se.setDocument=Xe,se.escape=o.escapeSelector,se.getText=o.text,se.isXML=o.isXMLDoc,se.selectors=o.expr,se.support=o.support,se.uniqueSort=o.uniqueSort})();var ct=y(function(e,t,r){for(var s=[],u=r!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(u&&o(e).is(r))break;s.push(e)}return s},"dir"),ji=y(function(e,t){for(var r=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&r.push(e);return r},"siblings"),Ni=o.expr.match.needsContext,qi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Zt(e,t,r){return N(t)?o.grep(e,function(s,u){return!!t.call(s,u,s)!==r}):t.nodeType?o.grep(e,function(s){return s===t!==r}):typeof t!="string"?o.grep(e,function(s){return g.call(t,s)>-1!==r}):o.filter(t,e,r)}y(Zt,"winnow"),o.filter=function(e,t,r){var s=t[0];return r&&(e=":not("+e+")"),t.length===1&&s.nodeType===1?o.find.matchesSelector(s,e)?[s]:[]:o.find.matches(e,o.grep(t,function(u){return u.nodeType===1}))},o.fn.extend({find:function(e){var t,r,s=this.length,u=this;if(typeof e!="string")return this.pushStack(o(e).filter(function(){for(t=0;t<s;t++)if(o.contains(u[t],this))return!0}));for(r=this.pushStack([]),t=0;t<s;t++)o.find(e,u[t],r);return s>1?o.uniqueSort(r):r},filter:function(e){return this.pushStack(Zt(this,e||[],!1))},not:function(e){return this.pushStack(Zt(this,e||[],!0))},is:function(e){return!!Zt(this,typeof e=="string"&&Ni.test(e)?o(e):e||[],!1).length}});var $i,$n=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ln=o.fn.init=function(e,t,r){var s,u;if(!e)return this;if(r=r||$i,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?s=[null,e,null]:s=$n.exec(e),s&&(s[1]||!t))if(s[1]){if(t=t instanceof o?t[0]:t,o.merge(this,o.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:z,!0)),qi.test(s[1])&&o.isPlainObject(t))for(s in t)N(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}else return u=z.getElementById(s[2]),u&&(this[0]=u,this.length=1),this;else return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(N(e))return r.ready!==void 0?r.ready(e):e(o)}return o.makeArray(e,this)};Ln.prototype=o.fn,$i=o(z);var Mn=/^(?:parents|prev(?:Until|All))/,Rn={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(e){var t=o(e,this),r=t.length;return this.filter(function(){for(var s=0;s<r;s++)if(o.contains(this,t[s]))return!0})},closest:function(e,t){var r,s=0,u=this.length,c=[],d=typeof e!="string"&&o(e);if(!Ni.test(e)){for(;s<u;s++)for(r=this[s];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(d?d.index(r)>-1:r.nodeType===1&&o.find.matchesSelector(r,e))){c.push(r);break}}return this.pushStack(c.length>1?o.uniqueSort(c):c)},index:function(e){return e?typeof e=="string"?g.call(o(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Li(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}y(Li,"sibling"),o.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return ct(e,"parentNode")},parentsUntil:function(e,t,r){return ct(e,"parentNode",r)},next:function(e){return Li(e,"nextSibling")},prev:function(e){return Li(e,"previousSibling")},nextAll:function(e){return ct(e,"nextSibling")},prevAll:function(e){return ct(e,"previousSibling")},nextUntil:function(e,t,r){return ct(e,"nextSibling",r)},prevUntil:function(e,t,r){return ct(e,"previousSibling",r)},siblings:function(e){return ji((e.parentNode||{}).firstChild,e)},children:function(e){return ji(e.firstChild)},contents:function(e){return e.contentDocument!=null&&n(e.contentDocument)?e.contentDocument:(ne(e,"template")&&(e=e.content||e),o.merge([],e.childNodes))}},function(e,t){o.fn[e]=function(r,s){var u=o.map(this,t,r);return e.slice(-5)!=="Until"&&(s=r),s&&typeof s=="string"&&(u=o.filter(s,u)),this.length>1&&(Rn[e]||o.uniqueSort(u),Mn.test(e)&&u.reverse()),this.pushStack(u)}});var je=/[^\x20\t\r\n\f]+/g;function Fn(e){var t={};return o.each(e.match(je)||[],function(r,s){t[s]=!0}),t}y(Fn,"createOptions"),o.Callbacks=function(e){e=typeof e=="string"?Fn(e):o.extend({},e);var t,r,s,u,c=[],d=[],v=-1,b=y(function(){for(u=u||e.once,s=t=!0;d.length;v=-1)for(r=d.shift();++v<c.length;)c[v].apply(r[0],r[1])===!1&&e.stopOnFalse&&(v=c.length,r=!1);e.memory||(r=!1),t=!1,u&&(r?c=[]:c="")},"fire"),w={add:function(){return c&&(r&&!t&&(v=c.length-1,d.push(r)),y(function k(E){o.each(E,function(D,q){N(q)?(!e.unique||!w.has(q))&&c.push(q):q&&q.length&&Q(q)!=="string"&&k(q)})},"add")(arguments),r&&!t&&b()),this},remove:function(){return o.each(arguments,function(k,E){for(var D;(D=o.inArray(E,c,D))>-1;)c.splice(D,1),D<=v&&v--}),this},has:function(k){return k?o.inArray(k,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return u=d=[],c=r="",this},disabled:function(){return!c},lock:function(){return u=d=[],!r&&!t&&(c=r=""),this},locked:function(){return!!u},fireWith:function(k,E){return u||(E=E||[],E=[k,E.slice?E.slice():E],d.push(E),t||b()),this},fire:function(){return w.fireWith(this,arguments),this},fired:function(){return!!s}};return w};function dt(e){return e}y(dt,"Identity");function $t(e){throw e}y($t,"Thrower");function Mi(e,t,r,s){var u;try{e&&N(u=e.promise)?u.call(e).done(t).fail(r):e&&N(u=e.then)?u.call(e,t,r):t.apply(void 0,[e].slice(s))}catch(c){r.apply(void 0,[c])}}y(Mi,"adoptValue"),o.extend({Deferred:function(e){var t=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return u.done(arguments).fail(arguments),this},catch:function(c){return s.then(null,c)},pipe:function(){var c=arguments;return o.Deferred(function(d){o.each(t,function(v,b){var w=N(c[b[4]])&&c[b[4]];u[b[1]](function(){var k=w&&w.apply(this,arguments);k&&N(k.promise)?k.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[b[0]+"With"](this,w?[k]:arguments)})}),c=null}).promise()},then:function(c,d,v){var b=0;function w(k,E,D,q){return function(){var U=this,ee=arguments,X=y(function(){var fe,qe;if(!(k<b)){if(fe=D.apply(U,ee),fe===E.promise())throw new TypeError("Thenable self-resolution");qe=fe&&(typeof fe=="object"||typeof fe=="function")&&fe.then,N(qe)?q?qe.call(fe,w(b,E,dt,q),w(b,E,$t,q)):(b++,qe.call(fe,w(b,E,dt,q),w(b,E,$t,q),w(b,E,dt,E.notifyWith))):(D!==dt&&(U=void 0,ee=[fe]),(q||E.resolveWith)(U,ee))}},"mightThrow"),ce=q?X:function(){try{X()}catch(fe){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(fe,ce.error),k+1>=b&&(D!==$t&&(U=void 0,ee=[fe]),E.rejectWith(U,ee))}};k?ce():(o.Deferred.getErrorHook?ce.error=o.Deferred.getErrorHook():o.Deferred.getStackHook&&(ce.error=o.Deferred.getStackHook()),p.setTimeout(ce))}}return y(w,"resolve"),o.Deferred(function(k){t[0][3].add(w(0,k,N(v)?v:dt,k.notifyWith)),t[1][3].add(w(0,k,N(c)?c:dt)),t[2][3].add(w(0,k,N(d)?d:$t))}).promise()},promise:function(c){return c!=null?o.extend(c,s):s}},u={};return o.each(t,function(c,d){var v=d[2],b=d[5];s[d[1]]=v.add,b&&v.add(function(){r=b},t[3-c][2].disable,t[3-c][3].disable,t[0][2].lock,t[0][3].lock),v.add(d[3].fire),u[d[0]]=function(){return u[d[0]+"With"](this===u?void 0:this,arguments),this},u[d[0]+"With"]=v.fireWith}),s.promise(u),e&&e.call(u,u),u},when:function(e){var t=arguments.length,r=t,s=Array(r),u=a.call(arguments),c=o.Deferred(),d=y(function(v){return function(b){s[v]=this,u[v]=arguments.length>1?a.call(arguments):b,--t||c.resolveWith(s,u)}},"updateFunc");if(t<=1&&(Mi(e,c.done(d(r)).resolve,c.reject,!t),c.state()==="pending"||N(u[r]&&u[r].then)))return c.then();for(;r--;)Mi(u[r],d(r),c.reject);return c.promise()}});var zn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(e,t){p.console&&p.console.warn&&e&&zn.test(e.name)&&p.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},o.readyException=function(e){p.setTimeout(function(){throw e})};var ei=o.Deferred();o.fn.ready=function(e){return ei.then(e).catch(function(t){o.readyException(t)}),this},o.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(e!==!0&&--o.readyWait>0)&&ei.resolveWith(z,[o]))}}),o.ready.then=ei.then;function Lt(){z.removeEventListener("DOMContentLoaded",Lt),p.removeEventListener("load",Lt),o.ready()}y(Lt,"completed"),z.readyState==="complete"||z.readyState!=="loading"&&!z.documentElement.doScroll?p.setTimeout(o.ready):(z.addEventListener("DOMContentLoaded",Lt),p.addEventListener("load",Lt));var Be=y(function(e,t,r,s,u,c,d){var v=0,b=e.length,w=r==null;if(Q(r)==="object"){u=!0;for(v in r)Be(e,t,v,r[v],!0,c,d)}else if(s!==void 0&&(u=!0,N(s)||(d=!0),w&&(d?(t.call(e,s),t=null):(w=t,t=y(function(k,E,D){return w.call(o(k),D)},"fn"))),t))for(;v<b;v++)t(e[v],r,d?s:s.call(e[v],v,t(e[v],r)));return u?e:w?t.call(e):b?t(e[0],r):c},"access"),Bn=/^-ms-/,Hn=/-([a-z])/g;function Wn(e,t){return t.toUpperCase()}y(Wn,"fcamelCase");function Ne(e){return e.replace(Bn,"ms-").replace(Hn,Wn)}y(Ne,"camelCase");var St=y(function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},"acceptData");function It(){this.expando=o.expando+It.uid++}y(It,"Data"),It.uid=1,It.prototype={cache:function(e){var t=e[this.expando];return t||(t={},St(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var s,u=this.cache(e);if(typeof t=="string")u[Ne(t)]=r;else for(s in t)u[Ne(s)]=t[s];return u},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][Ne(t)]},access:function(e,t,r){return t===void 0||t&&typeof t=="string"&&r===void 0?this.get(e,t):(this.set(e,t,r),r!==void 0?r:t)},remove:function(e,t){var r,s=e[this.expando];if(s!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(Ne):(t=Ne(t),t=t in s?[t]:t.match(je)||[]),r=t.length;r--;)delete s[t[r]];(t===void 0||o.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!o.isEmptyObject(t)}};var H=new It,me=new It,Vn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_n=/[A-Z]/g;function Un(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Vn.test(e)?JSON.parse(e):e}y(Un,"getData");function Ri(e,t,r){var s;if(r===void 0&&e.nodeType===1)if(s="data-"+t.replace(_n,"-$&").toLowerCase(),r=e.getAttribute(s),typeof r=="string"){try{r=Un(r)}catch{}me.set(e,t,r)}else r=void 0;return r}y(Ri,"dataAttr"),o.extend({hasData:function(e){return me.hasData(e)||H.hasData(e)},data:function(e,t,r){return me.access(e,t,r)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,r){return H.access(e,t,r)},_removeData:function(e,t){H.remove(e,t)}}),o.fn.extend({data:function(e,t){var r,s,u,c=this[0],d=c&&c.attributes;if(e===void 0){if(this.length&&(u=me.get(c),c.nodeType===1&&!H.get(c,"hasDataAttrs"))){for(r=d.length;r--;)d[r]&&(s=d[r].name,s.indexOf("data-")===0&&(s=Ne(s.slice(5)),Ri(c,s,u[s])));H.set(c,"hasDataAttrs",!0)}return u}return typeof e=="object"?this.each(function(){me.set(this,e)}):Be(this,function(v){var b;if(c&&v===void 0)return b=me.get(c,e),b!==void 0||(b=Ri(c,e),b!==void 0)?b:void 0;this.each(function(){me.set(this,e,v)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),o.extend({queue:function(e,t,r){var s;if(e)return t=(t||"fx")+"queue",s=H.get(e,t),r&&(!s||Array.isArray(r)?s=H.access(e,t,o.makeArray(r)):s.push(r)),s||[]},dequeue:function(e,t){t=t||"fx";var r=o.queue(e,t),s=r.length,u=r.shift(),c=o._queueHooks(e,t),d=y(function(){o.dequeue(e,t)},"next");u==="inprogress"&&(u=r.shift(),s--),u&&(t==="fx"&&r.unshift("inprogress"),delete c.stop,u.call(e,d,c)),!s&&c&&c.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return H.get(e,r)||H.access(e,r,{empty:o.Callbacks("once memory").add(function(){H.remove(e,[t+"queue",r])})})}}),o.fn.extend({queue:function(e,t){var r=2;return typeof e!="string"&&(t=e,e="fx",r--),arguments.length<r?o.queue(this[0],e):t===void 0?this:this.each(function(){var s=o.queue(this,e,t);o._queueHooks(this,e),e==="fx"&&s[0]!=="inprogress"&&o.dequeue(this,e)})},dequeue:function(e){return this.each(function(){o.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,s=1,u=o.Deferred(),c=this,d=this.length,v=y(function(){--s||u.resolveWith(c,[c])},"resolve");for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";d--;)r=H.get(c[d],e+"queueHooks"),r&&r.empty&&(s++,r.empty.add(v));return v(),u.promise(t)}});var Fi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+Fi+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],it=z.documentElement,ht=y(function(e){return o.contains(e.ownerDocument,e)},"isAttached"),Jn={composed:!0};it.getRootNode&&(ht=y(function(e){return o.contains(e.ownerDocument,e)||e.getRootNode(Jn)===e.ownerDocument},"isAttached"));var Mt=y(function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&ht(e)&&o.css(e,"display")==="none"},"isHiddenWithinTree");function zi(e,t,r,s){var u,c,d=20,v=s?function(){return s.cur()}:function(){return o.css(e,t,"")},b=v(),w=r&&r[3]||(o.cssNumber[t]?"":"px"),k=e.nodeType&&(o.cssNumber[t]||w!=="px"&&+b)&&Dt.exec(o.css(e,t));if(k&&k[3]!==w){for(b=b/2,w=w||k[3],k=+b||1;d--;)o.style(e,t,k+w),(1-c)*(1-(c=v()/b||.5))<=0&&(d=0),k=k/c;k=k*2,o.style(e,t,k+w),r=r||[]}return r&&(k=+k||+b||0,u=r[1]?k+(r[1]+1)*r[2]:+r[2],s&&(s.unit=w,s.start=k,s.end=u)),u}y(zi,"adjustCSS");var Bi={};function Kn(e){var t,r=e.ownerDocument,s=e.nodeName,u=Bi[s];return u||(t=r.body.appendChild(r.createElement(s)),u=o.css(t,"display"),t.parentNode.removeChild(t),u==="none"&&(u="block"),Bi[s]=u,u)}y(Kn,"getDefaultDisplay");function pt(e,t){for(var r,s,u=[],c=0,d=e.length;c<d;c++)s=e[c],s.style&&(r=s.style.display,t?(r==="none"&&(u[c]=H.get(s,"display")||null,u[c]||(s.style.display="")),s.style.display===""&&Mt(s)&&(u[c]=Kn(s))):r!=="none"&&(u[c]="none",H.set(s,"display",r)));for(c=0;c<d;c++)u[c]!=null&&(e[c].style.display=u[c]);return e}y(pt,"showHide"),o.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Mt(this)?o(this).show():o(this).hide()})}});var Ot=/^(?:checkbox|radio)$/i,Hi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=z.createDocumentFragment(),t=e.appendChild(z.createElement("div")),r=z.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),T.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",T.option=!!t.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,T.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function be(e,t){var r;return typeof e.getElementsByTagName<"u"?r=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?r=e.querySelectorAll(t||"*"):r=[],t===void 0||t&&ne(e,t)?o.merge([e],r):r}y(be,"getAll");function ti(e,t){for(var r=0,s=e.length;r<s;r++)H.set(e[r],"globalEval",!t||H.get(t[r],"globalEval"))}y(ti,"setGlobalEval");var Xn=/<|&#?\w+;/;function Vi(e,t,r,s,u){for(var c,d,v,b,w,k,E=t.createDocumentFragment(),D=[],q=0,U=e.length;q<U;q++)if(c=e[q],c||c===0)if(Q(c)==="object")o.merge(D,c.nodeType?[c]:c);else if(!Xn.test(c))D.push(t.createTextNode(c));else{for(d=d||E.appendChild(t.createElement("div")),v=(Hi.exec(c)||["",""])[1].toLowerCase(),b=De[v]||De._default,d.innerHTML=b[1]+o.htmlPrefilter(c)+b[2],k=b[0];k--;)d=d.lastChild;o.merge(D,d.childNodes),d=E.firstChild,d.textContent=""}for(E.textContent="",q=0;c=D[q++];){if(s&&o.inArray(c,s)>-1){u&&u.push(c);continue}if(w=ht(c),d=be(E.appendChild(c),"script"),w&&ti(d),r)for(k=0;c=d[k++];)Wi.test(c.type||"")&&r.push(c)}return E}y(Vi,"buildFragment");var _i=/^([^.]*)(?:\.(.+)|)/;function gt(){return!0}y(gt,"returnTrue");function yt(){return!1}y(yt,"returnFalse");function ii(e,t,r,s,u,c){var d,v;if(typeof t=="object"){typeof r!="string"&&(s=s||r,r=void 0);for(v in t)ii(e,v,r,s,t[v],c);return e}if(s==null&&u==null?(u=r,s=r=void 0):u==null&&(typeof r=="string"?(u=s,s=void 0):(u=s,s=r,r=void 0)),u===!1)u=yt;else if(!u)return e;return c===1&&(d=u,u=y(function(b){return o().off(b),d.apply(this,arguments)},"fn"),u.guid=d.guid||(d.guid=o.guid++)),e.each(function(){o.event.add(this,t,u,s,r)})}y(ii,"on"),o.event={global:{},add:function(e,t,r,s,u){var c,d,v,b,w,k,E,D,q,U,ee,X=H.get(e);if(St(e))for(r.handler&&(c=r,r=c.handler,u=c.selector),u&&o.find.matchesSelector(it,u),r.guid||(r.guid=o.guid++),(b=X.events)||(b=X.events=Object.create(null)),(d=X.handle)||(d=X.handle=function(ce){return typeof o<"u"&&o.event.triggered!==ce.type?o.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(je)||[""],w=t.length;w--;)v=_i.exec(t[w])||[],q=ee=v[1],U=(v[2]||"").split(".").sort(),q&&(E=o.event.special[q]||{},q=(u?E.delegateType:E.bindType)||q,E=o.event.special[q]||{},k=o.extend({type:q,origType:ee,data:s,handler:r,guid:r.guid,selector:u,needsContext:u&&o.expr.match.needsContext.test(u),namespace:U.join(".")},c),(D=b[q])||(D=b[q]=[],D.delegateCount=0,(!E.setup||E.setup.call(e,s,U,d)===!1)&&e.addEventListener&&e.addEventListener(q,d)),E.add&&(E.add.call(e,k),k.handler.guid||(k.handler.guid=r.guid)),u?D.splice(D.delegateCount++,0,k):D.push(k),o.event.global[q]=!0)},remove:function(e,t,r,s,u){var c,d,v,b,w,k,E,D,q,U,ee,X=H.hasData(e)&&H.get(e);if(!(!X||!(b=X.events))){for(t=(t||"").match(je)||[""],w=t.length;w--;){if(v=_i.exec(t[w])||[],q=ee=v[1],U=(v[2]||"").split(".").sort(),!q){for(q in b)o.event.remove(e,q+t[w],r,s,!0);continue}for(E=o.event.special[q]||{},q=(s?E.delegateType:E.bindType)||q,D=b[q]||[],v=v[2]&&new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=c=D.length;c--;)k=D[c],(u||ee===k.origType)&&(!r||r.guid===k.guid)&&(!v||v.test(k.namespace))&&(!s||s===k.selector||s==="**"&&k.selector)&&(D.splice(c,1),k.selector&&D.delegateCount--,E.remove&&E.remove.call(e,k));d&&!D.length&&((!E.teardown||E.teardown.call(e,U,X.handle)===!1)&&o.removeEvent(e,q,X.handle),delete b[q])}o.isEmptyObject(b)&&H.remove(e,"handle events")}},dispatch:function(e){var t,r,s,u,c,d,v=new Array(arguments.length),b=o.event.fix(e),w=(H.get(this,"events")||Object.create(null))[b.type]||[],k=o.event.special[b.type]||{};for(v[0]=b,t=1;t<arguments.length;t++)v[t]=arguments[t];if(b.delegateTarget=this,!(k.preDispatch&&k.preDispatch.call(this,b)===!1)){for(d=o.event.handlers.call(this,b,w),t=0;(u=d[t++])&&!b.isPropagationStopped();)for(b.currentTarget=u.elem,r=0;(c=u.handlers[r++])&&!b.isImmediatePropagationStopped();)(!b.rnamespace||c.namespace===!1||b.rnamespace.test(c.namespace))&&(b.handleObj=c,b.data=c.data,s=((o.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,v),s!==void 0&&(b.result=s)===!1&&(b.preventDefault(),b.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,b),b.result}},handlers:function(e,t){var r,s,u,c,d,v=[],b=t.delegateCount,w=e.target;if(b&&w.nodeType&&!(e.type==="click"&&e.button>=1)){for(;w!==this;w=w.parentNode||this)if(w.nodeType===1&&!(e.type==="click"&&w.disabled===!0)){for(c=[],d={},r=0;r<b;r++)s=t[r],u=s.selector+" ",d[u]===void 0&&(d[u]=s.needsContext?o(u,this).index(w)>-1:o.find(u,this,null,[w]).length),d[u]&&c.push(s);c.length&&v.push({elem:w,handlers:c})}}return w=this,b<t.length&&v.push({elem:w,handlers:t.slice(b)}),v},addProp:function(e,t){Object.defineProperty(o.Event.prototype,e,{enumerable:!0,configurable:!0,get:N(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})},fix:function(e){return e[o.expando]?e:new o.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ot.test(t.type)&&t.click&&ne(t,"input")&&Rt(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ot.test(t.type)&&t.click&&ne(t,"input")&&Rt(t,"click"),!0},_default:function(e){var t=e.target;return Ot.test(t.type)&&t.click&&ne(t,"input")&&H.get(t,"click")||ne(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function Rt(e,t,r){if(!r){H.get(e,t)===void 0&&o.event.add(e,t,gt);return}H.set(e,t,!1),o.event.add(e,t,{namespace:!1,handler:function(s){var u,c=H.get(this,t);if(s.isTrigger&1&&this[t]){if(c)(o.event.special[t]||{}).delegateType&&s.stopPropagation();else if(c=a.call(arguments),H.set(this,t,c),this[t](),u=H.get(this,t),H.set(this,t,!1),c!==u)return s.stopImmediatePropagation(),s.preventDefault(),u}else c&&(H.set(this,t,o.event.trigger(c[0],c.slice(1),this)),s.stopPropagation(),s.isImmediatePropagationStopped=gt)}})}y(Rt,"leverageNative"),o.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},o.Event=function(e,t){if(!(this instanceof o.Event))return new o.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?gt:yt,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&o.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:yt,isPropagationStopped:yt,isImmediatePropagationStopped:yt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=gt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=gt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=gt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(e,t){function r(s){if(z.documentMode){var u=H.get(this,"handle"),c=o.event.fix(s);c.type=s.type==="focusin"?"focus":"blur",c.isSimulated=!0,u(s),c.target===c.currentTarget&&u(c)}else o.event.simulate(t,s.target,o.event.fix(s))}y(r,"focusMappedHandler"),o.event.special[e]={setup:function(){var s;if(Rt(this,e,!0),z.documentMode)s=H.get(this,t),s||this.addEventListener(t,r),H.set(this,t,(s||0)+1);else return!1},trigger:function(){return Rt(this,e),!0},teardown:function(){var s;if(z.documentMode)s=H.get(this,t)-1,s?H.set(this,t,s):(this.removeEventListener(t,r),H.remove(this,t));else return!1},_default:function(s){return H.get(s.target,e)},delegateType:t},o.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,u=z.documentMode?this:s,c=H.get(u,t);c||(z.documentMode?this.addEventListener(t,r):s.addEventListener(e,r,!0)),H.set(u,t,(c||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,u=z.documentMode?this:s,c=H.get(u,t)-1;c?H.set(u,t,c):(z.documentMode?this.removeEventListener(t,r):s.removeEventListener(e,r,!0),H.remove(u,t))}}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){o.event.special[e]={delegateType:t,bindType:t,handle:function(r){var s,u=this,c=r.relatedTarget,d=r.handleObj;return(!c||c!==u&&!o.contains(u,c))&&(r.type=d.origType,s=d.handler.apply(this,arguments),r.type=t),s}}}),o.fn.extend({on:function(e,t,r,s){return ii(this,e,t,r,s)},one:function(e,t,r,s){return ii(this,e,t,r,s,1)},off:function(e,t,r){var s,u;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,o(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if(typeof e=="object"){for(u in e)this.off(u,t,e[u]);return this}return(t===!1||typeof t=="function")&&(r=t,t=void 0),r===!1&&(r=yt),this.each(function(){o.event.remove(this,e,r,t)})}});var Qn=/<script|<style|<link/i,Gn=/checked\s*(?:[^=]|=\s*.checked.)/i,Yn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ui(e,t){return ne(e,"table")&&ne(t.nodeType!==11?t:t.firstChild,"tr")&&o(e).children("tbody")[0]||e}y(Ui,"manipulationTarget");function Zn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}y(Zn,"disableScript");function er(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}y(er,"restoreScript");function Ji(e,t){var r,s,u,c,d,v,b;if(t.nodeType===1){if(H.hasData(e)&&(c=H.get(e),b=c.events,b)){H.remove(t,"handle events");for(u in b)for(r=0,s=b[u].length;r<s;r++)o.event.add(t,u,b[u][r])}me.hasData(e)&&(d=me.access(e),v=o.extend({},d),me.set(t,v))}}y(Ji,"cloneCopyEvent");function tr(e,t){var r=t.nodeName.toLowerCase();r==="input"&&Ot.test(e.type)?t.checked=e.checked:(r==="input"||r==="textarea")&&(t.defaultValue=e.defaultValue)}y(tr,"fixInput");function mt(e,t,r,s){t=f(t);var u,c,d,v,b,w,k=0,E=e.length,D=E-1,q=t[0],U=N(q);if(U||E>1&&typeof q=="string"&&!T.checkClone&&Gn.test(q))return e.each(function(ee){var X=e.eq(ee);U&&(t[0]=q.call(this,ee,X.html())),mt(X,t,r,s)});if(E&&(u=Vi(t,e[0].ownerDocument,!1,e,s),c=u.firstChild,u.childNodes.length===1&&(u=c),c||s)){for(d=o.map(be(u,"script"),Zn),v=d.length;k<E;k++)b=u,k!==D&&(b=o.clone(b,!0,!0),v&&o.merge(d,be(b,"script"))),r.call(e[k],b,k);if(v)for(w=d[d.length-1].ownerDocument,o.map(d,er),k=0;k<v;k++)b=d[k],Wi.test(b.type||"")&&!H.access(b,"globalEval")&&o.contains(w,b)&&(b.src&&(b.type||"").toLowerCase()!=="module"?o._evalUrl&&!b.noModule&&o._evalUrl(b.src,{nonce:b.nonce||b.getAttribute("nonce")},w):Se(b.textContent.replace(Yn,""),b,w))}return e}y(mt,"domManip");function Ki(e,t,r){for(var s,u=t?o.filter(t,e):e,c=0;(s=u[c])!=null;c++)!r&&s.nodeType===1&&o.cleanData(be(s)),s.parentNode&&(r&&ht(s)&&ti(be(s,"script")),s.parentNode.removeChild(s));return e}y(Ki,"remove"),o.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var s,u,c,d,v=e.cloneNode(!0),b=ht(e);if(!T.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!o.isXMLDoc(e))for(d=be(v),c=be(e),s=0,u=c.length;s<u;s++)tr(c[s],d[s]);if(t)if(r)for(c=c||be(e),d=d||be(v),s=0,u=c.length;s<u;s++)Ji(c[s],d[s]);else Ji(e,v);return d=be(v,"script"),d.length>0&&ti(d,!b&&be(e,"script")),v},cleanData:function(e){for(var t,r,s,u=o.event.special,c=0;(r=e[c])!==void 0;c++)if(St(r)){if(t=r[H.expando]){if(t.events)for(s in t.events)u[s]?o.event.remove(r,s):o.removeEvent(r,s,t.handle);r[H.expando]=void 0}r[me.expando]&&(r[me.expando]=void 0)}}}),o.fn.extend({detach:function(e){return Ki(this,e,!0)},remove:function(e){return Ki(this,e)},text:function(e){return Be(this,function(t){return t===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return mt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ui(this,e);t.appendChild(e)}})},prepend:function(){return mt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ui(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return mt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return mt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(o.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return o.clone(this,e,t)})},html:function(e){return Be(this,function(t){var r=this[0]||{},s=0,u=this.length;if(t===void 0&&r.nodeType===1)return r.innerHTML;if(typeof t=="string"&&!Qn.test(t)&&!De[(Hi.exec(t)||["",""])[1].toLowerCase()]){t=o.htmlPrefilter(t);try{for(;s<u;s++)r=this[s]||{},r.nodeType===1&&(o.cleanData(be(r,!1)),r.innerHTML=t);r=0}catch{}}r&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return mt(this,arguments,function(t){var r=this.parentNode;o.inArray(this,e)<0&&(o.cleanData(be(this)),r&&r.replaceChild(t,this))},e)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){o.fn[e]=function(r){for(var s,u=[],c=o(r),d=c.length-1,v=0;v<=d;v++)s=v===d?this:this.clone(!0),o(c[v])[t](s),h.apply(u,s.get());return this.pushStack(u)}});var ni=new RegExp("^("+Fi+")(?!px)[a-z%]+$","i"),ri=/^--/,Ft=y(function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=p),t.getComputedStyle(e)},"getStyles"),Xi=y(function(e,t,r){var s,u,c={};for(u in t)c[u]=e.style[u],e.style[u]=t[u];s=r.call(e);for(u in t)e.style[u]=c[u];return s},"swap"),ir=new RegExp(He.join("|"),"i");(function(){function e(){if(w){b.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",w.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(b).appendChild(w);var k=p.getComputedStyle(w);r=k.top!=="1%",v=t(k.marginLeft)===12,w.style.right="60%",c=t(k.right)===36,s=t(k.width)===36,w.style.position="absolute",u=t(w.offsetWidth/3)===12,it.removeChild(b),w=null}}y(e,"computeStyleTests");function t(k){return Math.round(parseFloat(k))}y(t,"roundPixelMeasures");var r,s,u,c,d,v,b=z.createElement("div"),w=z.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=w.style.backgroundClip==="content-box",o.extend(T,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),c},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),v},scrollboxSize:function(){return e(),u},reliableTrDimensions:function(){var k,E,D,q;return d==null&&(k=z.createElement("table"),E=z.createElement("tr"),D=z.createElement("div"),k.style.cssText="position:absolute;left:-11111px;border-collapse:separate",E.style.cssText="border:1px solid",E.style.height="1px",D.style.height="9px",D.style.display="block",it.appendChild(k).appendChild(E).appendChild(D),q=p.getComputedStyle(E),d=parseInt(q.height,10)+parseInt(q.borderTopWidth,10)+parseInt(q.borderBottomWidth,10)===E.offsetHeight,it.removeChild(k)),d}}))})();function kt(e,t,r){var s,u,c,d,v=ri.test(t),b=e.style;return r=r||Ft(e),r&&(d=r.getPropertyValue(t)||r[t],v&&d&&(d=d.replace(Ct,"$1")||void 0),d===""&&!ht(e)&&(d=o.style(e,t)),!T.pixelBoxStyles()&&ni.test(d)&&ir.test(t)&&(s=b.width,u=b.minWidth,c=b.maxWidth,b.minWidth=b.maxWidth=b.width=d,d=r.width,b.width=s,b.minWidth=u,b.maxWidth=c)),d!==void 0?d+"":d}y(kt,"curCSS");function Qi(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}y(Qi,"addGetHookIf");var Gi=["Webkit","Moz","ms"],Yi=z.createElement("div").style,Zi={};function nr(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Gi.length;r--;)if(e=Gi[r]+t,e in Yi)return e}y(nr,"vendorPropName");function si(e){var t=o.cssProps[e]||Zi[e];return t||(e in Yi?e:Zi[e]=nr(e)||e)}y(si,"finalPropName");var rr=/^(none|table(?!-c[ea]).+)/,sr={position:"absolute",visibility:"hidden",display:"block"},en={letterSpacing:"0",fontWeight:"400"};function tn(e,t,r){var s=Dt.exec(t);return s?Math.max(0,s[2]-(r||0))+(s[3]||"px"):t}y(tn,"setPositiveNumber");function ai(e,t,r,s,u,c){var d=t==="width"?1:0,v=0,b=0,w=0;if(r===(s?"border":"content"))return 0;for(;d<4;d+=2)r==="margin"&&(w+=o.css(e,r+He[d],!0,u)),s?(r==="content"&&(b-=o.css(e,"padding"+He[d],!0,u)),r!=="margin"&&(b-=o.css(e,"border"+He[d]+"Width",!0,u))):(b+=o.css(e,"padding"+He[d],!0,u),r!=="padding"?b+=o.css(e,"border"+He[d]+"Width",!0,u):v+=o.css(e,"border"+He[d]+"Width",!0,u));return!s&&c>=0&&(b+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-c-b-v-.5))||0),b+w}y(ai,"boxModelAdjustment");function nn(e,t,r){var s=Ft(e),u=!T.boxSizingReliable()||r,c=u&&o.css(e,"boxSizing",!1,s)==="border-box",d=c,v=kt(e,t,s),b="offset"+t[0].toUpperCase()+t.slice(1);if(ni.test(v)){if(!r)return v;v="auto"}return(!T.boxSizingReliable()&&c||!T.reliableTrDimensions()&&ne(e,"tr")||v==="auto"||!parseFloat(v)&&o.css(e,"display",!1,s)==="inline")&&e.getClientRects().length&&(c=o.css(e,"boxSizing",!1,s)==="border-box",d=b in e,d&&(v=e[b])),v=parseFloat(v)||0,v+ai(e,t,r||(c?"border":"content"),d,s,v)+"px"}y(nn,"getWidthOrHeight"),o.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=kt(e,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,s){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var u,c,d,v=Ne(t),b=ri.test(t),w=e.style;if(b||(t=si(v)),d=o.cssHooks[t]||o.cssHooks[v],r!==void 0){if(c=typeof r,c==="string"&&(u=Dt.exec(r))&&u[1]&&(r=zi(e,t,u),c="number"),r==null||r!==r)return;c==="number"&&!b&&(r+=u&&u[3]||(o.cssNumber[v]?"":"px")),!T.clearCloneStyle&&r===""&&t.indexOf("background")===0&&(w[t]="inherit"),(!d||!("set"in d)||(r=d.set(e,r,s))!==void 0)&&(b?w.setProperty(t,r):w[t]=r)}else return d&&"get"in d&&(u=d.get(e,!1,s))!==void 0?u:w[t]}},css:function(e,t,r,s){var u,c,d,v=Ne(t),b=ri.test(t);return b||(t=si(v)),d=o.cssHooks[t]||o.cssHooks[v],d&&"get"in d&&(u=d.get(e,!0,r)),u===void 0&&(u=kt(e,t,s)),u==="normal"&&t in en&&(u=en[t]),r===""||r?(c=parseFloat(u),r===!0||isFinite(c)?c||0:u):u}}),o.each(["height","width"],function(e,t){o.cssHooks[t]={get:function(r,s,u){if(s)return rr.test(o.css(r,"display"))&&(!r.getClientRects().length||!r.getBoundingClientRect().width)?Xi(r,sr,function(){return nn(r,t,u)}):nn(r,t,u)},set:function(r,s,u){var c,d=Ft(r),v=!T.scrollboxSize()&&d.position==="absolute",b=v||u,w=b&&o.css(r,"boxSizing",!1,d)==="border-box",k=u?ai(r,t,u,w,d):0;return w&&v&&(k-=Math.ceil(r["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(d[t])-ai(r,t,"border",!1,d)-.5)),k&&(c=Dt.exec(s))&&(c[3]||"px")!=="px"&&(r.style[t]=s,s=o.css(r,t)),tn(r,s,k)}}}),o.cssHooks.marginLeft=Qi(T.reliableMarginLeft,function(e,t){if(t)return(parseFloat(kt(e,"marginLeft"))||e.getBoundingClientRect().left-Xi(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(e,t){o.cssHooks[e+t]={expand:function(r){for(var s=0,u={},c=typeof r=="string"?r.split(" "):[r];s<4;s++)u[e+He[s]+t]=c[s]||c[s-2]||c[0];return u}},e!=="margin"&&(o.cssHooks[e+t].set=tn)}),o.fn.extend({css:function(e,t){return Be(this,function(r,s,u){var c,d,v={},b=0;if(Array.isArray(s)){for(c=Ft(r),d=s.length;b<d;b++)v[s[b]]=o.css(r,s[b],!1,c);return v}return u!==void 0?o.style(r,s,u):o.css(r,s)},e,t,arguments.length>1)}});function ve(e,t,r,s,u){return new ve.prototype.init(e,t,r,s,u)}y(ve,"Tween"),o.Tween=ve,ve.prototype={constructor:ve,init:function(e,t,r,s,u,c){this.elem=e,this.prop=r,this.easing=u||o.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=c||(o.cssNumber[r]?"":"px")},cur:function(){var e=ve.propHooks[this.prop];return e&&e.get?e.get(this):ve.propHooks._default.get(this)},run:function(e){var t,r=ve.propHooks[this.prop];return this.options.duration?this.pos=t=o.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ve.propHooks._default.set(this),this}},ve.prototype.init.prototype=ve.prototype,ve.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=o.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){o.fx.step[e.prop]?o.fx.step[e.prop](e):e.elem.nodeType===1&&(o.cssHooks[e.prop]||e.elem.style[si(e.prop)]!=null)?o.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},ve.propHooks.scrollTop=ve.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},o.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},o.fx=ve.prototype.init,o.fx.step={};var bt,zt,ar=/^(?:toggle|show|hide)$/,or=/queueHooks$/;function oi(){zt&&(z.hidden===!1&&p.requestAnimationFrame?p.requestAnimationFrame(oi):p.setTimeout(oi,o.fx.interval),o.fx.tick())}y(oi,"schedule");function rn(){return p.setTimeout(function(){bt=void 0}),bt=Date.now()}y(rn,"createFxNow");function Bt(e,t){var r,s=0,u={height:e};for(t=t?1:0;s<4;s+=2-t)r=He[s],u["margin"+r]=u["padding"+r]=e;return t&&(u.opacity=u.width=e),u}y(Bt,"genFx");function sn(e,t,r){for(var s,u=(Pe.tweeners[t]||[]).concat(Pe.tweeners["*"]),c=0,d=u.length;c<d;c++)if(s=u[c].call(r,t,e))return s}y(sn,"createTween");function lr(e,t,r){var s,u,c,d,v,b,w,k,E="width"in t||"height"in t,D=this,q={},U=e.style,ee=e.nodeType&&Mt(e),X=H.get(e,"fxshow");r.queue||(d=o._queueHooks(e,"fx"),d.unqueued==null&&(d.unqueued=0,v=d.empty.fire,d.empty.fire=function(){d.unqueued||v()}),d.unqueued++,D.always(function(){D.always(function(){d.unqueued--,o.queue(e,"fx").length||d.empty.fire()})}));for(s in t)if(u=t[s],ar.test(u)){if(delete t[s],c=c||u==="toggle",u===(ee?"hide":"show"))if(u==="show"&&X&&X[s]!==void 0)ee=!0;else continue;q[s]=X&&X[s]||o.style(e,s)}if(b=!o.isEmptyObject(t),!(!b&&o.isEmptyObject(q))){E&&e.nodeType===1&&(r.overflow=[U.overflow,U.overflowX,U.overflowY],w=X&&X.display,w==null&&(w=H.get(e,"display")),k=o.css(e,"display"),k==="none"&&(w?k=w:(pt([e],!0),w=e.style.display||w,k=o.css(e,"display"),pt([e]))),(k==="inline"||k==="inline-block"&&w!=null)&&o.css(e,"float")==="none"&&(b||(D.done(function(){U.display=w}),w==null&&(k=U.display,w=k==="none"?"":k)),U.display="inline-block")),r.overflow&&(U.overflow="hidden",D.always(function(){U.overflow=r.overflow[0],U.overflowX=r.overflow[1],U.overflowY=r.overflow[2]})),b=!1;for(s in q)b||(X?"hidden"in X&&(ee=X.hidden):X=H.access(e,"fxshow",{display:w}),c&&(X.hidden=!ee),ee&&pt([e],!0),D.done(function(){ee||pt([e]),H.remove(e,"fxshow");for(s in q)o.style(e,s,q[s])})),b=sn(ee?X[s]:0,s,D),s in X||(X[s]=b.start,ee&&(b.end=b.start,b.start=0))}}y(lr,"defaultPrefilter");function ur(e,t){var r,s,u,c,d;for(r in e)if(s=Ne(r),u=t[s],c=e[r],Array.isArray(c)&&(u=c[1],c=e[r]=c[0]),r!==s&&(e[s]=c,delete e[r]),d=o.cssHooks[s],d&&"expand"in d){c=d.expand(c),delete e[s];for(r in c)r in e||(e[r]=c[r],t[r]=u)}else t[s]=u}y(ur,"propFilter");function Pe(e,t,r){var s,u,c=0,d=Pe.prefilters.length,v=o.Deferred().always(function(){delete b.elem}),b=y(function(){if(u)return!1;for(var E=bt||rn(),D=Math.max(0,w.startTime+w.duration-E),q=D/w.duration||0,U=1-q,ee=0,X=w.tweens.length;ee<X;ee++)w.tweens[ee].run(U);return v.notifyWith(e,[w,U,D]),U<1&&X?D:(X||v.notifyWith(e,[w,1,0]),v.resolveWith(e,[w]),!1)},"tick"),w=v.promise({elem:e,props:o.extend({},t),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},r),originalProperties:t,originalOptions:r,startTime:bt||rn(),duration:r.duration,tweens:[],createTween:function(E,D){var q=o.Tween(e,w.opts,E,D,w.opts.specialEasing[E]||w.opts.easing);return w.tweens.push(q),q},stop:function(E){var D=0,q=E?w.tweens.length:0;if(u)return this;for(u=!0;D<q;D++)w.tweens[D].run(1);return E?(v.notifyWith(e,[w,1,0]),v.resolveWith(e,[w,E])):v.rejectWith(e,[w,E]),this}}),k=w.props;for(ur(k,w.opts.specialEasing);c<d;c++)if(s=Pe.prefilters[c].call(w,e,k,w.opts),s)return N(s.stop)&&(o._queueHooks(w.elem,w.opts.queue).stop=s.stop.bind(s)),s;return o.map(k,sn,w),N(w.opts.start)&&w.opts.start.call(e,w),w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always),o.fx.timer(o.extend(b,{elem:e,anim:w,queue:w.opts.queue})),w}y(Pe,"Animation"),o.Animation=o.extend(Pe,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return zi(r.elem,e,Dt.exec(t),r),r}]},tweener:function(e,t){N(e)?(t=e,e=["*"]):e=e.match(je);for(var r,s=0,u=e.length;s<u;s++)r=e[s],Pe.tweeners[r]=Pe.tweeners[r]||[],Pe.tweeners[r].unshift(t)},prefilters:[lr],prefilter:function(e,t){t?Pe.prefilters.unshift(e):Pe.prefilters.push(e)}}),o.speed=function(e,t,r){var s=e&&typeof e=="object"?o.extend({},e):{complete:r||!r&&t||N(e)&&e,duration:e,easing:r&&t||t&&!N(t)&&t};return o.fx.off?s.duration=0:typeof s.duration!="number"&&(s.duration in o.fx.speeds?s.duration=o.fx.speeds[s.duration]:s.duration=o.fx.speeds._default),(s.queue==null||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){N(s.old)&&s.old.call(this),s.queue&&o.dequeue(this,s.queue)},s},o.fn.extend({fadeTo:function(e,t,r,s){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:t},e,r,s)},animate:function(e,t,r,s){var u=o.isEmptyObject(e),c=o.speed(t,r,s),d=y(function(){var v=Pe(this,o.extend({},e),c);(u||H.get(this,"finish"))&&v.stop(!0)},"doAnimation");return d.finish=d,u||c.queue===!1?this.each(d):this.queue(c.queue,d)},stop:function(e,t,r){var s=y(function(u){var c=u.stop;delete u.stop,c(r)},"stopQueue");return typeof e!="string"&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var u=!0,c=e!=null&&e+"queueHooks",d=o.timers,v=H.get(this);if(c)v[c]&&v[c].stop&&s(v[c]);else for(c in v)v[c]&&v[c].stop&&or.test(c)&&s(v[c]);for(c=d.length;c--;)d[c].elem===this&&(e==null||d[c].queue===e)&&(d[c].anim.stop(r),u=!1,d.splice(c,1));(u||!r)&&o.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=H.get(this),s=r[e+"queue"],u=r[e+"queueHooks"],c=o.timers,d=s?s.length:0;for(r.finish=!0,o.queue(this,e,[]),u&&u.stop&&u.stop.call(this,!0),t=c.length;t--;)c[t].elem===this&&c[t].queue===e&&(c[t].anim.stop(!0),c.splice(t,1));for(t=0;t<d;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete r.finish})}}),o.each(["toggle","show","hide"],function(e,t){var r=o.fn[t];o.fn[t]=function(s,u,c){return s==null||typeof s=="boolean"?r.apply(this,arguments):this.animate(Bt(t,!0),s,u,c)}}),o.each({slideDown:Bt("show"),slideUp:Bt("hide"),slideToggle:Bt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){o.fn[e]=function(r,s,u){return this.animate(t,r,s,u)}}),o.timers=[],o.fx.tick=function(){var e,t=0,r=o.timers;for(bt=Date.now();t<r.length;t++)e=r[t],!e()&&r[t]===e&&r.splice(t--,1);r.length||o.fx.stop(),bt=void 0},o.fx.timer=function(e){o.timers.push(e),o.fx.start()},o.fx.interval=13,o.fx.start=function(){zt||(zt=!0,oi())},o.fx.stop=function(){zt=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(e,t){return e=o.fx&&o.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(r,s){var u=p.setTimeout(r,e);s.stop=function(){p.clearTimeout(u)}})},function(){var e=z.createElement("input"),t=z.createElement("select"),r=t.appendChild(z.createElement("option"));e.type="checkbox",T.checkOn=e.value!=="",T.optSelected=r.selected,e=z.createElement("input"),e.value="t",e.type="radio",T.radioValue=e.value==="t"}();var an,At=o.expr.attrHandle;o.fn.extend({attr:function(e,t){return Be(this,o.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){o.removeAttr(this,e)})}}),o.extend({attr:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2)){if(typeof e.getAttribute>"u")return o.prop(e,t,r);if((c!==1||!o.isXMLDoc(e))&&(u=o.attrHooks[t.toLowerCase()]||(o.expr.match.bool.test(t)?an:void 0)),r!==void 0){if(r===null){o.removeAttr(e,t);return}return u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:(e.setAttribute(t,r+""),r)}return u&&"get"in u&&(s=u.get(e,t))!==null?s:(s=o.find.attr(e,t),s??void 0)}},attrHooks:{type:{set:function(e,t){if(!T.radioValue&&t==="radio"&&ne(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,s=0,u=t&&t.match(je);if(u&&e.nodeType===1)for(;r=u[s++];)e.removeAttribute(r)}}),an={set:function(e,t,r){return t===!1?o.removeAttr(e,r):e.setAttribute(r,r),r}},o.each(o.expr.match.bool.source.match(/\w+/g),function(e,t){var r=At[t]||o.find.attr;At[t]=function(s,u,c){var d,v,b=u.toLowerCase();return c||(v=At[b],At[b]=d,d=r(s,u,c)!=null?b:null,At[b]=v),d}});var fr=/^(?:input|select|textarea|button)$/i,cr=/^(?:a|area)$/i;o.fn.extend({prop:function(e,t){return Be(this,o.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[o.propFix[e]||e]})}}),o.extend({prop:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2))return(c!==1||!o.isXMLDoc(e))&&(t=o.propFix[t]||t,u=o.propHooks[t]),r!==void 0?u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:e[t]=r:u&&"get"in u&&(s=u.get(e,t))!==null?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=o.find.attr(e,"tabindex");return t?parseInt(t,10):fr.test(e.nodeName)||cr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(o.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function nt(e){var t=e.match(je)||[];return t.join(" ")}y(nt,"stripAndCollapse");function rt(e){return e.getAttribute&&e.getAttribute("class")||""}y(rt,"getClass");function li(e){return Array.isArray(e)?e:typeof e=="string"?e.match(je)||[]:[]}y(li,"classesToArray"),o.fn.extend({addClass:function(e){var t,r,s,u,c,d;return N(e)?this.each(function(v){o(this).addClass(e.call(this,v,rt(this)))}):(t=li(e),t.length?this.each(function(){if(s=rt(this),r=this.nodeType===1&&" "+nt(s)+" ",r){for(c=0;c<t.length;c++)u=t[c],r.indexOf(" "+u+" ")<0&&(r+=u+" ");d=nt(r),s!==d&&this.setAttribute("class",d)}}):this)},removeClass:function(e){var t,r,s,u,c,d;return N(e)?this.each(function(v){o(this).removeClass(e.call(this,v,rt(this)))}):arguments.length?(t=li(e),t.length?this.each(function(){if(s=rt(this),r=this.nodeType===1&&" "+nt(s)+" ",r){for(c=0;c<t.length;c++)for(u=t[c];r.indexOf(" "+u+" ")>-1;)r=r.replace(" "+u+" "," ");d=nt(r),s!==d&&this.setAttribute("class",d)}}):this):this.attr("class","")},toggleClass:function(e,t){var r,s,u,c,d=typeof e,v=d==="string"||Array.isArray(e);return N(e)?this.each(function(b){o(this).toggleClass(e.call(this,b,rt(this),t),t)}):typeof t=="boolean"&&v?t?this.addClass(e):this.removeClass(e):(r=li(e),this.each(function(){if(v)for(c=o(this),u=0;u<r.length;u++)s=r[u],c.hasClass(s)?c.removeClass(s):c.addClass(s);else(e===void 0||d==="boolean")&&(s=rt(this),s&&H.set(this,"__className__",s),this.setAttribute&&this.setAttribute("class",s||e===!1?"":H.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,s=0;for(t=" "+e+" ";r=this[s++];)if(r.nodeType===1&&(" "+nt(rt(r))+" ").indexOf(t)>-1)return!0;return!1}});var dr=/\r/g;o.fn.extend({val:function(e){var t,r,s,u=this[0];return arguments.length?(s=N(e),this.each(function(c){var d;this.nodeType===1&&(s?d=e.call(this,c,o(this).val()):d=e,d==null?d="":typeof d=="number"?d+="":Array.isArray(d)&&(d=o.map(d,function(v){return v==null?"":v+""})),t=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,d,"value")===void 0)&&(this.value=d))})):u?(t=o.valHooks[u.type]||o.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==void 0?r:(r=u.value,typeof r=="string"?r.replace(dr,""):r??"")):void 0}}),o.extend({valHooks:{option:{get:function(e){var t=o.find.attr(e,"value");return t??nt(o.text(e))}},select:{get:function(e){var t,r,s,u=e.options,c=e.selectedIndex,d=e.type==="select-one",v=d?null:[],b=d?c+1:u.length;for(c<0?s=b:s=d?c:0;s<b;s++)if(r=u[s],(r.selected||s===c)&&!r.disabled&&(!r.parentNode.disabled||!ne(r.parentNode,"optgroup"))){if(t=o(r).val(),d)return t;v.push(t)}return v},set:function(e,t){for(var r,s,u=e.options,c=o.makeArray(t),d=u.length;d--;)s=u[d],(s.selected=o.inArray(o.valHooks.option.get(s),c)>-1)&&(r=!0);return r||(e.selectedIndex=-1),c}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=o.inArray(o(e).val(),t)>-1}},T.checkOn||(o.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Tt=p.location,on={guid:Date.now()},ui=/\?/;o.parseXML=function(e){var t,r;if(!e||typeof e!="string")return null;try{t=new p.DOMParser().parseFromString(e,"text/xml")}catch{}return r=t&&t.getElementsByTagName("parsererror")[0],(!t||r)&&o.error("Invalid XML: "+(r?o.map(r.childNodes,function(s){return s.textContent}).join(`
`):e)),t};var ln=/^(?:focusinfocus|focusoutblur)$/,un=y(function(e){e.stopPropagation()},"stopPropagationCallback");o.extend(o.event,{trigger:function(e,t,r,s){var u,c,d,v,b,w,k,E,D=[r||z],q=A.call(e,"type")?e.type:e,U=A.call(e,"namespace")?e.namespace.split("."):[];if(c=E=d=r=r||z,!(r.nodeType===3||r.nodeType===8)&&!ln.test(q+o.event.triggered)&&(q.indexOf(".")>-1&&(U=q.split("."),q=U.shift(),U.sort()),b=q.indexOf(":")<0&&"on"+q,e=e[o.expando]?e:new o.Event(q,typeof e=="object"&&e),e.isTrigger=s?2:3,e.namespace=U.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+U.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=t==null?[e]:o.makeArray(t,[e]),k=o.event.special[q]||{},!(!s&&k.trigger&&k.trigger.apply(r,t)===!1))){if(!s&&!k.noBubble&&!M(r)){for(v=k.delegateType||q,ln.test(v+q)||(c=c.parentNode);c;c=c.parentNode)D.push(c),d=c;d===(r.ownerDocument||z)&&D.push(d.defaultView||d.parentWindow||p)}for(u=0;(c=D[u++])&&!e.isPropagationStopped();)E=c,e.type=u>1?v:k.bindType||q,w=(H.get(c,"events")||Object.create(null))[e.type]&&H.get(c,"handle"),w&&w.apply(c,t),w=b&&c[b],w&&w.apply&&St(c)&&(e.result=w.apply(c,t),e.result===!1&&e.preventDefault());return e.type=q,!s&&!e.isDefaultPrevented()&&(!k._default||k._default.apply(D.pop(),t)===!1)&&St(r)&&b&&N(r[q])&&!M(r)&&(d=r[b],d&&(r[b]=null),o.event.triggered=q,e.isPropagationStopped()&&E.addEventListener(q,un),r[q](),e.isPropagationStopped()&&E.removeEventListener(q,un),o.event.triggered=void 0,d&&(r[b]=d)),e.result}},simulate:function(e,t,r){var s=o.extend(new o.Event,r,{type:e,isSimulated:!0});o.event.trigger(s,null,t)}}),o.fn.extend({trigger:function(e,t){return this.each(function(){o.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return o.event.trigger(e,t,r,!0)}});var hr=/\[\]$/,fn=/\r?\n/g,pr=/^(?:submit|button|image|reset|file)$/i,gr=/^(?:input|select|textarea|keygen)/i;function fi(e,t,r,s){var u;if(Array.isArray(t))o.each(t,function(c,d){r||hr.test(e)?s(e,d):fi(e+"["+(typeof d=="object"&&d!=null?c:"")+"]",d,r,s)});else if(!r&&Q(t)==="object")for(u in t)fi(e+"["+u+"]",t[u],r,s);else s(e,t)}y(fi,"buildParams"),o.param=function(e,t){var r,s=[],u=y(function(c,d){var v=N(d)?d():d;s[s.length]=encodeURIComponent(c)+"="+encodeURIComponent(v??"")},"add");if(e==null)return"";if(Array.isArray(e)||e.jquery&&!o.isPlainObject(e))o.each(e,function(){u(this.name,this.value)});else for(r in e)fi(r,e[r],t,u);return s.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=o.prop(this,"elements");return e?o.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!o(this).is(":disabled")&&gr.test(this.nodeName)&&!pr.test(e)&&(this.checked||!Ot.test(e))}).map(function(e,t){var r=o(this).val();return r==null?null:Array.isArray(r)?o.map(r,function(s){return{name:t.name,value:s.replace(fn,`\r
`)}}):{name:t.name,value:r.replace(fn,`\r
`)}}).get()}});var yr=/%20/g,mr=/#.*$/,br=/([?&])_=[^&]*/,vr=/^(.*?):[ \t]*([^\r\n]*)$/mg,xr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wr=/^(?:GET|HEAD)$/,Cr=/^\/\//,cn={},ci={},dn="*/".concat("*"),di=z.createElement("a");di.href=Tt.href;function hn(e){return function(t,r){typeof t!="string"&&(r=t,t="*");var s,u=0,c=t.toLowerCase().match(je)||[];if(N(r))for(;s=c[u++];)s[0]==="+"?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(r)):(e[s]=e[s]||[]).push(r)}}y(hn,"addToPrefiltersOrTransports");function pn(e,t,r,s){var u={},c=e===ci;function d(v){var b;return u[v]=!0,o.each(e[v]||[],function(w,k){var E=k(t,r,s);if(typeof E=="string"&&!c&&!u[E])return t.dataTypes.unshift(E),d(E),!1;if(c)return!(b=E)}),b}return y(d,"inspect"),d(t.dataTypes[0])||!u["*"]&&d("*")}y(pn,"inspectPrefiltersOrTransports");function hi(e,t){var r,s,u=o.ajaxSettings.flatOptions||{};for(r in t)t[r]!==void 0&&((u[r]?e:s||(s={}))[r]=t[r]);return s&&o.extend(!0,e,s),e}y(hi,"ajaxExtend");function Sr(e,t,r){for(var s,u,c,d,v=e.contents,b=e.dataTypes;b[0]==="*";)b.shift(),s===void 0&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s){for(u in v)if(v[u]&&v[u].test(s)){b.unshift(u);break}}if(b[0]in r)c=b[0];else{for(u in r){if(!b[0]||e.converters[u+" "+b[0]]){c=u;break}d||(d=u)}c=c||d}if(c)return c!==b[0]&&b.unshift(c),r[c]}y(Sr,"ajaxHandleResponses");function Ir(e,t,r,s){var u,c,d,v,b,w={},k=e.dataTypes.slice();if(k[1])for(d in e.converters)w[d.toLowerCase()]=e.converters[d];for(c=k.shift();c;)if(e.responseFields[c]&&(r[e.responseFields[c]]=t),!b&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),b=c,c=k.shift(),c){if(c==="*")c=b;else if(b!=="*"&&b!==c){if(d=w[b+" "+c]||w["* "+c],!d){for(u in w)if(v=u.split(" "),v[1]===c&&(d=w[b+" "+v[0]]||w["* "+v[0]],d)){d===!0?d=w[u]:w[u]!==!0&&(c=v[0],k.unshift(v[1]));break}}if(d!==!0)if(d&&e.throws)t=d(t);else try{t=d(t)}catch(E){return{state:"parsererror",error:d?E:"No conversion from "+b+" to "+c}}}}return{state:"success",data:t}}y(Ir,"ajaxConvert"),o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:xr.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?hi(hi(e,o.ajaxSettings),t):hi(o.ajaxSettings,e)},ajaxPrefilter:hn(cn),ajaxTransport:hn(ci),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var r,s,u,c,d,v,b,w,k,E,D=o.ajaxSetup({},t),q=D.context||D,U=D.context&&(q.nodeType||q.jquery)?o(q):o.event,ee=o.Deferred(),X=o.Callbacks("once memory"),ce=D.statusCode||{},fe={},qe={},$e="canceled",Z={readyState:0,getResponseHeader:function(ie){var le;if(b){if(!c)for(c={};le=vr.exec(u);)c[le[1].toLowerCase()+" "]=(c[le[1].toLowerCase()+" "]||[]).concat(le[2]);le=c[ie.toLowerCase()+" "]}return le==null?null:le.join(", ")},getAllResponseHeaders:function(){return b?u:null},setRequestHeader:function(ie,le){return b==null&&(ie=qe[ie.toLowerCase()]=qe[ie.toLowerCase()]||ie,fe[ie]=le),this},overrideMimeType:function(ie){return b==null&&(D.mimeType=ie),this},statusCode:function(ie){var le;if(ie)if(b)Z.always(ie[Z.status]);else for(le in ie)ce[le]=[ce[le],ie[le]];return this},abort:function(ie){var le=ie||$e;return r&&r.abort(le),st(0,le),this}};if(ee.promise(Z),D.url=((e||D.url||Tt.href)+"").replace(Cr,Tt.protocol+"//"),D.type=t.method||t.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(je)||[""],D.crossDomain==null){v=z.createElement("a");try{v.href=D.url,v.href=v.href,D.crossDomain=di.protocol+"//"+di.host!=v.protocol+"//"+v.host}catch{D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=o.param(D.data,D.traditional)),pn(cn,D,t,Z),b)return Z;w=o.event&&D.global,w&&o.active++===0&&o.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!wr.test(D.type),s=D.url.replace(mr,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(yr,"+")):(E=D.url.slice(s.length),D.data&&(D.processData||typeof D.data=="string")&&(s+=(ui.test(s)?"&":"?")+D.data,delete D.data),D.cache===!1&&(s=s.replace(br,"$1"),E=(ui.test(s)?"&":"?")+"_="+on.guid+++E),D.url=s+E),D.ifModified&&(o.lastModified[s]&&Z.setRequestHeader("If-Modified-Since",o.lastModified[s]),o.etag[s]&&Z.setRequestHeader("If-None-Match",o.etag[s])),(D.data&&D.hasContent&&D.contentType!==!1||t.contentType)&&Z.setRequestHeader("Content-Type",D.contentType),Z.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+dn+"; q=0.01":""):D.accepts["*"]);for(k in D.headers)Z.setRequestHeader(k,D.headers[k]);if(D.beforeSend&&(D.beforeSend.call(q,Z,D)===!1||b))return Z.abort();if($e="abort",X.add(D.complete),Z.done(D.success),Z.fail(D.error),r=pn(ci,D,t,Z),!r)st(-1,"No Transport");else{if(Z.readyState=1,w&&U.trigger("ajaxSend",[Z,D]),b)return Z;D.async&&D.timeout>0&&(d=p.setTimeout(function(){Z.abort("timeout")},D.timeout));try{b=!1,r.send(fe,st)}catch(ie){if(b)throw ie;st(-1,ie)}}function st(ie,le,Et,gi){var Le,jt,Me,Je,Ke,Oe=le;b||(b=!0,d&&p.clearTimeout(d),r=void 0,u=gi||"",Z.readyState=ie>0?4:0,Le=ie>=200&&ie<300||ie===304,Et&&(Je=Sr(D,Z,Et)),!Le&&o.inArray("script",D.dataTypes)>-1&&o.inArray("json",D.dataTypes)<0&&(D.converters["text script"]=function(){}),Je=Ir(D,Je,Z,Le),Le?(D.ifModified&&(Ke=Z.getResponseHeader("Last-Modified"),Ke&&(o.lastModified[s]=Ke),Ke=Z.getResponseHeader("etag"),Ke&&(o.etag[s]=Ke)),ie===204||D.type==="HEAD"?Oe="nocontent":ie===304?Oe="notmodified":(Oe=Je.state,jt=Je.data,Me=Je.error,Le=!Me)):(Me=Oe,(ie||!Oe)&&(Oe="error",ie<0&&(ie=0))),Z.status=ie,Z.statusText=(le||Oe)+"",Le?ee.resolveWith(q,[jt,Oe,Z]):ee.rejectWith(q,[Z,Oe,Me]),Z.statusCode(ce),ce=void 0,w&&U.trigger(Le?"ajaxSuccess":"ajaxError",[Z,D,Le?jt:Me]),X.fireWith(q,[Z,Oe]),w&&(U.trigger("ajaxComplete",[Z,D]),--o.active||o.event.trigger("ajaxStop")))}return y(st,"done"),Z},getJSON:function(e,t,r){return o.get(e,t,r,"json")},getScript:function(e,t){return o.get(e,void 0,t,"script")}}),o.each(["get","post"],function(e,t){o[t]=function(r,s,u,c){return N(s)&&(c=c||u,u=s,s=void 0),o.ajax(o.extend({url:r,type:t,dataType:c,data:s,success:u},o.isPlainObject(r)&&r))}}),o.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),o._evalUrl=function(e,t,r){return o.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(s){o.globalEval(s,t,r)}})},o.fn.extend({wrapAll:function(e){var t;return this[0]&&(N(e)&&(e=e.call(this[0])),t=o(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var r=this;r.firstElementChild;)r=r.firstElementChild;return r}).append(this)),this},wrapInner:function(e){return N(e)?this.each(function(t){o(this).wrapInner(e.call(this,t))}):this.each(function(){var t=o(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=N(e);return this.each(function(r){o(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(e){return!o.expr.pseudos.visible(e)},o.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new p.XMLHttpRequest}catch{}};var Dr={0:200,1223:204},Pt=o.ajaxSettings.xhr();T.cors=!!Pt&&"withCredentials"in Pt,T.ajax=Pt=!!Pt,o.ajaxTransport(function(e){var t,r;if(T.cors||Pt&&!e.crossDomain)return{send:function(s,u){var c,d=e.xhr();if(d.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(c in e.xhrFields)d[c]=e.xhrFields[c];e.mimeType&&d.overrideMimeType&&d.overrideMimeType(e.mimeType),!e.crossDomain&&!s["X-Requested-With"]&&(s["X-Requested-With"]="XMLHttpRequest");for(c in s)d.setRequestHeader(c,s[c]);t=y(function(v){return function(){t&&(t=r=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,v==="abort"?d.abort():v==="error"?typeof d.status!="number"?u(0,"error"):u(d.status,d.statusText):u(Dr[d.status]||d.status,d.statusText,(d.responseType||"text")!=="text"||typeof d.responseText!="string"?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},"callback"),d.onload=t(),r=d.onerror=d.ontimeout=t("error"),d.onabort!==void 0?d.onabort=r:d.onreadystatechange=function(){d.readyState===4&&p.setTimeout(function(){t&&r()})},t=t("abort");try{d.send(e.hasContent&&e.data||null)}catch(v){if(t)throw v}},abort:function(){t&&t()}}}),o.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return o.globalEval(e),e}}}),o.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),o.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,r;return{send:function(s,u){t=o("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=y(function(c){t.remove(),r=null,c&&u(c.type==="error"?404:200,c.type)},"callback")),z.head.appendChild(t[0])},abort:function(){r&&r()}}}});var gn=[],pi=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=gn.pop()||o.expando+"_"+on.guid++;return this[e]=!0,e}}),o.ajaxPrefilter("json jsonp",function(e,t,r){var s,u,c,d=e.jsonp!==!1&&(pi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pi.test(e.data)&&"data");if(d||e.dataTypes[0]==="jsonp")return s=e.jsonpCallback=N(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,d?e[d]=e[d].replace(pi,"$1"+s):e.jsonp!==!1&&(e.url+=(ui.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return c||o.error(s+" was not called"),c[0]},e.dataTypes[0]="json",u=p[s],p[s]=function(){c=arguments},r.always(function(){u===void 0?o(p).removeProp(s):p[s]=u,e[s]&&(e.jsonpCallback=t.jsonpCallback,gn.push(s)),c&&N(u)&&u(c[0]),c=u=void 0}),"script"}),T.createHTMLDocument=function(){var e=z.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),o.parseHTML=function(e,t,r){if(typeof e!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,c;return t||(T.createHTMLDocument?(t=z.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=z.location.href,t.head.appendChild(s)):t=z),u=qi.exec(e),c=!r&&[],u?[t.createElement(u[1])]:(u=Vi([e],t,c),c&&c.length&&o(c).remove(),o.merge([],u.childNodes))},o.fn.load=function(e,t,r){var s,u,c,d=this,v=e.indexOf(" ");return v>-1&&(s=nt(e.slice(v)),e=e.slice(0,v)),N(t)?(r=t,t=void 0):t&&typeof t=="object"&&(u="POST"),d.length>0&&o.ajax({url:e,type:u||"GET",dataType:"html",data:t}).done(function(b){c=arguments,d.html(s?o("<div>").append(o.parseHTML(b)).find(s):b)}).always(r&&function(b,w){d.each(function(){r.apply(this,c||[b.responseText,w,b])})}),this},o.expr.pseudos.animated=function(e){return o.grep(o.timers,function(t){return e===t.elem}).length},o.offset={setOffset:function(e,t,r){var s,u,c,d,v,b,w,k=o.css(e,"position"),E=o(e),D={};k==="static"&&(e.style.position="relative"),v=E.offset(),c=o.css(e,"top"),b=o.css(e,"left"),w=(k==="absolute"||k==="fixed")&&(c+b).indexOf("auto")>-1,w?(s=E.position(),d=s.top,u=s.left):(d=parseFloat(c)||0,u=parseFloat(b)||0),N(t)&&(t=t.call(e,r,o.extend({},v))),t.top!=null&&(D.top=t.top-v.top+d),t.left!=null&&(D.left=t.left-v.left+u),"using"in t?t.using.call(e,D):E.css(D)}},o.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(u){o.offset.setOffset(this,e,u)});var t,r,s=this[0];if(s)return s.getClientRects().length?(t=s.getBoundingClientRect(),r=s.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,s=this[0],u={top:0,left:0};if(o.css(s,"position")==="fixed")t=s.getBoundingClientRect();else{for(t=this.offset(),r=s.ownerDocument,e=s.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&o.css(e,"position")==="static";)e=e.parentNode;e&&e!==s&&e.nodeType===1&&(u=o(e).offset(),u.top+=o.css(e,"borderTopWidth",!0),u.left+=o.css(e,"borderLeftWidth",!0))}return{top:t.top-u.top-o.css(s,"marginTop",!0),left:t.left-u.left-o.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&o.css(e,"position")==="static";)e=e.offsetParent;return e||it})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=t==="pageYOffset";o.fn[e]=function(s){return Be(this,function(u,c,d){var v;if(M(u)?v=u:u.nodeType===9&&(v=u.defaultView),d===void 0)return v?v[t]:u[c];v?v.scrollTo(r?v.pageXOffset:d,r?d:v.pageYOffset):u[c]=d},e,s,arguments.length)}}),o.each(["top","left"],function(e,t){o.cssHooks[t]=Qi(T.pixelPosition,function(r,s){if(s)return s=kt(r,t),ni.test(s)?o(r).position()[t]+"px":s})}),o.each({Height:"height",Width:"width"},function(e,t){o.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,s){o.fn[s]=function(u,c){var d=arguments.length&&(r||typeof u!="boolean"),v=r||(u===!0||c===!0?"margin":"border");return Be(this,function(b,w,k){var E;return M(b)?s.indexOf("outer")===0?b["inner"+e]:b.document.documentElement["client"+e]:b.nodeType===9?(E=b.documentElement,Math.max(b.body["scroll"+e],E["scroll"+e],b.body["offset"+e],E["offset"+e],E["client"+e])):k===void 0?o.css(b,w,v):o.style(b,w,k,v)},t,d?u:void 0,d)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){o.fn[t]=function(r){return this.on(t,r)}}),o.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,s){return this.on(t,e,r,s)},undelegate:function(e,t,r){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){o.fn[t]=function(r,s){return arguments.length>0?this.on(t,null,r,s):this.trigger(t)}});var Or=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;o.proxy=function(e,t){var r,s,u;if(typeof t=="string"&&(r=e[t],t=e,e=r),!!N(e))return s=a.call(arguments,2),u=y(function(){return e.apply(t||this,s.concat(a.call(arguments)))},"proxy"),u.guid=e.guid=e.guid||o.guid++,u},o.holdReady=function(e){e?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=ne,o.isFunction=N,o.isWindow=M,o.camelCase=Ne,o.type=Q,o.now=Date.now,o.isNumeric=function(e){var t=o.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},o.trim=function(e){return e==null?"":(e+"").replace(Or,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var kr=p.jQuery,Ar=p.$;return o.noConflict=function(e){return p.$===o&&(p.$=Ar),e&&p.jQuery===o&&(p.jQuery=kr),o},typeof l>"u"&&(p.jQuery=p.$=o),o})});var Gr={};var Te,tt,Tn=Br(()=>{Te=class{constructor(l,i){if(this.app="loki",this.options=i||{},typeof l!="undefined"&&(this.app=l),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}exportDatabase(l,i,n){throw new Error("Method not implemented.")}closeDatabase(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)}checkAvailability(){return!!(typeof indexedDB!="undefined"&&indexedDB)}loadDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(f=>{a.catalog=f,a.loadDatabase(l,i)});return}this.catalog.getAppKey(n,l,({id:f,val:h})=>{if(typeof i=="function"){if(f===0){i(null);return}i(h)}else console.log(h)})}saveDatabase(l,i,n){let a=this.app,f=this;function h(g){g&&g.success===!0?n(null):n(new Error("Error saving database")),f.options.closeAfterSave&&f.closeDatabase()}if(y(h,"saveCallback"),this.catalog===null||this.catalog.db===null){this.catalog=new tt(g=>{f.saveDatabase(l,i,h)});return}this.catalog.setAppKey(a,l,i,h)}deleteDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(f=>{a.catalog=f,a.deleteDatabase(l,i)});return}this.catalog.getAppKey(n,l,f=>{let h=f.id;h!==0?a.catalog.deleteAppKey(h,i):typeof i=="function"&&i({success:!0})})}deleteDatabasePartitions(l){let i=this;this.getDatabaseList(n=>{n.forEach(a=>{a.startsWith(l)&&i.deleteDatabase(a)})})}getDatabaseList(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(a=>{n.catalog=a,n.getDatabaseList(l)});return}this.catalog.getAppKeys(i,a=>{let f=[];for(let h=0;h<a.length;h++)f.push(a[h].key);typeof l=="function"?l(f):f.forEach(h=>{console.log(h)})})}getCatalogSummary(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(a=>{n.catalog=a,n.getCatalogSummary(l)});return}this.catalog.getAllKeys(a=>{let f=[],h,g,S,C,A;for(let j=0;j<a.length;j++)h=a[j],S=h.app||"",C=h.key||"",A=h.val||"",g=S.length*2+C.length*2+A.length+1,f.push({app:h.app,key:h.key,size:g});typeof l=="function"?l(f):f.forEach(j=>{console.log(j)})})}};y(Te,"LokiIndexedAdapter");Te.prototype.loadKey=Te.prototype.loadDatabase;Te.prototype.saveKey=Te.prototype.saveDatabase;Te.prototype.deleteKey=Te.prototype.deleteDatabase;Te.prototype.getKeyList=Te.prototype.getDatabaseList;tt=class{constructor(l){this.db=null,this.initializeLokiCatalog(l)}initializeLokiCatalog(l){let i=indexedDB.open("LokiCatalog",1),n=this;i.onupgradeneeded=({target:a})=>{let f=a.result;if(f.objectStoreNames.contains("LokiAKV")&&f.deleteObjectStore("LokiAKV"),!f.objectStoreNames.contains("LokiAKV")){let h=f.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});h.createIndex("app","app",{unique:!1}),h.createIndex("key","key",{unique:!1}),h.createIndex("appkey","appkey",{unique:!0})}},i.onsuccess=({target:a})=>{n.db=a.result,typeof l=="function"&&l(n)},i.onerror=a=>{throw a}}getAppKey(l,i,n){let h=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("appkey"),g=`${l},${i}`,S=h.get(g);S.onsuccess=(C=>({target:A})=>{let j=A.result;(j===null||typeof j=="undefined")&&(j={id:0,success:!1}),typeof C=="function"?C(j):console.log(j)})(n),S.onerror=(C=>A=>{if(typeof C=="function")C({id:0,success:!1});else throw A})(n)}getAppKeyById(l,i,n){let h=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").get(l);h.onsuccess=((g,S)=>({target:C})=>{typeof S=="function"?S(C.result,g):console.log(C.result)})(n,i)}setAppKey(l,i,n,a){let h=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV"),g=h.index("appkey"),S=`${l},${i}`,C=g.get(S);C.onsuccess=({target:A})=>{let j=A.result;j==null?j={app:l,key:i,appkey:`${l},${i}`,val:n}:j.val=n;let L=h.put(j);L.onerror=(T=>N=>{typeof T=="function"?T({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(C.error))})(a),L.onsuccess=(T=>N=>{typeof T=="function"&&T({success:!0})})(a)},C.onerror=(A=>j=>{typeof A=="function"?A({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(C.error))})(a)}deleteAppKey(l,i){let f=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV").delete(l);f.onsuccess=(h=>g=>{typeof h=="function"&&h({success:!0})})(i),f.onerror=(h=>g=>{typeof h=="function"?h({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(f.error))})(i)}getAppKeys(l,i){let f=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("app"),h=IDBKeyRange.only(l),g=f.openCursor(h),S=[];g.onsuccess=((C,A)=>({target:j})=>{let L=j.result;if(L){let T=L.value;C.push(T),L.continue()}else typeof A=="function"?A(C):console.log(C)})(S,i),g.onerror=(C=>A=>{typeof C=="function"?C(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(A))})(i)}getAllKeys(l){let a=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").openCursor(),f=[];a.onsuccess=((h,g)=>({target:S})=>{let C=S.result;if(C){let A=C.value;h.push(A),C.continue()}else typeof g=="function"?g(h):console.log(h)})(f,l),a.onerror=(h=>g=>{typeof h=="function"&&h(null)})(l)}};y(tt,"LokiCatalog");typeof window!="undefined"&&Object.assign(window,{LokiIndexedAdapter:Te})});var ot=class{constructor(){try{this.fs=Ci("fs")}catch(l){this.fs=null}}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.fs.stat(l,(a,f)=>{!a&&f.isFile()?n.fs.readFile(l,{encoding:"utf8"},y(function(g,S){i(g?new Error(g):S)},"readFileCallback")):i(null)})}saveDatabase(l,i,n){let a=this,f=`${l}~`;this.fs.writeFile(f,i,y(function(g){g?n(new Error(g)):a.fs.rename(f,l,n)},"writeFileCallback"))}deleteDatabase(l,i){this.fs.unlink(l,y(function(a){a?i(new Error(a)):i()},"deleteDatabaseCallback"))}};y(ot,"LokiFsAdapter");var Sn=Vr(wn());function Cn(p,l){if(l=="parse-stringify")return oe(p,l);for(var i=[],n=0,a=p.length;n<a;n++)i[n]=oe(p[n],l);return i}y(Cn,"cloneObjectArray");function oe(p,l){if(p==null)return null;var i=l||"parse-stringify",n;switch(i){case"parse-stringify":n=JSON.parse(JSON.stringify(p));break;case"jquery-extend-deep":n=Sn.extend(!0,{},p);break;case"shallow":n=Object.create(p.constructor.prototype),Object.keys(p).map(function(f){n[f]=p[f]});break;case"shallow-assign":n=Object.create(p.constructor.prototype),Object.assign(n,p);break;case"shallow-recurse-objects":n=oe(p,"shallow");var a=Object.keys(p);a.forEach(function(f){typeof p[f]=="object"&&p[f].constructor.name==="Object"?n[f]=oe(p[f],"shallow-recurse-objects"):Array.isArray(p[f])&&(n[f]=Cn(p[f],"shallow-recurse-objects"))});break;default:break}return n}y(oe,"clone");function Qe(p){Object.isFrozen(p)||Object.freeze(p)}y(Qe,"freeze");function pe(p){var l,i;if(Array.isArray(p)){for(i=0;i<p.length;i++)pe(p[i]);Qe(p)}else if(p!==null&&typeof p=="object"){for(l in p)Object.hasOwn(p,l)&&pe(p[l]);Qe(p)}}y(pe,"deepFreeze");function Ge(p){return Object.isFrozen(p)?oe(p,"shallow"):p}y(Ge,"unFreeze");var _={};Wr(_,{copyProperties:()=>Ur,getIn:()=>Kr,resolveTransformObject:()=>In,resolveTransformParams:()=>Jr});var Ur=y(function(p,l){var i;for(i in p)l[i]=p[i]},"copyProperties"),In=y(function(p,l,i){var n,a;if(typeof i!="number"&&(i=0),++i>=10)return p;for(n in p)typeof p[n]=="string"&&p[n].indexOf("[%lktxp]")===0?(a=p[n].substring(8),Object.hasOwn(l,a)&&(p[n]=l[a])):typeof p[n]=="object"&&(p[n]=_.resolveTransformObject(p[n],l,i));return p},"resolveTransformObject"),Jr=y(function(p,l){var i,n,a=[];if(typeof l=="undefined")return p;for(i=0;i<p.length;i++)n=oe(p[i],"shallow-recurse-objects"),a.push(In(n,l));return a},"resolveTransformParams"),Kr=y(function(p,l,i){if(p!=null){if(!i)return p[l];if(typeof l=="string"&&(l=l.split(".")),!Array.isArray(l))throw new Error("path must be a string or array. Found "+typeof l);for(var n=0,a=l.length;p!=null&&n<a;)p=p[l[n++]];return n&&n==a?p:void 0}},"getIn");function Xt(p){return p.indexOf(".")!==-1}y(Xt,"isDeepProperty");function Xr(p,l){return p+l}y(Xr,"add");function Dn(p,l){return p-l}y(Dn,"sub");function Kt(p){return p.reduce(Xr,0)/p.length}y(Kt,"average");function On(p){let l=Kt(p),i=p.map(function(f){let h=f-l;return h*h}),n=Kt(i);return Math.sqrt(n)}y(On,"standardDeviation");function Si(p){return typeof p=="string"||Array.isArray(p)?function(l){return p.indexOf(l)!==-1}:typeof p=="object"&&p!==null?function(l){return Object.hasOwn(p,l)}:null}y(Si,"containsCheckFn");function lt(p,l,i,n,a,f){let h=f||0,g=l[h],S=!1,C;if(p!==null&&typeof p=="object"&&g in p&&(C=p[g]),h+1>=l.length)S=i(C,n,a);else if(Array.isArray(C))for(let A=0,j=C.length;A<j&&(S=lt(C[A],l,i,n,a,h+1),S!==!0);A+=1);else S=lt(C,l,i,n,a,h+1);return S}y(lt,"dotSubScan");var K={aeq:Ii,lt:Di,gt:Oi};function Ii(p,l){var i,n,a,f;if(p===l)return!0;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:a=1;break;case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=p===p?9:0;break}switch(l){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=l===l?9:0;break}if(a!==9||f!==9)return a===f}return i=Number(p),n=Number(l),i===i||n===n?i===n:(i=p.toString(),n=l.toString(),i==n)}y(Ii,"aeqHelper");function Di(p,l,i){var n,a,f,h;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=p===p?9:0;break}switch(l){case void 0:h=1;break;case null:h=1;break;case!1:h=3;break;case!0:h=4;break;case"":h=5;break;default:h=l===l?9:0;break}if(f!==9||h!==9)return f===h?i:f<h}return n=Number(p),a=Number(l),n===n&&a===a?n<a?!0:n>a?!1:i:n===n&&a!==a?!0:a===a&&n!==n?!1:p<l?!0:p>l?!1:p==l?i:(n=p.toString(),a=l.toString(),n<a?!0:n==a?i:!1)}y(Di,"ltHelper");function Oi(p,l,i){var n,a,f,h;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=p===p?9:0;break}switch(l){case void 0:h=1;break;case null:h=1;break;case!1:h=3;break;case!0:h=4;break;case"":h=5;break;default:h=l===l?9:0;break}if(f!==9||h!==9)return f===h?i:f>h}return n=Number(p),a=Number(l),n===n&&a===a?n>a?!0:n<a?!1:i:n===n&&a!==a?!1:a===a&&n!==n||p>l?!0:p<l?!1:p==l?i:(n=p.toString(),a=l.toString(),n>a?!0:n==a?i:!1)}y(Oi,"gtHelper");function ki(p,l,i){return K.aeq(p,l)?0:K.lt(p,l,!1)?i?1:-1:K.gt(p,l,!1)?i?-1:1:0}y(ki,"sortHelper");function kn(p,l,i){for(var n=0,a,f,h,g,S,C=0,A=p.length;C<A;C++)if(a=p[C],f=a[0],~f.indexOf(".")?(S=f.split("."),h=_.getIn(l,S,!0),g=_.getIn(i,S,!0)):(h=l[f],g=i[f]),n=ki(h,g,a[1]),n!==0)return n;return 0}y(kn,"compoundeval");function Ye(p,l,i){for(var n in l)if(Object.hasOwn(l,n))return we[n](p,l[n],i);return!1}y(Ye,"doQueryOp");var we={$eq:function(p,l){return p===l},$aeq:function(p,l){return p==l},$ne:function(p,l){return l!==l?p===p:p!==l},$dteq:function(p,l){return K.aeq(p,l)},$gt:function(p,l){return K.gt(p,l,!1)},$gte:function(p,l){return K.gt(p,l,!0)},$lt:function(p,l){return K.lt(p,l,!1)},$lte:function(p,l){return K.lt(p,l,!0)},$jgt:function(p,l){return p>l},$jgte:function(p,l){return p>=l},$jlt:function(p,l){return p<l},$jlte:function(p,l){return p<=l},$between:function(p,l){return p==null?!1:K.gt(p,l[0],!0)&&K.lt(p,l[1],!0)},$jbetween:function(p,l){return p==null?!1:p>=l[0]&&p<=l[1]},$in:function(p,l){return l.indexOf(p)!==-1},$inSet:function(p,l){return l.has(p)},$nin:function(p,l){return l.indexOf(p)===-1},$keyin:function(p,l){return p in l},$nkeyin:function(p,l){return!(p in l)},$definedin:function(p,l){return l[p]!==void 0},$undefinedin:function(p,l){return l[p]===void 0},$regex:function(p,l){return l.test(p)},$containsString:function(p,l){return typeof p=="string"&&p.indexOf(l)!==-1},$containsNone:function(p,l){return!we.$containsAny(p,l)},$containsAny:function(p,l){var i=Si(p);return i!==null?Array.isArray(l)?l.some(i):i(l):!1},$contains:function(p,l){var i=Si(p);return i!==null?Array.isArray(l)?l.every(i):i(l):!1},$elemMatch:function(p,l){return Array.isArray(p)?p.some(function(i){return Object.keys(l).every(function(n){var a=l[n];return typeof a=="object"&&a||(a={$eq:a}),n.indexOf(".")!==-1?lt(i,n.split("."),Ye,l[n],i):Ye(i[n],a,i)})}):!1},$type:function(p,l,i){var n=typeof p;return n==="object"&&(Array.isArray(p)?n="array":p instanceof Date&&(n="date")),typeof l!="object"?n===l:Ye(n,l,i)},$finite:function(p,l){return l===isFinite(p)},$size:function(p,l,i){return Array.isArray(p)?typeof l!="object"?p.length===l:Ye(p.length,l,i):!1},$len:function(p,l,i){return typeof p=="string"?typeof l!="object"?p.length===l:Ye(p.length,l,i):!1},$where:function(p,l){return l(p)===!0},$not:function(p,l,i){return!Ye(p,l,i)},$and:function(p,l,i){for(var n=0,a=l.length;n<a;n+=1)if(!Ye(p,l[n],i))return!1;return!0},$or:function(p,l,i){for(var n=0,a=l.length;n<a;n+=1)if(Ye(p,l[n],i))return!0;return!1},$exists:function(p,l){return l?p!==void 0:p===void 0}},Qr=["$eq","$aeq","$ne","$dteq","$gt","$gte","$lt","$lte","$jgt","$jgte","$jlt","$jlte","$type"];Qr.forEach(function(p){var l=we[p];we["$"+p]=function(i,n,a){if(typeof n=="string")return l(i,a[n]);if(typeof n=="function")return l(i,n(a));throw new Error("Invalid argument to $$ matcher")}});var Qt={$eq:we.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};var _e=class{constructor(){this.addListener=this.on;this.events={};this.asyncListeners=!1}on(l,i){let n;var a=this;return Array.isArray(l)?(l.forEach(f=>{this.on(f,i)}),i):(n=this.events[l],n||(n=this.events[l]=[]),n.push(i),i)}emit(l,i,n){let a;var f=this;if(l&&this.events[l])this.events[l].length&&(a=Array.prototype.slice.call(arguments,1),this.events[l].forEach(h=>{this.asyncListeners?setTimeout(()=>{h.apply(f,a)},1):h.apply(f,a)}));else throw new Error(`No event ${l} defined`)}removeListener(l,i){var n=this;if(Array.isArray(l)){l.forEach(a=>{this.removeListener(a,i)});return}if(this.events[l]){let a=this.events[l];a.splice(a.indexOf(i),1)}}};y(_e,"LokiEventEmitter");var ue=class{constructor(l,i){this.branch=ue.prototype.copy;this.$or=ue.prototype.findOr;this.$and=ue.prototype.findAnd;return this.options=i||{},this.collection=l,this.filteredrows=[],this.filterInitialized=!1,this}reset(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this}toJSON(){let l=this.copy();return l.collection=null,l}limit(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(0,l),i.filterInitialized=!0,i}offset(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(l),i.filterInitialized=!0,i}copy(){let l=new ue(this.collection);return this.filteredrows.length>0&&(l.filteredrows=this.filteredrows.slice()),l.filterInitialized=this.filterInitialized,l}transform(l,i){let n,a,f=this;if(typeof l=="string"&&Object.hasOwn(this.collection.transforms,l)&&(l=this.collection.transforms[l]),typeof l!="object"||!Array.isArray(l))throw new Error("Invalid transform");for(typeof i!="undefined"&&(l=_.resolveTransformParams(l,i)),n=0;n<l.length;n++)switch(a=l[n],a.type){case"find":f.find(a.value);break;case"where":f.where(a.value);break;case"simplesort":f.simplesort(a.property,a.desc||a.options);break;case"compoundsort":f.compoundsort(a.value);break;case"sort":f.sort(a.value);break;case"limit":f=f.limit(a.value);break;case"offset":f=f.offset(a.value);break;case"map":f=f.map(a.value,a.dataOptions);break;case"eqJoin":f=f.eqJoin(a.joinData,a.leftJoinKey,a.rightJoinKey,a.mapFun,a.dataOptions);break;case"mapReduce":f=f.mapReduce(a.mapFunction,a.reduceFunction);break;case"update":f.update(a.value);break;case"remove":f.remove();break;default:break}return f}sort(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=((n,a)=>(f,h)=>n(a[f],a[h]))(l,this.collection.data);return this.filteredrows.sort(i),this}simplesort(l,i){let n,a=10,f=this.collection.data.length,h=this.filteredrows.length,g=Object.hasOwn(this.collection.binaryIndices,l);if((typeof i=="undefined"||i===!1)&&(i={desc:!1}),i===!0&&(i={desc:!0}),h===0){if(this.filterInitialized)return this;if(Object.hasOwn(this.collection.binaryIndices,l))return this.collection.ensureIndex(l),this.filteredrows=this.collection.binaryIndices[l].values.slice(0),i.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!i.disableIndexIntersect&&g&&(n=f/h,i.useJavascriptSorting&&(a=6),n<=a||i.forceIndexIntersect)){let C,A=this.filteredrows,j={};for(C=0;C<h;C++)j[A[C]]=!0;let L=this.collection.binaryIndices[l].values;return this.filteredrows=L.filter(T=>j[T]),i.desc&&this.filteredrows.reverse(),this}if(i.useJavascriptSorting)return this.sort((C,A)=>{if(C[l]===A[l])return 0;if(C[l]>A[l])return 1;if(C[l]<A[l])return-1});let S=((C,A,j)=>{let L,T,N;return(M,z)=>(~C.indexOf(".")?(N=C.split("."),L=_.getIn(j[M],N,!0),T=_.getIn(j[z],N,!0)):(L=j[M][C],T=j[z][C]),ki(L,T,A))})(l,i.desc,this.collection.data);return this.filteredrows.sort(S),this}compoundsort(l){if(l.length===0)throw new Error("Invalid call to compoundsort, need at least one property");let i;if(l.length===1)return i=l[0],Array.isArray(i)?this.simplesort(i[0],i[1]):this.simplesort(i,!1);for(let a=0,f=l.length;a<f;a+=1)i=l[a],Array.isArray(i)||(l[a]=[i,!1]);!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let n=((a,f)=>(h,g)=>kn(a,f[h],f[g]))(l,this.collection.data);return this.filteredrows.sort(n),this}findOr(l){let i=null,n=0,a=0,f=[],h=[],g=0;for(let S=0,C=l.length;S<C;S++)for(i=this.branch().find(l[S]).filteredrows,a=i.length,n=0;n<a;n++)g=i[n],h[g]===void 0&&(h[g]=!0,f.push(g));return this.filteredrows=f,this.filterInitialized=!0,this}findAnd(l){for(let i=0,n=l.length;i<n;i++){if(this.count()===0)return this;this.find(l[i])}return this}find(l,i){if(this.collection.data.length===0)return this.filteredrows=[],this.filterInitialized=!0,this;let n=l||"getAll",a,f,h,g,S,C,A,j=!1,L=[],T=[],N=null;if(i=i||!1,typeof n=="object"){for(a in n)g={},g[a]=n[a],T.push(g),Fe.call(n,a)&&(f=a,h=n[a]);if(T.length>1)return this.find({$and:T},i)}if(!f||n==="getAll")return i&&(this.filterInitialized?this.filteredrows=this.filteredrows.slice(0,1):(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0)),this;if(f==="$and"||f==="$or")return this[f](h),i&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(h===null||typeof h!="object"||h instanceof Date)S="$eq",C=h;else if(typeof h=="object"){for(A in h)if(Fe.call(h,A)){S=A,C=h[A];break}}else throw new Error("Do not know what you want to do.");(S==="$regex"||typeof C=="object")&&(C=Ai(S,C));let M=f.includes(".");!this.filterInitialized&&this.collection.binaryIndices[f]&&Qt[S]&&(this.collection.adaptiveBinaryIndices!==!0&&this.collection.ensureIndex(f),j=!0,N=this.collection.binaryIndices[f]),!j&&S==="$in"&&Array.isArray(C)&&typeof Set!="undefined"&&(C=new Set(C),S="$inSet");let Ce=we[S];if(typeof Ce!="function")throw new TypeError('"'+S+'" is not a valid operator');let Se=this.collection.data,Q=0,ye=0,Ie,o=0,de;if(this.filterInitialized){if(Ie=this.filteredrows,ye=Ie.length,M){for(f=f.split("."),Q=0;Q<ye;Q++)if(o=Ie[Q],de=Se[o],lt(de,f,Ce,C,de)&&(L.push(o),i))return this.filteredrows=L,this}else for(Q=0;Q<ye;Q++)if(o=Ie[Q],de=Se[o],Ce(de[f],C,de)&&(L.push(o),i))return this.filteredrows=L,this}else if(j){let ne=this.collection.calculateRange(S,f,C);if(S!=="$in"){for(Q=ne[0];Q<=ne[1];Q++)if(Qt[S]!==!0){if(Qt[S](_.getIn(Se[N.values[Q]],f,M),C)&&(L.push(N.values[Q]),i))return this.filteredrows=L,this.filterInitialized=!0,this}else if(L.push(N.values[Q]),i)return this.filteredrows=L,this.filterInitialized=!0,this}else for(Q=0,ye=ne.length;Q<ye;Q++)if(L.push(N.values[ne[Q]]),i)return this.filteredrows=L,this.filterInitialized=!0,this}else if(ye=Se.length,M){for(f=f.split("."),Q=0;Q<ye;Q++)if(de=Se[Q],lt(de,f,Ce,C,de)&&(L.push(Q),i))return this.filteredrows=L,this.filterInitialized=!0,this}else for(Q=0;Q<ye;Q++)if(de=Se[Q],Ce(de[f],C,de)&&(L.push(Q),i))return this.filteredrows=L,this.filterInitialized=!0,this;return this.filteredrows=L,this.filterInitialized=!0,this}where(l){let i,n=[];if(typeof l=="function")i=l;else throw new TypeError("Argument is not a stored view or a function");if(this.filterInitialized){let a=this.filteredrows.length;for(;a--;)i(this.collection.data[this.filteredrows[a]])===!0&&n.push(this.filteredrows[a]);return this.filteredrows=n,this}else{let a=this.collection.data.length;for(;a--;)i(this.collection.data[a])===!0&&n.push(a);return this.filteredrows=n,this.filterInitialized=!0,this}}count(){return this.filterInitialized?this.filteredrows.length:this.collection.count()}update(l){if(typeof l!="function")throw new TypeError("Argument is not a function");!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i,n=this.filteredrows.length,a=this.collection.data;for(let f=0;f<n;f++)!this.collection.disableFreeze||this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(i=oe(a[this.filteredrows[f]],this.collection.cloneMethod),l(i),this.collection.update(i)):(l(a[this.filteredrows[f]]),this.collection.update(a[this.filteredrows[f]]));return this}remove(){return!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this}mapReduce(l,i){return i(this.data().map(l))}eqJoin(l,i,n,a,f){let h=[],g=[],S,C=[],A=typeof i=="function",j=typeof n=="function",L={};h=this.data(f);let T=h.length;if(l instanceof Ae)g=l.chain().data(f);else if(l instanceof ue){let M=new ue(new Ae("")),z=l.data(f);M.rightData=l.data(f)}else if(Array.isArray(l))g=l;else throw new TypeError("joinData needs to be an array or result set");let N=g.length;for(let M=0;M<N;M++)S=j?n(g[M]):g[M][n],L[S]=g[M];a||(a=y((M,z)=>({left:M,right:z}),"mapFun"));for(let M=0;M<T;M++)S=A?i(h[M]):h[M][i],C.push(a(h[M],L[S]||{}));return this.collection=new Ae("joinData"),this.collection.insert(C),this.filteredrows=[],this.filterInitialized=!1,this}data(l){var i=[],n=this.collection.data,a,f,h,g;if(l=l||{},l.removeMeta&&!l.forceClones&&(l.forceClones=!0,l.forceCloneMethod=l.forceCloneMethod||"shallow"),!this.collection.disableDeltaChangesApi&&this.collection.disableFreeze&&(l.forceClones=!0,l.forceCloneMethod="parse-stringify"),!this.filterInitialized)if(this.filteredrows.length===0)if(this.collection.cloneObjects||l.forceClones){for(f=n.length,g=l.forceCloneMethod||this.collection.cloneMethod,h=0;h<f;h++)a=oe(n[h],g),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);return i}else return n.slice();else this.filterInitialized=!0;var S=this.filteredrows;if(f=S.length,this.collection.cloneObjects||l.forceClones)for(g=l.forceCloneMethod||this.collection.cloneMethod,h=0;h<f;h++)a=oe(n[S[h]],g),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);else for(h=0;h<f;h++)i.push(n[S[h]]);return i}map(l,i){let n=this.data(i).map(l);return this.collection=new Ae("mappedData"),this.collection.insert(n),this.filteredrows=[],this.filterInitialized=!1,this}};y(ue,"Resultset");var Ue=class extends _e{constructor(i,n,a){super();this.getSort=y(()=>this.sortFunction||this.sortCriteria||this.sortCriteriaSimple,"getSort");this.rematerialize=y(i=>{let n,a,f;i=i||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new ue(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0);let h=Object.isFrozen(this.filterPipeline);if(i.hasOwnProperty("removeWhereFilters"))for(h&&(this.filterPipeline=this.filterPipeline.slice()),n=this.filterPipeline.length,a=n;a--;)this.filterPipeline[a].type==="where"&&(a!==this.filterPipeline.length-1&&(this.filterPipeline[a]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);let g=this.filterPipeline;for(this.filterPipeline=[],n=g.length,f=0;f<n;f++)this.applyFind(g[f].val,g[f].uid);return h&&Object.freeze(this.filterPipeline),this.data(),this.emit("rebuild",this),this},"rematerialize");this.branchResultset=y((i,n)=>{let a=this.resultset.branch();return typeof i=="undefined"?a:a.transform(i,n)},"branchResultset");this.toJSON=y(()=>{let i=new Ue(this.collection,this.name,this.options);return i.resultset=this.resultset,i.resultdata=[],i.resultsdirty=!0,i.filterPipeline=this.filterPipeline,i.sortFunction=this.sortFunction,i.sortCriteria=this.sortCriteria,i.sortCriteriaSimple=this.sortCriteriaSimple||null,i.sortDirty=this.sortDirty,i.collection=null,i},"toJSON");this.removeFilters=y((i={})=>{this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null;let n=Object.isFrozen(this.filterPipeline),a=this.filterPipeline.length>0;this.filterPipeline=[],n&&Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,i.queueSortPhase===!0&&this.queueSortPhase(),a&&this.emit("filter")},"removeFilters");this.applySort=y(i=>(this.sortFunction=i,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this.emit("sort"),this),"applySort");this.applySimpleSort=y((i,n)=>(this.sortCriteriaSimple={propname:i,options:n||!1},this.collection.disableFreeze||pe(this.sortCriteriaSimple),this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this),"applySimpleSort");this.applySortCriteria=y(i=>(this.sortCriteria=i,this.collection.disableFreeze||pe(this.sortCriteria),this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this),"applySortCriteria");this.startTransaction=y(()=>(this.cachedresultset=this.resultset.copy(),this),"startTransaction");this.commit=y(()=>(this.cachedresultset=null,this),"commit");this.rollback=y(()=>(this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this),"rollback");this._indexOfFilterWithId=y(i=>{if(typeof i=="string"||typeof i=="number"){for(let n=0,a=this.filterPipeline.length;n<a;n+=1)if(i===this.filterPipeline[n].uid)return n}return-1},"_indexOfFilterWithId");this._addFilter=y(i=>{let n=Object.isFrozen(this.filterPipeline);n&&(this.filterPipeline=this.filterPipeline.slice()),this.collection.disableFreeze||pe(i),this.filterPipeline.push(i),n&&Object.freeze(this.filterPipeline),this.resultset[i.type](i.val)},"_addFilter");this.reapplyFilters=y(()=>{this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);let i=this.filterPipeline,n=Object.isFrozen(i);this.filterPipeline=[];for(let a=0,f=i.length;a<f;a+=1)this._addFilter(i[a]);return n&&Object.freeze(this.filterPipeline),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this},"reapplyFilters");this.applyFilter=y(i=>{let n=this._indexOfFilterWithId(i.uid);if(n>=0){let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline[n]=i,a&&(Qe(i),Object.freeze(this.filterPipeline)),this.reapplyFilters()}return this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(i),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this},"applyFilter");this.applyFind=y((i,n)=>(this.applyFilter({type:"find",val:i,uid:n}),this),"applyFind");this.applyWhere=y((i,n)=>(this.applyFilter({type:"where",val:i,uid:n}),this),"applyWhere");this.removeFilter=y(i=>{let n=this._indexOfFilterWithId(i);if(n<0)throw new Error(`Dynamic view does not contain a filter with ID: ${i}`);let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline.splice(n,1),a&&Object.freeze(this.filterPipeline),this.reapplyFilters(),this},"removeFilter");this.count=y(()=>(this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()),"count");this.queueRebuildEvent=y(()=>{if(this.rebuildPending)return;this.rebuildPending=!0;let i=this;setTimeout(()=>{i.rebuildPending&&(i.rebuildPending=!1,i.emit("rebuild",i))},this.options.minRebuildInterval)},"queueRebuildEvent");this.queueSortPhase=y(()=>{if(this.sortDirty)return;this.sortDirty=!0;let i=this;this.options.sortPriority==="active"?setTimeout(()=>{i.performSortPhase()},this.options.minRebuildInterval):this.queueRebuildEvent()},"queueSortPhase");this.performSortPhase=y(i=>{!this.sortDirty&&!this.resultsdirty||(i=i||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),i.suppressRebuildEvent||this.emit("rebuild",this))},"performSortPhase");this.evaluateDocument=y((i,n)=>{if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}let a=this.resultset.filteredrows,f=n?-1:a.indexOf(+i),h=a.length,g=new ue(this.collection);g.filteredrows=[i],g.filterInitialized=!0;let S;for(let A=0,j=this.filterPipeline.length;A<j;A++)S=this.filterPipeline[A],g[S.type](S.val);let C=g.filteredrows.length===0?-1:0;if(!(f===-1&&C===-1)){if(f===-1&&C!==-1){a.push(i),this.options.persistent&&this.resultdata.push(this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C===-1){f<h-1?(a.splice(f,1),this.options.persistent&&this.resultdata.splice(f,1)):(a.length=h-1,this.options.persistent&&(this.resultdata.length=h-1)),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C!==-1){this.options.persistent&&(this.resultdata[f]=this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}}},"evaluateDocument");this.removeDocument=y(i=>{let n,a,f,h={},g={},S=[],C=this.resultset,A=this.resultset.filteredrows,j=A.length;if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}for(Array.isArray(i)||(i=[i]),f=i.length,a=0;a<f;a++)h[i[a]]=!0;for(n=0;n<j;n++)h[A[n]]&&(g[n]=!0);Object.keys(g).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter((T,N)=>!g[N]),this.options.persistent&&(this.resultdata=this.resultdata.filter((T,N)=>!g[N])),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());let L=y(T=>N=>N<C.filteredrows[T],"filt");for(j=C.filteredrows.length,n=0;n<j;n++)S=i.filter(L(n)),C.filteredrows[n]-=S.length},"removeDocument");this.mapReduce=y((i,n)=>n(this.data().map(i)),"mapReduce");this.collection=i,this.name=n,this.rebuildPending=!1,this.options=a||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new ue(i),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.collection.disableFreeze||Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[],filter:[],sort:[]}}data(i){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(i)}};y(Ue,"DynamicView");var qt=class{constructor(l){this.index=Object.create(null),this.field=l}set(l,i){this.index[l]?this.index[l].push(i):this.index[l]=[i]}remove(l,i){let n=this.index[l];for(let a of n)n[a]==i&&n.splice(a,1);n.length<1&&(this.index[l]=void 0)}get(l){return this.index[l]}clear(){this.index={}}};y(qt,"ExactIndex");var ut=class{constructor(l){this.field=l,this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}set(l){let i=l[this.field];if(i!==null&&typeof i!="undefined"){if(this.keyMap[i])throw new Error(`Duplicate key for property ${this.field}: ${i}`);this.keyMap[i]=l,this.lokiMap[l.$loki]=i}}get(l){return this.keyMap[l]}byId(l){return this.keyMap[this.lokiMap[l]]}update(l,i){if(this.lokiMap[l.$loki]!==i[this.field]){let n=this.lokiMap[l.$loki];this.set(i),this.keyMap[n]=void 0}else this.keyMap[l[this.field]]=i}remove(l){let i=this.keyMap[l];if(i!==null&&typeof i!="undefined")this.keyMap[l]=void 0,this.lokiMap[i.$loki]=void 0;else throw new Error(`Key is not in unique index: ${this.field}`)}clear(){this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}};y(ut,"UniqueIndex");ut.prototype.keyMap={};ut.prototype.lokiMap={};var Ae=class extends _e{constructor(i,n){super();this.stages={};this.commitLog=[];this.configureOptions=y((i={})=>{i.hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=i.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},"configureOptions");this.count=y(i=>i?this.chain().find(i).filteredrows.length:this.data.length,"count");this.startTransaction=y(()=>{if(this.transactional){this.cachedData=oe(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices,this.cachedDirtyIds=this.dirtyIds;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].startTransaction()}},"startTransaction");this.commit=y(()=>{if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedDirtyIds=null;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].commit()}},"commit");this.rollback=y(()=>{if(this.transactional){this.cachedData!==null&&this.cachedIndex!==null&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex,this.dirtyIds=this.cachedDirtyIds);for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].rollback()}},"rollback");this.mapReduce=y((i,n)=>n(this.data.map(i)),"mapReduce");this.lokiConsoleWrapper={log(i){},warn(i){},error(i){}};this.name=i,this.data=[],this.idIndex=null,this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=i,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;let a=this;n=n||{},n.hasOwnProperty("unique")&&(Array.isArray(n.unique)||(n.unique=[n.unique]),n.unique.forEach(A=>{a.uniqueNames.push(A)})),n.hasOwnProperty("exact")&&n.exact.forEach(A=>{a.constraints.exact[A]=new qt(A)}),this.adaptiveBinaryIndices=n.hasOwnProperty("adaptiveBinaryIndices")?n.adaptiveBinaryIndices:!0,this.transactional=n.hasOwnProperty("transactional")?n.transactional:!1,this.cloneObjects=n.hasOwnProperty("clone")?n.clone:!1,this.cloneMethod=n.hasOwnProperty("cloneMethod")?n.cloneMethod:"parse-stringify",this.asyncListeners=n.hasOwnProperty("asyncListeners")?n.asyncListeners:!1,this.disableMeta=n.hasOwnProperty("disableMeta")?n.disableMeta:!1,this.disableChangesApi=n.hasOwnProperty("disableChangesApi")?n.disableChangesApi:!0,this.disableDeltaChangesApi=n.hasOwnProperty("disableDeltaChangesApi")?n.disableDeltaChangesApi:!0,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=n.hasOwnProperty("autoupdate")?n.autoupdate:!1,this.serializableIndices=n.hasOwnProperty("serializableIndices")?n.serializableIndices:!0,this.disableFreeze=n.hasOwnProperty("disableFreeze")?n.disableFreeze:!0,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(n.ttl||-1,n.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.dirtyIds=[];let f=[];if(n&&n.indices)if(Object.prototype.toString.call(n.indices)==="[object Array]")f=n.indices;else if(typeof n.indices=="string")f=[n.indices];else throw new TypeError("Indices needs to be a string or an array of strings");for(let A=0;A<f.length;A++)this.ensureIndex(f[A]);function h(A){let j=new Set;j.add||(j.add=function(L){return this.includes(L)||this.push(L),this}),A.forEach(({object:L})=>{j.add(L)}),j.forEach(L=>{if(!Fe.call(L,"$loki"))return a.removeAutoUpdateObserver(L);try{a.update(L)}catch(T){console.log(T)}})}y(h,"observerCallback"),this.observerCallback=h;function g(A,j){return j?S(j,A):JSON.parse(JSON.stringify(A))}y(g,"getChangeDelta"),this.getChangeDelta=g;function S(A,j){let L=j!==null&&typeof j=="object"?Object.keys(j):null;if(L&&L.length&&!["string","boolean","number"].includes(typeof j)){let T={};for(let N=0;N<L.length;N++){let M=L[N];if(j.hasOwnProperty(M))if(!A.hasOwnProperty(M)||a.uniqueNames.includes(M)||M=="$loki"||M=="meta")T[M]=j[M];else{let z=S(A[M],j[M]);typeof z!="undefined"&&(T[M]=z)}}return Object.keys(T).length===0?void 0:T}else return A===j?void 0:j}y(S,"getObjectDelta"),this.getObjectDelta=S;function C(){a.changes=[]}y(C,"flushChanges"),this.getChanges=()=>a.changes,this.flushChanges=C,this.setChangesApi=A=>{a.disableChangesApi=!A,A||(a.disableDeltaChangesApi=!1)},this.on("delete",y(function(j){a.disableChangesApi||a.createChange(a.name,"R",j)},"deleteCallback")),this.on("warning",A=>{a.lokiConsoleWrapper.warn(A)}),C()}createChange(i,n,a,f){this.changes.push({name:i,operation:n,obj:n=="U"&&!this.disableDeltaChangesApi?this.getChangeDelta(a,f):JSON.parse(JSON.stringify(a))})}insertMeta(i){let n,a;if(!(this.disableMeta||!i)){if(Array.isArray(i)){for(n=i.length,a=0;a<n;a++)i[a].hasOwnProperty("meta")||(i[a].meta={}),i[a].meta.created=new Date().getTime(),i[a].meta.revision=0;return}i.meta||(i.meta={}),i.meta.created=new Date().getTime(),i.meta.revision=0}}updateMeta(i){return this.disableMeta||!i||(this.disableFreeze||(i=Ge(i),i.meta=Ge(i.meta)),i.meta.updated=new Date().getTime(),i.meta.revision+=1),i}createInsertChange(i){this.createChange(this.name,"I",i)}createUpdateChange(i,n){this.createChange(this.name,"U",i,n)}insertMetaWithChange(i){this.insertMeta(i),this.createInsertChange(i)}updateMetaWithChange(i,n){return i=this.updateMeta(i),this.createUpdateChange(i,n),i}addAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.observe(i,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])}removeAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.unobserve(i,this.observerCallback)}addTransform(i,n){if(this.transforms.hasOwnProperty(i))throw new Error("a transform by that name already exists");this.transforms[i]=n}getTransform(i){return this.transforms[i]}setTransform(i,n){this.transforms[i]=n}removeTransform(i){delete this.transforms[i]}byExample(i){let n,a,f=[];for(n in i)i.hasOwnProperty(n)&&f.push((a={},a[n]=i[n],a));return{$and:f}}findObject(i){return this.findOne(this.byExample(i))}findObjects(i){return this.find(this.byExample(i))}ttlDaemonFuncGen(){let i=this,n=this.ttl.age;return y(function(){let f=Date.now();i.chain().where(y(function(S){let C=S.meta.updated||S.meta.created,A=f-C;return n<A},"daemonFilter")).remove()},"ttlDaemon")}setTTL(i,n){i<0?clearInterval(this.ttl.daemon):(this.ttl.age=i,this.ttl.ttlInterval=n,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),n))}prepareFullDocIndex(){let i=this.data.length,n=new Array(i);for(let a=0;a<i;a+=1)n[a]=a;return n}ensureIndex(i,n){if(typeof n=="undefined"&&(n=!1),i==null)throw new Error("Attempting to set index without an associated property");if(this.binaryIndices[i]&&!n&&!this.binaryIndices[i].dirty||this.adaptiveBinaryIndices===!0&&this.binaryIndices.hasOwnProperty(i)&&!n)return;let a={name:i,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[i]=a;let f=((h,g)=>{let S,C,A=~h.indexOf(".")?h.split("."):!1;return(j,L)=>{if(A?(S=_.getIn(g[j],A,!0),C=_.getIn(g[L],A,!0)):(S=g[j][h],C=g[L][h]),S!==C){if(K.lt(S,C,!1))return-1;if(K.gt(S,C,!1))return 1}return 0}})(i,this.data);a.values.sort(f),a.dirty=!1,this.dirty=!0}checkAllIndexes(i){let n,a=this.binaryIndices,f=[],h;for(n in a)Fe.call(a,n)&&(h=this.checkIndex(n,i),h||f.push(n));return f}checkIndex(i,n={}){n.randomSamplingFactor&&n.randomSampling!==!1&&(n.randomSampling=!0),n.randomSamplingFactor=n.randomSamplingFactor||.1,(n.randomSamplingFactor<0||n.randomSamplingFactor>1)&&(n.randomSamplingFactor=.1);let a=!0,f,h,g;if(!this.binaryIndices.hasOwnProperty(i))throw new Error(`called checkIndex on property without an index: ${i}`);this.adaptiveBinaryIndices||this.ensureIndex(i);let S=this.binaryIndices[i].values,C=S.length;if(C!==this.data.length)return n.repair&&this.ensureIndex(i,!0),!1;if(C===0)return!0;let A=i.includes(".");if(C===1)a=S[0]===0;else if(n.randomSampling){if(we.$lte(_.getIn(this.data[S[0]],i,A),_.getIn(this.data[S[1]],i,A))||(a=!1),we.$lte(_.getIn(this.data[S[C-2]],i,A),_.getIn(this.data[S[C-1]],i,A))||(a=!1),a){for(h=Math.floor((C-1)*n.randomSamplingFactor),f=0;f<h-1;f++)if(g=Math.floor(Math.random()*(C-1)),!we.$lte(_.getIn(this.data[S[g]],i,A),_.getIn(this.data[S[g+1]],i,A))){a=!1;break}}}else for(f=0;f<C-1;f++)if(!we.$lte(_.getIn(this.data[S[f]],i,A),_.getIn(this.data[S[f+1]],i,A))){a=!1;break}return!a&&n.repair&&this.ensureIndex(i,!0),a}getBinaryIndexValues(i){let n,a=this.binaryIndices[i].values,f=[];for(n=0;n<a.length;n++)f.push(_.getIn(this.data[a[n]],i,!0));return f}getUniqueIndex(i,n){let a=this.constraints.unique[i];return!a&&n?this.ensureUniqueIndex(i):a}ensureUniqueIndex(i){let n=this.constraints.unique[i];return n||this.uniqueNames.includes(i)||this.uniqueNames.push(i),this.constraints.unique[i]=n=new ut(i),this.data.forEach(a=>{n.set(a)}),n}ensureAllIndexes(i){let n,a=this.binaryIndices;for(n in a)Fe.call(a,n)&&this.ensureIndex(n,i)}flagBinaryIndexesDirty(){let i,n=this.binaryIndices;for(i in n)Fe.call(n,i)&&(n[i].dirty=!0)}flagBinaryIndexDirty(i){this.binaryIndices[i]&&(this.binaryIndices[i].dirty=!0)}ensureId(){if(this.idIndex)return;let i=this.data,n=0,a=i.length,f=new Array(a);for(n;n<a;n++)f[n]=i[n].$loki;this.idIndex=f}ensureIdAsync(i){this.async(function(){this.ensureId()},i)}addDynamicView(i,n){let a=new Ue(this,i,n);return this.DynamicViews.push(a),a}removeDynamicView(i){this.DynamicViews=this.DynamicViews.filter(n=>n.name!==i)}getDynamicView(i){for(let n=0;n<this.DynamicViews.length;n++)if(this.DynamicViews[n].name===i)return this.DynamicViews[n];return null}findAndUpdate(i,n){typeof i=="function"?this.updateWhere(i,n):this.chain().find(i).update(n)}findAndRemove(i){this.chain().find(i).remove()}insert(i,n){if(!Array.isArray(i))return this.insertOne(i);let a,f=[],h=n&&!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0;h&&(this.adaptiveBinaryIndices=!1);try{this.emit("pre-insert",i);for(let g=0,S=i.length;g<S;g++){if(a=this.insertOne(i[g],!0),!a)return;f.push(a)}}finally{h&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return this.emit("insert",f),f=this.cloneObjects?oe(f,this.cloneMethod):f,f.length===1?f[0]:f}insertOne(i,n){let a=null;if(typeof i!="object"?a=new TypeError("Document needs to be an object"):i===null&&(a=new TypeError("Object cannot be null")),a!==null)throw this.emit("error",a),a;let f=this.cloneObjects?oe(i,this.cloneMethod):i;if(this.disableFreeze||(f=Ge(f)),this.disableMeta||(typeof f.meta=="undefined"?f.meta={revision:0,created:0}:this.disableFreeze||(f.meta=Ge(f.meta))),n||this.emit("pre-insert",f),!this.add(f))return;this.disableChangesApi?this.insertMeta(f):this.insertMetaWithChange(f),this.disableFreeze||pe(f);let h=this.cloneObjects?oe(f,this.cloneMethod):f;return n||this.emit("insert",h),this.addAutoUpdateObserver(h),h}clear(i){let n=this;i=i||{},this.data=[],this.idIndex=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,this.constraints={unique:{},exact:{}},i.removeIndices===!0?(this.binaryIndices={},this.uniqueNames=[]):Object.keys(this.binaryIndices).forEach(f=>{n.binaryIndices[f].dirty=!1,n.binaryIndices[f].values=[]})}update(i){let n,a,f;if(Array.isArray(i)){f=i.length,n=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,n&&(this.adaptiveBinaryIndices=!1);try{for(a=0;a<f;a+=1)this.update(i[a])}finally{n&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return}if(!Fe.call(i,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();let h=this.get(i.$loki,!0),g,S=this;if(!h)throw new Error("Trying to update a document not in collection.");let C=h[0],A=h[1];g=this.cloneObjects||!this.disableDeltaChangesApi&&this.disableFreeze?oe(i,this.cloneMethod):i,this.emit("pre-update",i),this.uniqueNames.forEach(T=>{S.getUniqueIndex(T,!0).update(C,g)}),this.data[A]=g,g!==i&&this.addAutoUpdateObserver(i);for(let T=0;T<this.DynamicViews.length;T++)this.DynamicViews[T].evaluateDocument(A,!1);let j;if(this.adaptiveBinaryIndices){let T=this.binaryIndices;for(j in T)this.adaptiveBinaryIndexUpdate(A,j)}else this.flagBinaryIndexesDirty();this.idIndex[A]=g.$loki,this.isIncremental&&this.dirtyIds.push(g.$loki),this.commit(),this.dirty=!0,this.disableChangesApi?g=this.updateMeta(g):g=this.updateMetaWithChange(g,C),this.disableFreeze||pe(g);let L;return this.cloneObjects?L=oe(g,this.cloneMethod):L=g,this.emit("update",L),L}catch(h){throw this.rollback(),this.lokiConsoleWrapper.error(h.message),this.emit("error",h),h}}add(i){if(typeof i!="object")throw new TypeError("Object being added needs to be an object");if(typeof i.$loki!="undefined")throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1);let f=this.maxId;i.$loki=f,this.disableMeta||(i.meta.version=0);for(var n=0,a=this.uniqueNames.length;n<a;n++)this.getUniqueIndex(this.uniqueNames[n],!0).set(i);this.idIndex&&this.idIndex.push(f),this.isIncremental&&this.dirtyIds.push(f),this.data.push(i);let h=this.data.length-1,g=this.DynamicViews.length;for(n=0;n<g;n++)this.DynamicViews[n].evaluateDocument(h,!0);if(this.adaptiveBinaryIndices){let S=this.binaryIndices;for(let C in S)this.adaptiveBinaryIndexInsert(h,C)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?oe(i,this.cloneMethod):i}catch(f){throw this.rollback(),this.lokiConsoleWrapper.error(f.message),this.emit("error",f),f}}updateWhere(i,n){let a=this.where(i),f=0,h;try{for(f;f<a.length;f++)h=n(a[f]),this.update(h)}catch(g){this.rollback(),this.lokiConsoleWrapper.error(g.message)}}removeWhere(i){let n;typeof i=="function"?(n=this.data.filter(i),this.remove(n)):this.chain().find(i).remove()}removeDataOnly(){this.remove(this.data.slice())}removeBatchByPositions(i){let n=i.length,a={},f,h,g,S=Object.keys(this.binaryIndices).length,C=Object.keys(this.constraints.unique).length,A=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,j,L=this;try{for(this.startTransaction(),this.ensureId(),g=0;g<n;g++)a[this.idIndex[i[g]]]=!0;if(f=this.DynamicViews.length,f>0||S>0||C>0){if(f>0)for(h=0;h<f;h++)this.DynamicViews[h].removeDocument(i);if(this.adaptiveBinaryIndices&&!A){let T,N=this.binaryIndices;for(T in N)this.adaptiveBinaryIndexRemove(i,T)}else this.flagBinaryIndexesDirty();C&&this.uniqueNames.forEach(T=>{let N=L.getUniqueIndex(T);if(N)for(g=0;g<n;g++)j=L.data[i[g]],j[T]!==null&&j[T]!==void 0&&N.remove(j[T])})}if(!this.disableChangesApi||this.events.delete.length>1)for(g=0;g<n;g++)this.emit("delete",this.data[i[g]]);if(this.data=this.data.filter(({$loki:T})=>!a[T]),this.isIncremental)for(g=0;g<n;g++)this.dirtyIds.push(this.idIndex[i[g]]);this.idIndex=this.idIndex.filter(T=>!a[T]),this.adaptiveBinaryIndices&&A&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(T){return this.rollback(),A&&(this.adaptiveBinaryIndices=!0),this.lokiConsoleWrapper.error(T.message),this.emit("error",T),null}}removeBatch(i){let n=i.length,a=this.data.length,f,h={},g=[];for(f=0;f<a;f++)h[this.data[f].$loki]=f;for(f=0;f<n;f++)typeof i[f]=="object"?g.push(h[i[f].$loki]):g.push(h[i[f]]);this.removeBatchByPositions(g)}remove(i){if(typeof i=="number"&&(i=this.get(i)),typeof i!="object")throw new Error("Parameter is not an object");if(Array.isArray(i)){this.removeBatch(i);return}if(!Fe.call(i,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();let n=this.get(i.$loki,!0),a=n[1],f=this;this.uniqueNames.forEach(h=>{if(i[h]!==null&&typeof i[h]!="undefined"){let g=f.getUniqueIndex(h);g&&g.remove(i[h])}});for(let h=0;h<this.DynamicViews.length;h++)this.DynamicViews[h].removeDocument(a);if(this.adaptiveBinaryIndices){let h,g=this.binaryIndices;for(h in g)this.adaptiveBinaryIndexRemove(a,h)}else this.flagBinaryIndexesDirty();return this.data.splice(a,1),this.removeAutoUpdateObserver(i),this.idIndex.splice(a,1),this.isIncremental&&this.dirtyIds.push(i.$loki),this.commit(),this.dirty=!0,this.emit("delete",n[0]),this.disableFreeze||(i=Ge(i)),delete i.$loki,delete i.meta,this.disableFreeze||Qe(i),i}catch(n){return this.rollback(),this.lokiConsoleWrapper.error(n.message),this.emit("error",n),null}}get(i,n){this.idIndex||this.ensureId();let a=n||!1,f=this.idIndex,h=f.length-1,g=0,S=g+h>>1;if(i=typeof i=="number"?i:parseInt(i,10),isNaN(i))throw new TypeError("Passed id is not an integer");for(;f[g]<f[h];)S=g+h>>1,f[S]<i?g=S+1:h=S;return h===g&&f[g]===i?a?[this.data[g],g]:this.data[g]:null}getBinaryIndexPosition(i,n){let a=_.getIn(this.data[i],n,!0),f=this.binaryIndices[n].values,h=this.calculateRange("$eq",n,a);if(h[0]===0&&h[1]===-1)return null;let g=h[0],S=h[1];for(let C=g;C<=S;C++)if(f[C]===i)return C;return null}adaptiveBinaryIndexInsert(i,n){let a=n.includes("."),f=this.binaryIndices[n].values,h=_.getIn(this.data[i],n,a);this.serializableIndices===!0&&h instanceof Date&&(this.data[i][n]=h.getTime(),h=_.getIn(this.data[i],n));let g=f.length===0?0:this.calculateRangeStart(n,h,!0,a);this.binaryIndices[n].values.splice(g,0,i)}adaptiveBinaryIndexUpdate(i,n){let a,f=this.binaryIndices[n].values,h=f.length;for(a=0;a<h&&f[a]!==i;a++);this.binaryIndices[n].values.splice(a,1),this.adaptiveBinaryIndexInsert(i,n)}adaptiveBinaryIndexRemove(i,n,a){let f=this.binaryIndices[n],h,g,S,C,A={},j,L;if(Array.isArray(i))if(C=i.length,C===1)i=i[0];else{for(S=0;S<C;S++)A[i[S]]=!0;if(f.values=f.values.filter(M=>!A[M]),a===!0)return;let N=i.slice();for(N.sort((M,z)=>M-z),h=f.values.length,g=0;g<h;g++){for(j=f.values[g],L=0,S=0;S<C&&j>N[S];S++)L++;f.values[g]-=L}return}let T=this.getBinaryIndexPosition(i,n);if(T===null)return null;if(f.values.splice(T,1),a!==!0)for(h=f.values.length,g=0;g<h;g++)f.values[g]>i&&f.values[g]--}calculateRangeStart(i,n,a,f){let h=this.data,g=this.binaryIndices[i].values,S=0,C=g.length-1,A=0;if(g.length===0)return-1;for(;S<C;)A=S+C>>1,K.lt(_.getIn(h[g[A]],i,f),n,!1)?S=A+1:C=A;let j=S;return K.aeq(n,_.getIn(h[g[j]],i,f))?j:K.lt(n,_.getIn(h[g[j]],i,f),!1)?a?j:j-1:a?j+1:j}calculateRangeEnd(i,n,a){let f=this.data,h=this.binaryIndices[i].values,g=0,S=h.length-1,C=0;if(h.length===0)return-1;for(;g<S;)C=g+S>>1,K.lt(n,_.getIn(f[h[C]],i,a),!1)?S=C:g=C+1;let A=S;return K.aeq(n,_.getIn(f[h[A]],i,a))?A:K.gt(n,_.getIn(f[h[A]],i,a),!1)?A+1:K.aeq(n,_.getIn(f[h[A-1]],i,a))?A-1:A}calculateRange(i,n,a){let f=this.data,h=this.binaryIndices[n].values,g=0,S=h.length-1,C,A,j,L;if(f.length===0)return[0,-1];let T=n.includes("."),N=_.getIn(f[h[g]],n,T),M=_.getIn(f[h[S]],n,T);switch(i){case"$eq":case"$aeq":if(K.lt(a,N,!1)||K.gt(a,M,!1))return[0,-1];break;case"$dteq":if(K.lt(a,N,!1)||K.gt(a,M,!1))return[0,-1];break;case"$gt":if(K.gt(a,M,!0))return[0,-1];if(K.gt(N,a,!1))return[g,S];break;case"$gte":if(K.gt(a,M,!1))return[0,-1];if(K.gt(N,a,!0))return[g,S];break;case"$lt":if(K.lt(a,N,!0))return[0,-1];if(K.lt(M,a,!1))return[g,S];break;case"$lte":if(K.lt(a,N,!1))return[0,-1];if(K.lt(M,a,!0))return[g,S];break;case"$between":return K.gt(a[0],M,!1)?[0,-1]:K.lt(a[1],N,!1)?[0,-1]:(C=this.calculateRangeStart(n,a[0],!1,T),j=this.calculateRangeEnd(n,a[1],T),C<0&&C++,j>S&&j--,K.gt(_.getIn(f[h[C]],n,T),a[0],!0)||C++,K.lt(_.getIn(f[h[j]],n,T),a[1],!0)||j--,j<C?[0,-1]:[C,j]);case"$in":{let z=[],Ce=[];for(let Se=0,Q=a.length;Se<Q;Se++){let ye=this.calculateRange("$eq",n,a[Se]);for(let Ie=ye[0];Ie<=ye[1];Ie++)z[Ie]===void 0&&(z[Ie]=!0,Ce.push(Ie))}return Ce}}switch(i){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":C=this.calculateRangeStart(n,a,!1,T),A=_.getIn(f[h[C]],n,T);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":j=this.calculateRangeEnd(n,a,T),L=_.getIn(f[h[j]],n,T);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":return K.aeq(A,a)?[C,j]:[0,-1];case"$gt":return K.aeq(_.getIn(f[h[j]],n,T),a)?[j+1,S]:[j,S];case"$gte":return K.aeq(_.getIn(f[h[C]],n,T),a)?[C,S]:[C+1,S];case"$lt":return K.aeq(_.getIn(f[h[C]],n,T),a)?[g,C-1]:[g,C];case"$lte":return K.aeq(_.getIn(f[h[j]],n,T),a)?[g,j]:[g,j-1];default:return[0,f.length-1]}}by(i,n){let a;if(n===void 0)return a=this,h=>a.by(i,h);let f=this.getUniqueIndex(i,!0).get(n);return this.cloneObjects?oe(f,this.cloneMethod):f}findOne(i={}){let n=this.chain().find(i,!0).data();return Array.isArray(n)&&n.length===0?null:this.cloneObjects?oe(n[0],this.cloneMethod):n[0]}chain(i,n){let a=new ue(this);return typeof i=="undefined"?a:a.transform(i,n)}find(i){return this.chain().find(i).data()}findOneUnindexed(i,n){let a=this.data.length,f;for(;a--;)if(_.getIn(this.data[a],i,!0)===n)return f=this.data[a],f;return null}async(i,n){setTimeout(()=>{if(typeof i=="function")i(),n();else throw new TypeError("Argument passed for async execution is not a function")},0)}where(i){return this.chain().where(i).data()}eqJoin(i,n,a,f,h){return new ue(this).eqJoin(i,n,a,f,h)}getStage(i){return this.stages[i]||(this.stages[i]={}),this.stages[i]}stage(i,n){let a=JSON.parse(JSON.stringify(n));return this.getStage(i)[n.$loki]=a,a}commitStage(i,n){let a=this.getStage(i),f,h=new Date().getTime();for(f in a)this.update(a[f]),this.commitLog.push({timestamp:h,message:n,data:JSON.parse(JSON.stringify(a[f]))});this.stages[i]={}}extract(i){let n=0,a=this.data.length,f=Xt(i),h=[];for(n;n<a;n+=1)h.push(Ze(this.data[n],i,f));return h}max(i){return Math.max.apply(null,this.extract(i))}min(i){return Math.min.apply(null,this.extract(i))}maxRecord(i){let n=0,a=this.data.length,f=Xt(i),h={index:0,value:void 0},g;for(n;n<a;n+=1)g!==void 0?g<Ze(this.data[n],i,f)&&(g=Ze(this.data[n],i,f),h.index=this.data[n].$loki):(g=Ze(this.data[n],i,f),h.index=this.data[n].$loki);return h.value=g,h}minRecord(i){let n=0,a=this.data.length,f=Xt(i),h={index:0,value:void 0},g;for(n;n<a;n+=1)g!==void 0?g>Ze(this.data[n],i,f)&&(g=Ze(this.data[n],i,f),h.index=this.data[n].$loki):(g=Ze(this.data[n],i,f),h.index=this.data[n].$loki);return h.value=g,h}extractNumerical(i){return this.extract(i).map(An).filter(Number).filter(n=>!isNaN(n))}avg(i){return Kt(this.extractNumerical(i))}stdDev(i){return On(this.extractNumerical(i))}mode(i){let n={};this.extract(i).forEach(S=>{n[S]?n[S]+=1:n[S]=1});let f,h,g;for(h in n)f?f<n[h]&&(g=h):(g=h,f=n[h]);return g}median(i){let n=this.extractNumerical(i);n.sort(Dn);let a=Math.floor(n.length/2);return n.length%2?n[a]:(n[a-1]+n[a])/2}};y(Ae,"Collection");function Ti(p,l,i){for(var n=0,a=p.length,f,h;n<a;){if(h=n+a>>1,f=i.apply(null,[l,p[h]]),f===0)return{found:!0,index:h};f<0?a=h:n=h+1}return{found:!1,index:a}}y(Ti,"binarySearch");function Pi(p){return function(l,i){return Ti(l,i,p)}}y(Pi,"BSonSort");function Ei(){}y(Ei,"KeyValueStore");Ei.prototype={keys:[],values:[],sort(p,l){return p<l?-1:p>l?1:0},setSort(p){this.bs=Pi(p)},bs(){return Pi(this.sort)},set(p,l){let i=this.bs(this.keys,p);i.found?this.values[i.index]=l:(this.keys.splice(i.index,0,p),this.values.splice(i.index,0,l))},get(p){return this.values[Ti(this.keys,p,this.sort).index]}};function Gt(){try{return window&&window.localStorage!==void 0&&window.localStorage!==null}catch(p){return!1}}y(Gt,"localStorageAvailable");var ft=class{exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){Gt()?i(localStorage.getItem(l)):i(new Error("localStorage is not available"))}saveDatabase(l,i,n){Gt()?(localStorage.setItem(l,i),n(null)):n(new Error("localStorage is not available"))}deleteDatabase(l,i){Gt()?(localStorage.removeItem(l),i(null)):i(new Error("localStorage is not available"))}};y(ft,"LokiLocalStorageAdapter");var wt=class{constructor(l){this.hashStore={},this.options=l||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.options.asyncResponses?setTimeout(()=>{n.hashStore.hasOwnProperty(l)?i(n.hashStore[l].value):i(null)},this.options.asyncTimeout):this.hashStore.hasOwnProperty(l)?i(this.hashStore[l].value):i(null)}saveDatabase(l,i,n){let a=this,f;this.options.asyncResponses?setTimeout(()=>{f=a.hashStore.hasOwnProperty(l)?a.hashStore[l].savecount:0,a.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n()},this.options.asyncTimeout):(f=this.hashStore.hasOwnProperty(l)?this.hashStore[l].savecount:0,this.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n())}deleteDatabase(l,i){this.hashStore.hasOwnProperty(l)&&delete this.hashStore[l],typeof i=="function"&&i()}};y(wt,"LokiMemoryAdapter");function et(p,l){if(this.mode="reference",this.adapter=null,this.options=l||{},this.dbref=null,this.dbname="",this.pageIterator={},p){if(p.mode==="reference")throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=p}else throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=25*1024*1024),this.options.hasOwnProperty("delimiter")||(this.options.delimiter=`$<
`)}y(et,"LokiPartitioningAdapter");et.prototype.loadDatabase=function(p,l){var i=this;this.dbname=p,this.dbref=new te(p),this.adapter.loadDatabase(p,function(n){if(!n){l(n);return}typeof n!="string"&&l(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var a=JSON.parse(n);if(i.dbref.loadJSONObject(a),a=null,i.dbref.collections.length===0){l(i.dbref);return}i.pageIterator={collection:0,pageIndex:0},i.loadNextPartition(0,function(){l(i.dbref)})})};et.prototype.loadNextPartition=function(p,l){var i=this.dbname+"."+p,n=this;if(this.options.paging===!0){this.pageIterator.pageIndex=0,this.loadNextPage(l);return}this.adapter.loadDatabase(i,function(a){var f=n.dbref.deserializeCollection(a,{delimited:!0,collectionIndex:p});n.dbref.collections[p].data=f,++p<n.dbref.collections.length?n.loadNextPartition(p,l):l()})};et.prototype.loadNextPage=function(p){var l=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,i=this;this.adapter.loadDatabase(l,function(n){var a=n.split(i.options.delimiter);n="";var f=a.length,h,g=a[f-1]==="";for(g&&(a.pop(),f=a.length,a[f-1]===""&&f===1&&(a.pop(),f=a.length)),h=0;h<f;h++)i.dbref.collections[i.pageIterator.collection].data.push(JSON.parse(a[h])),a[h]=null;a=[],g?++i.pageIterator.collection<i.dbref.collections.length?i.loadNextPartition(i.pageIterator.collection,p):p():(i.pageIterator.pageIndex++,i.loadNextPage(p))})};et.prototype.exportDatabase=function(p,l,i){var n,a=l.collections.length;for(this.dbref=l,this.dbname=p,this.dirtyPartitions=[-1],n=0;n<a;n++)l.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition(function(f){i(f)})};et.prototype.saveNextPartition=function(p){var l=this,i=this.dirtyPartitions.shift(),n=this.dbname+(i===-1?"":"."+i);if(this.options.paging&&i!==-1){this.pageIterator={collection:i,docIndex:0,pageIndex:0},this.saveNextPage(function(f){l.dirtyPartitions.length===0?p(f):l.saveNextPartition(p)});return}var a=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:i});this.adapter.saveDatabase(n,a,function(f){if(f){p(f);return}l.dirtyPartitions.length===0?p(null):l.saveNextPartition(p)})};et.prototype.saveNextPage=function(p){var l=this,i=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,a=0,f=i.data.length,h=this.options.delimiter.length,g="",S="",C=!1,A=!1,j=y(function(L){S="",L&&p(L),C?p(null):(l.pageIterator.pageIndex++,l.saveNextPage(p))},"pageSaveCallback");for(i.data.length===0&&(C=!0);;)if(C||(g=JSON.stringify(i.data[this.pageIterator.docIndex]),S+=g,a+=g.length,++this.pageIterator.docIndex>=f&&(C=!0)),a>=this.options.pageSize&&(A=!0),(!A||C)&&(S+=this.options.delimiter,a+=h),C||A){this.adapter.saveDatabase(n,S,j);return}};var te=class extends _e{constructor(i,n){super();this.getIndexedAdapter=y(()=>{let i;return typeof Ci=="function"&&(i=(Tn(),_r(Gr))),i},"getIndexedAdapter");this.configureOptions=y((i,n)=>{let a={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"},f={fs:ot,localStorage:ft,memory:wt};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,typeof i!="undefined"){if(this.options=i,Object.hasOwn(this.options,"persistenceMethod")&&typeof f[i.persistenceMethod]=="function"&&(this.persistenceMethod=i.persistenceMethod,this.persistenceAdapter=new f[i.persistenceMethod]),Object.hasOwn(this.options,"adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=i.adapter,this.options.adapter=null,this.isIncremental=this.persistenceAdapter.mode==="incremental"),i.autoload&&n){let h=this;setTimeout(()=>{h.loadDatabase(i,i.autoloadCallback)},1)}Object.hasOwn(this.options,"autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),Object.hasOwn(this.options,"autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,Object.hasOwn(this.options,"autosaveCallback")?this.autosaveEnable(i,i.autosaveCallback):this.autosaveEnable()),Object.hasOwn(this.options,"throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}Object.hasOwn(this.options,"serializationMethod")||(this.options.serializationMethod="normal"),Object.hasOwn(this.options,"destructureDelimiter")||(this.options.destructureDelimiter=`$<
`),this.persistenceAdapter===null&&(this.persistenceMethod=a[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new f[this.persistenceMethod]))},"configureOptions");this.copy=y(i=>{let n=new te(this.filename,{env:"NA"}),a,f;if(i=i||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),i.hasOwnProperty("removeNonSerializable")&&i.removeNonSerializable===!0)for(n.autosaveHandle=null,n.persistenceAdapter=null,a=n.collections.length,f=0;f<a;f++)n.collections[f].constraints=null,n.collections[f].ttl=null;return n},"copy");this.addCollection=y((i,n)=>{let a,f=this.collections.length;if(n&&n.disableMeta===!0){if(n.disableChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(n.disableDeltaChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if(typeof n.ttl=="number"&&n.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(a=0;a<f;a+=1)if(this.collections[a].name===i)return this.collections[a];let h=new Ae(i,n);return h.isIncremental=this.isIncremental,this.collections.push(h),this.verbose&&(h.lokiConsoleWrapper=console),h},"addCollection");this.loadCollection=y(i=>{if(!i.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(i)},"loadCollection");this.getCollection=y(i=>{let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i)return this.collections[n];return this.emit("warning",`collection ${i} not found`),null},"getCollection");this.renameCollection=y((i,n)=>{let a=this.getCollection(i);return a&&(a.name=n),a},"renameCollection");this.listCollections=y(()=>{let i=this.collections.length,n=[];for(;i--;)n.push({name:this.collections[i].name,type:this.collections[i].objType,count:this.collections[i].data.length});return n},"listCollections");this.removeCollection=y(i=>{let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i){let f=new Ae(i,{}),h=this.collections[n];for(let g in h)h.hasOwnProperty(g)&&f.hasOwnProperty(g)&&(h[g]=f[g]);this.collections.splice(n,1);return}},"removeCollection");this.getName=y(()=>this.name,"getName");this.serializeReplacer=y((i,n)=>{switch(i){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;case"lokiConsoleWrapper":return null;default:return n}},"serializeReplacer");this.serialize=y((i={})=>{switch(i.hasOwnProperty("serializationMethod")||(i.serializationMethod=this.options.serializationMethod),i.serializationMethod){case"normal":return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured();default:return JSON.stringify(this,this.serializeReplacer)}},"serialize");this.serializeDestructured=y(i=>{let n,a,f,h,g=[],S;if(i=i||{},i.hasOwnProperty("partitioned")||(i.partitioned=!1),i.hasOwnProperty("delimited")||(i.delimited=!0),i.hasOwnProperty("delimiter")||(i.delimiter=this.options.destructureDelimiter),i.partitioned===!0&&i.hasOwnProperty("partition")&&i.partition>=0)return this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:i.partition});for(S=new te(this.filename),S.loadJSONObject(this),n=0;n<S.collections.length;n++)S.collections[n].data=[];if(i.partitioned===!0&&i.partition===-1)return S.serialize({serializationMethod:"normal"});for(g.push(S.serialize({serializationMethod:"normal"})),S=null,n=0;n<this.collections.length;n++)if(f=this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:n}),i.partitioned===!1&&i.delimited===!1){if(!Array.isArray(f))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(h=f.length,a=0;a<h;a++)g.push(f[a]),f[a]=null;g.push("")}else g.push(f);return i.partitioned?(i.delimited,g):i.delimited?(g.push(""),g.join(i.delimiter)):(g.push(""),g)},"serializeDestructured");this.serializeCollection=y(i=>{let n,a=[];if(i=i||{},i.hasOwnProperty("delimited")||(i.delimited=!0),!i.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");let f=this.collections[i.collectionIndex].data.length;for(a=[],n=0;n<f;n++)a.push(JSON.stringify(this.collections[i.collectionIndex].data[n]));return i.delimited?(a.push(""),a.join(i.delimiter)):a},"serializeCollection");this.deserializeDestructured=y((i,n)=>{let a=[],f,h,g=0,S,C=1,A=!1,j,L;if(n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.partitioned){if(n.hasOwnProperty("partition"))return n.partition===-1?(h=JSON.parse(i[0]),h):this.deserializeCollection(i[n.partition+1],n);for(h=JSON.parse(i[0]),S=h.collections.length,g=0;g<S;g++)h.collections[g].data=this.deserializeCollection(i[g+1],n);return h}if(n.delimited){if(a=i.split(n.delimiter),i=null,f=a.length,f===0)return null}else a=i;for(h=JSON.parse(a[0]),S=h.collections.length,a[0]=null;!A;)j=a[C],a[C]===""?++g>S&&(A=!0):(L=JSON.parse(a[C]),h.collections[g].data.push(L)),a[C++]=null;return h},"deserializeDestructured");this.deserializeCollection=y((i,n)=>{let a=[],f;n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.delimited?(a=i.split(n.delimiter),a.pop()):a=i;let h=a.length;for(f=0;f<h;f++)a[f]=JSON.parse(a[f]);return a},"deserializeCollection");this.loadJSON=y((i,n)=>{let a;if(i.length===0)a={};else switch(this.options.serializationMethod){case"normal":case"pretty":a=JSON.parse(i);break;case"destructured":a=this.deserializeDestructured(i);break;default:a=JSON.parse(i);break}this.loadJSONObject(a,n)},"loadJSON");this.loadJSONObject=y((i,n)=>{let a=0,f=i.collections?i.collections.length:0,h,g,S,C,A,j;this.name=i.name,i.hasOwnProperty("throttledSaves")&&n&&!n.hasOwnProperty("throttledSaves")&&(this.throttledSaves=i.throttledSaves),this.collections=[];function L({name:T}){let N=n[T],M;return N.proto?(M=N.inflate||_.copyProperties,z=>{let Ce=new N.proto;return M(z,Ce),Ce}):N.inflate}for(y(L,"makeLoader"),a;a<f;a+=1){if(h=i.collections[a],g=this.addCollection(h.name,{disableChangesApi:h.disableChangesApi,disableDeltaChangesApi:h.disableDeltaChangesApi,disableMeta:h.disableMeta,disableFreeze:h.hasOwnProperty("disableFreeze")?h.disableFreeze:!0}),g.adaptiveBinaryIndices=h.hasOwnProperty("adaptiveBinaryIndices")?h.adaptiveBinaryIndices===!0:!1,g.transactional=h.transactional,g.asyncListeners=h.asyncListeners,g.cloneObjects=h.cloneObjects,g.cloneMethod=h.cloneMethod||"parse-stringify",g.autoupdate=h.autoupdate,g.changes=h.changes,g.dirtyIds=h.dirtyIds||[],n&&n.retainDirtyFlags===!0?g.dirty=h.dirty:g.dirty=!1,h.getData){if(n&&n.hasOwnProperty(h.name)||!g.disableFreeze||g.autoupdate)throw new Error(`this collection cannot be loaded lazily: ${h.name}`);g.getData=h.getData,Object.defineProperty(g,"data",{get(){let T=this.getData();return this.getData=null,Object.defineProperty(this,"data",{value:T}),T}})}else if(S=h.data.length,C=0,n&&n.hasOwnProperty(h.name))for(A=L(h),C;C<S;C++)j=A(h.data[C]),g.data[C]=j,g.addAutoUpdateObserver(j),g.disableFreeze||pe(g.data[C]);else for(C;C<S;C++)g.data[C]=h.data[C],g.addAutoUpdateObserver(g.data[C]),g.disableFreeze||pe(g.data[C]);if(g.maxId=typeof h.maxId=="undefined"?0:h.maxId,typeof h.binaryIndices!="undefined"&&(g.binaryIndices=h.binaryIndices),typeof h.transforms!="undefined"&&(g.transforms=h.transforms),g.uniqueNames=[],h.hasOwnProperty("uniqueNames")&&(g.uniqueNames=h.uniqueNames),typeof h.DynamicViews!="undefined"){for(let T=0;T<h.DynamicViews.length;T++){let N=h.DynamicViews[T],M=g.addDynamicView(N.name,N.options);M.resultdata=N.resultdata,M.resultsdirty=N.resultsdirty,M.filterPipeline=N.filterPipeline,M.sortCriteriaSimple=N.sortCriteriaSimple,M.sortCriteria=N.sortCriteria,M.sortFunction=null,M.sortDirty=N.sortDirty,g.disableFreeze||(pe(M.filterPipeline),M.sortCriteriaSimple?pe(M.sortCriteriaSimple):M.sortCriteria&&pe(M.sortCriteria)),M.resultset.filteredrows=N.resultset.filteredrows,M.resultset.filterInitialized=N.resultset.filterInitialized,M.rematerialize({removeWhereFilters:!0})}i.databaseVersion<1.5&&(g.ensureAllIndexes(!0),g.dirty=!0)}}},"loadJSONObject");this.close=y(i=>{this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(i),i=void 0)),i&&this.on("close",i),this.emit("close")},"close");this.generateChangesNotification=y(i=>{function n({name:h}){return h}y(n,"getCollName");let a=[],f=i||this.collections.map(n);return this.collections.forEach(h=>{f.includes(n(h))&&(a=a.concat(h.getChanges()))}),a},"generateChangesNotification");this.serializeChanges=y(i=>JSON.stringify(this.generateChangesNotification(i)),"serializeChanges");this.deserializeChanges=y(i=>JSON.parse(i),"deserializeChanges");this.clearChanges=y(()=>{this.collections.forEach(i=>{i.flushChanges&&i.flushChanges()})},"clearChanges");this.throttledSaveDrain=y((i,n)=>{let a=this,f=new Date().getTime();if(this.throttledSaves||i(!0),n=n||{},n.hasOwnProperty("recursiveWait")||(n.recursiveWait=!0),n.hasOwnProperty("recursiveWaitLimit")||(n.recursiveWaitLimit=!1),n.hasOwnProperty("recursiveWaitLimitDuration")||(n.recursiveWaitLimitDuration=2e3),n.hasOwnProperty("started")||(n.started=new Date().getTime()),this.throttledSaves&&this.throttledSavePending)if(n.recursiveWait)this.throttledCallbacks.push(()=>{if(a.throttledSavePending){if(n.recursiveWaitLimit&&f-n.started>n.recursiveWaitLimitDuration){i(!1);return}a.throttledSaveDrain(i,n);return}else{i(!0);return}});else{this.throttledCallbacks.push(i);return}else i(!0)},"throttledSaveDrain");this.loadDatabaseInternal=y((i,n)=>{let a=n||(h=>{if(h)throw h}),f=this;this.persistenceAdapter!==null?this.persistenceAdapter.loadDatabase(this.filename,y(function(g){if(typeof g=="string"){let S=!1;try{f.loadJSON(g,i||{}),S=!0}catch(C){a(C)}S&&(a(null),f.emit("loaded",`database ${f.filename} loaded`))}else{if(!g){a(null),f.emit("loaded",`empty database ${f.filename} loaded`);return}if(g instanceof Error){a(g);return}if(typeof g=="object"){f.loadJSONObject(g,i||{}),a(null),f.emit("loaded",`database ${f.filename} loaded`);return}a(`unexpected adapter response : ${g}`)}},"loadDatabaseCallback")):a(new Error("persistenceAdapter not configured"))},"loadDatabaseInternal");this.loadDatabase=y((i,n)=>{let a=this;if(!this.throttledSaves){this.loadDatabaseInternal(i,n);return}this.throttledSaveDrain(f=>{if(f){a.throttledSavePending=!0,a.loadDatabaseInternal(i,h=>{a.throttledCallbacks.length===0?a.throttledSavePending=!1:a.saveDatabase(),typeof n=="function"&&n(h)});return}else typeof n=="function"&&n(new Error("Unable to pause save throttling long enough to read database"))},i)},"loadDatabase");this.saveDatabaseInternal=y(i=>{let n=i||(f=>{if(f)throw f}),a=this;if(!this.persistenceAdapter){n(new Error("persistenceAdapter not configured"));return}if(this.persistenceAdapter.mode==="incremental"){let f;this.ignoreAutosave=!0,this.persistenceAdapter.saveDatabase(this.filename,y(function(){if(a.ignoreAutosave=!1,f){n(new Error("adapter error - getLokiCopy called more than once"));return}let g=a.copy({removeNonSerializable:!0});return f=a.collections.map(({dirty:S,dirtyIds:C})=>[S,C]),a.collections.forEach(S=>{S.dirty=!1,S.dirtyIds=[]}),g},"getLokiCopy"),y(function(g){a.ignoreAutosave=!1,g&&f&&a.collections.forEach((S,C)=>{let A=f[C];S.dirty=S.dirty||A[0],S.dirtyIds=S.dirtyIds.concat(A[1])}),n(g)},"exportDatabaseCallback"))}else this.persistenceAdapter.mode==="reference"&&typeof this.persistenceAdapter.exportDatabase=="function"?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),y(function(h){a.autosaveClearFlags(),n(h)},"exportDatabaseCallback")):(this.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,this.serialize(),y(function(h){n(h)},"saveDatabasecallback")))},"saveDatabaseInternal");this.saveDatabase=y(i=>{if(!this.throttledSaves){this.saveDatabaseInternal(i);return}if(this.throttledSavePending){this.throttledCallbacks.push(i);return}let n=this.throttledCallbacks;this.throttledCallbacks=[],n.unshift(i),this.throttledSavePending=!0;let a=this;this.saveDatabaseInternal(f=>{a.throttledSavePending=!1,n.forEach(h=>{typeof h=="function"&&setTimeout(()=>{h(f)},1)}),a.throttledCallbacks.length>0&&a.saveDatabase()})},"saveDatabase");this.deleteDatabase=y((i,n)=>{let a=n||(f=>{if(f)throw f});typeof i=="function"&&!n&&(a=i),this.persistenceAdapter!==null?this.persistenceAdapter.deleteDatabase(this.filename,y(function(h){a(h)},"deleteDatabaseCallback")):a(new Error("persistenceAdapter not configured"))},"deleteDatabase");this.autosaveDirty=y(()=>{for(let i=0;i<this.collections.length;i++)if(this.collections[i].dirty)return!0;return!1},"autosaveDirty");this.autosaveClearFlags=y(()=>{for(let i=0;i<this.collections.length;i++)this.collections[i].dirty=!1},"autosaveClearFlags");this.autosaveEnable=y((i,n)=>{this.autosave=!0;let a=5e3,f=this;typeof this.autosaveInterval!="undefined"&&this.autosaveInterval!==null&&(a=this.autosaveInterval),this.autosaveHandle=setInterval(y(function(){f.autosaveDirty()&&!f.ignoreAutosave&&f.saveDatabase(n)},"autosaveHandleInterval"),a)},"autosaveEnable");this.autosaveDisable=y(()=>{typeof this.autosaveHandle!="undefined"&&this.autosaveHandle!==null&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)},"autosaveDisable");this.filename=i||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=n&&Object.hasOwn(n,"verbose")?n.verbose:!1,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]};let a=y(()=>typeof global!="undefined"&&(global.android||global.NSObject)?"NATIVESCRIPT":typeof window=="undefined"||typeof global!="undefined"&&global.window&&typeof process!="undefined"?"NODEJS":typeof document!="undefined"?!document.URL.includes("http://")&&!document.URL.includes("https://")?"CORDOVA":"BROWSER":"CORDOVA","getENV");n&&Object.hasOwn(n,"env")?this.ENV=n.env:this.ENV=a(),this.ENV==="undefined"&&(this.ENV="NODEJS"),this.configureOptions(n,!0),this.on("init",this.clearChanges)}};y(te,"Loki");te.prototype.toJson=te.prototype.serialize;te.prototype.save=te.prototype.saveDatabase;te.deepFreeze=pe;te.freeze=Qe;te.unFreeze=Ge;te.LokiOps=we;te.Collection=Ae;te.DynamicView=Ue;te.Resultset=ue;te.KeyValueStore=Ei;te.LokiMemoryAdapter=wt;te.LokiPartitioningAdapter=et;te.LokiLocalStorageAdapter=ft;te.LokiFsAdapter=ot;te.persistenceAdapters={fs:ot,localStorage:ft};te.aeq=Ii;te.lt=Di;te.gt=Oi;te.Comparators=K;var Fe=Object.prototype.hasOwnProperty;function Ai(p,l){if(p==="$regex")Array.isArray(l)?l=new RegExp(l[0],l[1]):l instanceof RegExp||(l=new RegExp(l));else if(typeof l=="object")for(let i in l)(i==="$regex"||typeof l[i]=="object")&&(l[i]=Ai(i,l[i]));return l}y(Ai,"precompileQuery");function An(p){return parseInt(p,10)}y(An,"parseBase10");function Ze(p,l,i){if(i===!1)return p[l];let n=l.split("."),a=p;for(;n.length>0;)a=a[n.shift()];return a}y(Ze,"deepProperty");typeof window!="undefined"&&Object.assign(window,{loki:te,Loki:te});var Ka=te;})();
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)
*/
//# sourceMappingURL=lokijs.js.map
