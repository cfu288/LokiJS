"use strict";(()=>{var Lr=Object.create;var jt=Object.defineProperty;var Mr=Object.getOwnPropertyDescriptor;var Fr=Object.getOwnPropertyNames;var zr=Object.getPrototypeOf,Rr=Object.prototype.hasOwnProperty;var g=(p,l)=>jt(p,"name",{value:l,configurable:!0}),Ci=(p=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(p,{get:(l,i)=>(typeof require<"u"?require:l)[i]}):p)(function(p){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+p+'" is not supported')});var Hr=(p,l)=>()=>(p&&(l=p(p=0)),l);var Br=(p,l)=>()=>(l||p((l={exports:{}}).exports,l),l.exports),Wr=(p,l)=>{for(var i in l)jt(p,i,{get:l[i],enumerable:!0})},bn=(p,l,i,n)=>{if(l&&typeof l=="object"||typeof l=="function")for(let a of Fr(l))!Rr.call(p,a)&&a!==i&&jt(p,a,{get:()=>l[a],enumerable:!(n=Mr(l,a))||n.enumerable});return p};var Vr=(p,l,i)=>(i=p!=null?Lr(zr(p)):{},bn(l||!p||!p.__esModule?jt(i,"default",{value:p,enumerable:!0}):i,p)),_r=p=>bn(jt({},"__esModule",{value:!0}),p);var wn=Br((xn,Ut)=>{(function(p,l){"use strict";typeof Ut=="object"&&typeof Ut.exports=="object"?Ut.exports=p.document?l(p,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return l(i)}:l(p)})(typeof window<"u"?window:xn,function(p,l){"use strict";var i=[],n=Object.getPrototypeOf,a=i.slice,f=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},h=i.push,y=i.indexOf,S={},C=S.toString,A=S.hasOwnProperty,N=A.toString,L=N.call(Object),T={},j=g(function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},"isFunction"),M=g(function(t){return t!=null&&t===t.window},"isWindow"),H=p.document,Ce={type:!0,src:!0,nonce:!0,noModule:!0};function Se(e,t,r){r=r||H;var s,u,c=r.createElement("script");if(c.text=e,t)for(s in Ce)u=t[s]||t.getAttribute&&t.getAttribute(s),u&&c.setAttribute(s,u);r.head.appendChild(c).parentNode.removeChild(c)}g(Se,"DOMEval");function Q(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?S[C.call(e)]||"object":typeof e}g(Q,"toType");var ge="3.7.0",Ie=/HTML$/i,o=g(function(e,t){return new o.fn.init(e,t)},"jQuery");o.fn=o.prototype={jquery:ge,constructor:o,length:0,toArray:function(){return a.call(this)},get:function(e){return e==null?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=o.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return o.each(this,e)},map:function(e){return this.pushStack(o.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:i.sort,splice:i.splice},o.extend=o.fn.extend=function(){var e,t,r,s,u,c,d=arguments[0]||{},b=1,v=arguments.length,w=!1;for(typeof d=="boolean"&&(w=d,d=arguments[b]||{},b++),typeof d!="object"&&!j(d)&&(d={}),b===v&&(d=this,b--);b<v;b++)if((e=arguments[b])!=null)for(t in e)s=e[t],!(t==="__proto__"||d===s)&&(w&&s&&(o.isPlainObject(s)||(u=Array.isArray(s)))?(r=d[t],u&&!Array.isArray(r)?c=[]:!u&&!o.isPlainObject(r)?c={}:c=r,u=!1,d[t]=o.extend(w,c,s)):s!==void 0&&(d[t]=s));return d},o.extend({expando:"jQuery"+(ge+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!e||C.call(e)!=="[object Object]"?!1:(t=n(e),t?(r=A.call(t,"constructor")&&t.constructor,typeof r=="function"&&N.call(r)===L):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){Se(e,{nonce:t&&t.nonce},r)},each:function(e,t){var r,s=0;if(de(e))for(r=e.length;s<r&&t.call(e[s],s,e[s])!==!1;s++);else for(s in e)if(t.call(e[s],s,e[s])===!1)break;return e},text:function(e){var t,r="",s=0,u=e.nodeType;if(u){if(u===1||u===9||u===11)return e.textContent;if(u===3||u===4)return e.nodeValue}else for(;t=e[s++];)r+=o.text(t);return r},makeArray:function(e,t){var r=t||[];return e!=null&&(de(Object(e))?o.merge(r,typeof e=="string"?[e]:e):h.call(r,e)),r},inArray:function(e,t,r){return t==null?-1:y.call(t,e,r)},isXMLDoc:function(e){var t=e&&e.namespaceURI,r=e&&(e.ownerDocument||e).documentElement;return!Ie.test(t||r&&r.nodeName||"HTML")},merge:function(e,t){for(var r=+t.length,s=0,u=e.length;s<r;s++)e[u++]=t[s];return e.length=u,e},grep:function(e,t,r){for(var s,u=[],c=0,d=e.length,b=!r;c<d;c++)s=!t(e[c],c),s!==b&&u.push(e[c]);return u},map:function(e,t,r){var s,u,c=0,d=[];if(de(e))for(s=e.length;c<s;c++)u=t(e[c],c,r),u!=null&&d.push(u);else for(c in e)u=t(e[c],c,r),u!=null&&d.push(u);return f(d)},guid:1,support:T}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=i[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){S["[object "+t+"]"]=t.toLowerCase()});function de(e){var t=!!e&&"length"in e&&e.length,r=Q(e);return j(e)||M(e)?!1:r==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}g(de,"isArrayLike");function ne(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}g(ne,"nodeName");var Pn=i.pop,En=i.sort,Nn=i.splice,re="[\\x20\\t\\r\\n\\f]",Ct=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g");o.contains=function(e,t){var r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(e.contains?e.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))};var jn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function $n(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}g($n,"fcssescape"),o.escapeSelector=function(e){return(e+"").replace(jn,$n)};var Re=H,Yt=h;(function(){var e,t,r,s,u,c=Yt,d,b,v,w,k,E=o.expando,D=0,$=0,J=Bt(),ee=Bt(),X=Bt(),ce=Bt(),fe=g(function(m,x){return m===x&&(u=!0),0},"sortOrder"),$e="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",qe="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Z="\\["+re+"*("+qe+")(?:"+re+"*([*^$|!~]?=)"+re+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+qe+"))|)"+re+"*\\]",st=":("+qe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Z+")*)|.*)\\)|)",te=new RegExp(re+"+","g"),le=new RegExp("^"+re+"*,"+re+"*"),Et=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),yi=new RegExp(re+"|>"),Le=new RegExp(st),Nt=new RegExp("^"+qe+"$"),Me={ID:new RegExp("^#("+qe+")"),CLASS:new RegExp("^\\.("+qe+")"),TAG:new RegExp("^("+qe+"|[*])"),ATTR:new RegExp("^"+Z),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+$e+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},Ue=/^(?:input|select|textarea|button)$/i,Ke=/^h\d$/i,Oe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gi=/[+~]/,We=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Ve=g(function(m,x){var I="0x"+m.slice(1)-65536;return x||(I<0?String.fromCharCode(I+65536):String.fromCharCode(I>>10|55296,I&1023|56320))},"funescape"),Tr=g(function(){Xe()},"unloadHandler"),Pr=_t(function(m){return m.disabled===!0&&ne(m,"fieldset")},{dir:"parentNode",next:"legend"});function Er(){try{return d.activeElement}catch{}}g(Er,"safeActiveElement");try{c.apply(i=a.call(Re.childNodes),Re.childNodes),i[Re.childNodes.length].nodeType}catch{c={apply:function(x,I){Yt.apply(x,a.call(I))},call:function(x){Yt.apply(x,a.call(arguments,1))}}}function se(m,x,I,O){var P,q,F,R,z,G,V,U=x&&x.ownerDocument,Y=x?x.nodeType:9;if(I=I||[],typeof m!="string"||!m||Y!==1&&Y!==9&&Y!==11)return I;if(!O&&(Xe(x),x=x||d,v)){if(Y!==11&&(z=Oe.exec(m)))if(P=z[1]){if(Y===9)if(F=x.getElementById(P)){if(F.id===P)return c.call(I,F),I}else return I;else if(U&&(F=U.getElementById(P))&&se.contains(x,F)&&F.id===P)return c.call(I,F),I}else{if(z[2])return c.apply(I,x.getElementsByTagName(m)),I;if((P=z[3])&&x.getElementsByClassName)return c.apply(I,x.getElementsByClassName(P)),I}if(!ce[m+" "]&&(!w||!w.test(m))){if(V=m,U=x,Y===1&&(yi.test(m)||Et.test(m))){for(U=gi.test(m)&&mi(x.parentNode)||x,(U!=x||!T.scope)&&((R=x.getAttribute("id"))?R=o.escapeSelector(R):x.setAttribute("id",R=E)),G=Wt(m),q=G.length;q--;)G[q]=(R?"#"+R:":scope")+" "+Vt(G[q]);V=G.join(",")}try{return c.apply(I,U.querySelectorAll(V)),I}catch{ce(m,!0)}finally{R===E&&x.removeAttribute("id")}}}return vn(m.replace(Ct,"$1"),x,I,O)}g(se,"find");function Bt(){var m=[];function x(I,O){return m.push(I+" ")>t.cacheLength&&delete x[m.shift()],x[I+" "]=O}return g(x,"cache"),x}g(Bt,"createCache");function Pe(m){return m[E]=!0,m}g(Pe,"markFunction");function bt(m){var x=d.createElement("fieldset");try{return!!m(x)}catch{return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}g(bt,"assert");function Nr(m){return function(x){return ne(x,"input")&&x.type===m}}g(Nr,"createInputPseudo");function jr(m){return function(x){return(ne(x,"input")||ne(x,"button"))&&x.type===m}}g(jr,"createButtonPseudo");function gn(m){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===m:x.disabled===m:x.isDisabled===m||x.isDisabled!==!m&&Pr(x)===m:x.disabled===m:"label"in x?x.disabled===m:!1}}g(gn,"createDisabledPseudo");function at(m){return Pe(function(x){return x=+x,Pe(function(I,O){for(var P,q=m([],I.length,x),F=q.length;F--;)I[P=q[F]]&&(I[P]=!(O[P]=I[P]))})})}g(at,"createPositionalPseudo");function mi(m){return m&&typeof m.getElementsByTagName<"u"&&m}g(mi,"testContext");function Xe(m){var x,I=m?m.ownerDocument||m:Re;return I==d||I.nodeType!==9||!I.documentElement||(d=I,b=d.documentElement,v=!o.isXMLDoc(d),k=b.matches||b.webkitMatchesSelector||b.msMatchesSelector,Re!=d&&(x=d.defaultView)&&x.top!==x&&x.addEventListener("unload",Tr),T.getById=bt(function(O){return b.appendChild(O).id=o.expando,!d.getElementsByName||!d.getElementsByName(o.expando).length}),T.disconnectedMatch=bt(function(O){return k.call(O,"*")}),T.scope=bt(function(){return d.querySelectorAll(":scope")}),T.cssHas=bt(function(){try{return d.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(t.filter.ID=function(O){var P=O.replace(We,Ve);return function(q){return q.getAttribute("id")===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&v){var q=P.getElementById(O);return q?[q]:[]}}):(t.filter.ID=function(O){var P=O.replace(We,Ve);return function(q){var F=typeof q.getAttributeNode<"u"&&q.getAttributeNode("id");return F&&F.value===P}},t.find.ID=function(O,P){if(typeof P.getElementById<"u"&&v){var q,F,R,z=P.getElementById(O);if(z){if(q=z.getAttributeNode("id"),q&&q.value===O)return[z];for(R=P.getElementsByName(O),F=0;z=R[F++];)if(q=z.getAttributeNode("id"),q&&q.value===O)return[z]}return[]}}),t.find.TAG=function(O,P){return typeof P.getElementsByTagName<"u"?P.getElementsByTagName(O):P.querySelectorAll(O)},t.find.CLASS=function(O,P){if(typeof P.getElementsByClassName<"u"&&v)return P.getElementsByClassName(O)},w=[],bt(function(O){var P;b.appendChild(O).innerHTML="<a id='"+E+"' href='' disabled='disabled'></a><select id='"+E+"-\r\\' disabled='disabled'><option selected=''></option></select>",O.querySelectorAll("[selected]").length||w.push("\\["+re+"*(?:value|"+$e+")"),O.querySelectorAll("[id~="+E+"-]").length||w.push("~="),O.querySelectorAll("a#"+E+"+*").length||w.push(".#.+[+~]"),O.querySelectorAll(":checked").length||w.push(":checked"),P=d.createElement("input"),P.setAttribute("type","hidden"),O.appendChild(P).setAttribute("name","D"),b.appendChild(O).disabled=!0,O.querySelectorAll(":disabled").length!==2&&w.push(":enabled",":disabled"),P=d.createElement("input"),P.setAttribute("name",""),O.appendChild(P),O.querySelectorAll("[name='']").length||w.push("\\["+re+"*name"+re+"*="+re+`*(?:''|"")`)}),T.cssHas||w.push(":has"),w=w.length&&new RegExp(w.join("|")),fe=g(function(O,P){if(O===P)return u=!0,0;var q=!O.compareDocumentPosition-!P.compareDocumentPosition;return q||(q=(O.ownerDocument||O)==(P.ownerDocument||P)?O.compareDocumentPosition(P):1,q&1||!T.sortDetached&&P.compareDocumentPosition(O)===q?O===d||O.ownerDocument==Re&&se.contains(Re,O)?-1:P===d||P.ownerDocument==Re&&se.contains(Re,P)?1:s?y.call(s,O)-y.call(s,P):0:q&4?-1:1)},"sortOrder")),d}g(Xe,"setDocument"),se.matches=function(m,x){return se(m,null,null,x)},se.matchesSelector=function(m,x){if(Xe(m),v&&!ce[x+" "]&&(!w||!w.test(x)))try{var I=k.call(m,x);if(I||T.disconnectedMatch||m.document&&m.document.nodeType!==11)return I}catch{ce(x,!0)}return se(x,d,null,[m]).length>0},se.contains=function(m,x){return(m.ownerDocument||m)!=d&&Xe(m),o.contains(m,x)},se.attr=function(m,x){(m.ownerDocument||m)!=d&&Xe(m);var I=t.attrHandle[x.toLowerCase()],O=I&&A.call(t.attrHandle,x.toLowerCase())?I(m,x,!v):void 0;return O!==void 0?O:m.getAttribute(x)},se.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},o.uniqueSort=function(m){var x,I=[],O=0,P=0;if(u=!T.sortStable,s=!T.sortStable&&a.call(m,0),En.call(m,fe),u){for(;x=m[P++];)x===m[P]&&(O=I.push(P));for(;O--;)Nn.call(m,I[O],1)}return s=null,m},o.fn.uniqueSort=function(){return this.pushStack(o.uniqueSort(a.apply(this)))},t=o.expr={cacheLength:50,createPseudo:Pe,match:Me,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(We,Ve),m[3]=(m[3]||m[4]||m[5]||"").replace(We,Ve),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||se.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&se.error(m[0]),m},PSEUDO:function(m){var x,I=!m[6]&&m[2];return Me.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":I&&Le.test(I)&&(x=Wt(I,!0))&&(x=I.indexOf(")",I.length-x)-I.length)&&(m[0]=m[0].slice(0,x),m[2]=I.slice(0,x)),m.slice(0,3))}},filter:{TAG:function(m){var x=m.replace(We,Ve).toLowerCase();return m==="*"?function(){return!0}:function(I){return ne(I,x)}},CLASS:function(m){var x=J[m+" "];return x||(x=new RegExp("(^|"+re+")"+m+"("+re+"|$)"))&&J(m,function(I){return x.test(typeof I.className=="string"&&I.className||typeof I.getAttribute<"u"&&I.getAttribute("class")||"")})},ATTR:function(m,x,I){return function(O){var P=se.attr(O,m);return P==null?x==="!=":x?(P+="",x==="="?P===I:x==="!="?P!==I:x==="^="?I&&P.indexOf(I)===0:x==="*="?I&&P.indexOf(I)>-1:x==="$="?I&&P.slice(-I.length)===I:x==="~="?(" "+P.replace(te," ")+" ").indexOf(I)>-1:x==="|="?P===I||P.slice(0,I.length+1)===I+"-":!1):!0}},CHILD:function(m,x,I,O,P){var q=m.slice(0,3)!=="nth",F=m.slice(-4)!=="last",R=x==="of-type";return O===1&&P===0?function(z){return!!z.parentNode}:function(z,G,V){var U,Y,W,ae,xe,he=q!==F?"nextSibling":"previousSibling",ke=z.parentNode,Fe=R&&z.nodeName.toLowerCase(),xt=!V&&!R,ye=!1;if(ke){if(q){for(;he;){for(W=z;W=W[he];)if(R?ne(W,Fe):W.nodeType===1)return!1;xe=he=m==="only"&&!xe&&"nextSibling"}return!0}if(xe=[F?ke.firstChild:ke.lastChild],F&&xt){for(Y=ke[E]||(ke[E]={}),U=Y[m]||[],ae=U[0]===D&&U[1],ye=ae&&U[2],W=ae&&ke.childNodes[ae];W=++ae&&W&&W[he]||(ye=ae=0)||xe.pop();)if(W.nodeType===1&&++ye&&W===z){Y[m]=[D,ae,ye];break}}else if(xt&&(Y=z[E]||(z[E]={}),U=Y[m]||[],ae=U[0]===D&&U[1],ye=ae),ye===!1)for(;(W=++ae&&W&&W[he]||(ye=ae=0)||xe.pop())&&!((R?ne(W,Fe):W.nodeType===1)&&++ye&&(xt&&(Y=W[E]||(W[E]={}),Y[m]=[D,ye]),W===z)););return ye-=P,ye===O||ye%O===0&&ye/O>=0}}},PSEUDO:function(m,x){var I,O=t.pseudos[m]||t.setFilters[m.toLowerCase()]||se.error("unsupported pseudo: "+m);return O[E]?O(x):O.length>1?(I=[m,m,"",x],t.setFilters.hasOwnProperty(m.toLowerCase())?Pe(function(P,q){for(var F,R=O(P,x),z=R.length;z--;)F=y.call(P,R[z]),P[F]=!(q[F]=R[z])}):function(P){return O(P,0,I)}):O}},pseudos:{not:Pe(function(m){var x=[],I=[],O=wi(m.replace(Ct,"$1"));return O[E]?Pe(function(P,q,F,R){for(var z,G=O(P,null,R,[]),V=P.length;V--;)(z=G[V])&&(P[V]=!(q[V]=z))}):function(P,q,F){return x[0]=P,O(x,null,F,I),x[0]=null,!I.pop()}}),has:Pe(function(m){return function(x){return se(m,x).length>0}}),contains:Pe(function(m){return m=m.replace(We,Ve),function(x){return(x.textContent||o.text(x)).indexOf(m)>-1}}),lang:Pe(function(m){return Nt.test(m||"")||se.error("unsupported lang: "+m),m=m.replace(We,Ve).toLowerCase(),function(x){var I;do if(I=v?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return I=I.toLowerCase(),I===m||I.indexOf(m+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(m){var x=p.location&&p.location.hash;return x&&x.slice(1)===m.id},root:function(m){return m===b},focus:function(m){return m===Er()&&d.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:gn(!1),disabled:gn(!0),checked:function(m){return ne(m,"input")&&!!m.checked||ne(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!t.pseudos.empty(m)},header:function(m){return Ke.test(m.nodeName)},input:function(m){return Ue.test(m.nodeName)},button:function(m){return ne(m,"input")&&m.type==="button"||ne(m,"button")},text:function(m){var x;return ne(m,"input")&&m.type==="text"&&((x=m.getAttribute("type"))==null||x.toLowerCase()==="text")},first:at(function(){return[0]}),last:at(function(m,x){return[x-1]}),eq:at(function(m,x,I){return[I<0?I+x:I]}),even:at(function(m,x){for(var I=0;I<x;I+=2)m.push(I);return m}),odd:at(function(m,x){for(var I=1;I<x;I+=2)m.push(I);return m}),lt:at(function(m,x,I){var O;for(I<0?O=I+x:I>x?O=x:O=I;--O>=0;)m.push(O);return m}),gt:at(function(m,x,I){for(var O=I<0?I+x:I;++O<x;)m.push(O);return m})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=Nr(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=jr(e);function mn(){}g(mn,"setFilters"),mn.prototype=t.filters=t.pseudos,t.setFilters=new mn;function Wt(m,x){var I,O,P,q,F,R,z,G=ee[m+" "];if(G)return x?0:G.slice(0);for(F=m,R=[],z=t.preFilter;F;){(!I||(O=le.exec(F)))&&(O&&(F=F.slice(O[0].length)||F),R.push(P=[])),I=!1,(O=Et.exec(F))&&(I=O.shift(),P.push({value:I,type:O[0].replace(Ct," ")}),F=F.slice(I.length));for(q in t.filter)(O=Me[q].exec(F))&&(!z[q]||(O=z[q](O)))&&(I=O.shift(),P.push({value:I,type:q,matches:O}),F=F.slice(I.length));if(!I)break}return x?F.length:F?se.error(m):ee(m,R).slice(0)}g(Wt,"tokenize");function Vt(m){for(var x=0,I=m.length,O="";x<I;x++)O+=m[x].value;return O}g(Vt,"toSelector");function _t(m,x,I){var O=x.dir,P=x.next,q=P||O,F=I&&q==="parentNode",R=$++;return x.first?function(z,G,V){for(;z=z[O];)if(z.nodeType===1||F)return m(z,G,V);return!1}:function(z,G,V){var U,Y,W=[D,R];if(V){for(;z=z[O];)if((z.nodeType===1||F)&&m(z,G,V))return!0}else for(;z=z[O];)if(z.nodeType===1||F)if(Y=z[E]||(z[E]={}),P&&ne(z,P))z=z[O]||z;else{if((U=Y[q])&&U[0]===D&&U[1]===R)return W[2]=U[2];if(Y[q]=W,W[2]=m(z,G,V))return!0}return!1}}g(_t,"addCombinator");function vi(m){return m.length>1?function(x,I,O){for(var P=m.length;P--;)if(!m[P](x,I,O))return!1;return!0}:m[0]}g(vi,"elementMatcher");function $r(m,x,I){for(var O=0,P=x.length;O<P;O++)se(m,x[O],I);return I}g($r,"multipleContexts");function Jt(m,x,I,O,P){for(var q,F=[],R=0,z=m.length,G=x!=null;R<z;R++)(q=m[R])&&(!I||I(q,O,P))&&(F.push(q),G&&x.push(R));return F}g(Jt,"condense");function bi(m,x,I,O,P,q){return O&&!O[E]&&(O=bi(O)),P&&!P[E]&&(P=bi(P,q)),Pe(function(F,R,z,G){var V,U,Y,W,ae=[],xe=[],he=R.length,ke=F||$r(x||"*",z.nodeType?[z]:z,[]),Fe=m&&(F||!x)?Jt(ke,ae,m,z,G):ke;if(I?(W=P||(F?m:he||O)?[]:R,I(Fe,W,z,G)):W=Fe,O)for(V=Jt(W,xe),O(V,[],z,G),U=V.length;U--;)(Y=V[U])&&(W[xe[U]]=!(Fe[xe[U]]=Y));if(F){if(P||m){if(P){for(V=[],U=W.length;U--;)(Y=W[U])&&V.push(Fe[U]=Y);P(null,W=[],V,G)}for(U=W.length;U--;)(Y=W[U])&&(V=P?y.call(F,Y):ae[U])>-1&&(F[V]=!(R[V]=Y))}}else W=Jt(W===R?W.splice(he,W.length):W),P?P(null,R,W,G):c.apply(R,W)})}g(bi,"setMatcher");function xi(m){for(var x,I,O,P=m.length,q=t.relative[m[0].type],F=q||t.relative[" "],R=q?1:0,z=_t(function(U){return U===x},F,!0),G=_t(function(U){return y.call(x,U)>-1},F,!0),V=[function(U,Y,W){var ae=!q&&(W||Y!=r)||((x=Y).nodeType?z(U,Y,W):G(U,Y,W));return x=null,ae}];R<P;R++)if(I=t.relative[m[R].type])V=[_t(vi(V),I)];else{if(I=t.filter[m[R].type].apply(null,m[R].matches),I[E]){for(O=++R;O<P&&!t.relative[m[O].type];O++);return bi(R>1&&vi(V),R>1&&Vt(m.slice(0,R-1).concat({value:m[R-2].type===" "?"*":""})).replace(Ct,"$1"),I,R<O&&xi(m.slice(R,O)),O<P&&xi(m=m.slice(O)),O<P&&Vt(m))}V.push(I)}return vi(V)}g(xi,"matcherFromTokens");function qr(m,x){var I=x.length>0,O=m.length>0,P=g(function(q,F,R,z,G){var V,U,Y,W=0,ae="0",xe=q&&[],he=[],ke=r,Fe=q||O&&t.find.TAG("*",G),xt=D+=ke==null?1:Math.random()||.1,ye=Fe.length;for(G&&(r=F==d||F||G);ae!==ye&&(V=Fe[ae])!=null;ae++){if(O&&V){for(U=0,!F&&V.ownerDocument!=d&&(Xe(V),R=!v);Y=m[U++];)if(Y(V,F||d,R)){c.call(z,V);break}G&&(D=xt)}I&&((V=!Y&&V)&&W--,q&&xe.push(V))}if(W+=ae,I&&ae!==W){for(U=0;Y=x[U++];)Y(xe,he,F,R);if(q){if(W>0)for(;ae--;)xe[ae]||he[ae]||(he[ae]=Pn.call(z));he=Jt(he)}c.apply(z,he),G&&!q&&he.length>0&&W+x.length>1&&o.uniqueSort(z)}return G&&(D=xt,r=ke),xe},"superMatcher");return I?Pe(P):P}g(qr,"matcherFromGroupMatchers");function wi(m,x){var I,O=[],P=[],q=X[m+" "];if(!q){for(x||(x=Wt(m)),I=x.length;I--;)q=xi(x[I]),q[E]?O.push(q):P.push(q);q=X(m,qr(P,O)),q.selector=m}return q}g(wi,"compile");function vn(m,x,I,O){var P,q,F,R,z,G=typeof m=="function"&&m,V=!O&&Wt(m=G.selector||m);if(I=I||[],V.length===1){if(q=V[0]=V[0].slice(0),q.length>2&&(F=q[0]).type==="ID"&&x.nodeType===9&&v&&t.relative[q[1].type]){if(x=(t.find.ID(F.matches[0].replace(We,Ve),x)||[])[0],x)G&&(x=x.parentNode);else return I;m=m.slice(q.shift().value.length)}for(P=Me.needsContext.test(m)?0:q.length;P--&&(F=q[P],!t.relative[R=F.type]);)if((z=t.find[R])&&(O=z(F.matches[0].replace(We,Ve),gi.test(q[0].type)&&mi(x.parentNode)||x))){if(q.splice(P,1),m=O.length&&Vt(q),!m)return c.apply(I,O),I;break}}return(G||wi(m,V))(O,x,!v,I,!x||gi.test(m)&&mi(x.parentNode)||x),I}g(vn,"select"),T.sortStable=E.split("").sort(fe).join("")===E,Xe(),T.sortDetached=bt(function(m){return m.compareDocumentPosition(d.createElement("fieldset"))&1}),o.find=se,o.expr[":"]=o.expr.pseudos,o.unique=o.uniqueSort,se.compile=wi,se.select=vn,se.setDocument=Xe,se.escape=o.escapeSelector,se.getText=o.text,se.isXML=o.isXMLDoc,se.selectors=o.expr,se.support=o.support,se.uniqueSort=o.uniqueSort})();var ct=g(function(e,t,r){for(var s=[],u=r!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(u&&o(e).is(r))break;s.push(e)}return s},"dir"),Ni=g(function(e,t){for(var r=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&r.push(e);return r},"siblings"),ji=o.expr.match.needsContext,$i=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Zt(e,t,r){return j(t)?o.grep(e,function(s,u){return!!t.call(s,u,s)!==r}):t.nodeType?o.grep(e,function(s){return s===t!==r}):typeof t!="string"?o.grep(e,function(s){return y.call(t,s)>-1!==r}):o.filter(t,e,r)}g(Zt,"winnow"),o.filter=function(e,t,r){var s=t[0];return r&&(e=":not("+e+")"),t.length===1&&s.nodeType===1?o.find.matchesSelector(s,e)?[s]:[]:o.find.matches(e,o.grep(t,function(u){return u.nodeType===1}))},o.fn.extend({find:function(e){var t,r,s=this.length,u=this;if(typeof e!="string")return this.pushStack(o(e).filter(function(){for(t=0;t<s;t++)if(o.contains(u[t],this))return!0}));for(r=this.pushStack([]),t=0;t<s;t++)o.find(e,u[t],r);return s>1?o.uniqueSort(r):r},filter:function(e){return this.pushStack(Zt(this,e||[],!1))},not:function(e){return this.pushStack(Zt(this,e||[],!0))},is:function(e){return!!Zt(this,typeof e=="string"&&ji.test(e)?o(e):e||[],!1).length}});var qi,qn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ln=o.fn.init=function(e,t,r){var s,u;if(!e)return this;if(r=r||qi,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?s=[null,e,null]:s=qn.exec(e),s&&(s[1]||!t))if(s[1]){if(t=t instanceof o?t[0]:t,o.merge(this,o.parseHTML(s[1],t&&t.nodeType?t.ownerDocument||t:H,!0)),$i.test(s[1])&&o.isPlainObject(t))for(s in t)j(this[s])?this[s](t[s]):this.attr(s,t[s]);return this}else return u=H.getElementById(s[2]),u&&(this[0]=u,this.length=1),this;else return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(j(e))return r.ready!==void 0?r.ready(e):e(o)}return o.makeArray(e,this)};Ln.prototype=o.fn,qi=o(H);var Mn=/^(?:parents|prev(?:Until|All))/,Fn={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(e){var t=o(e,this),r=t.length;return this.filter(function(){for(var s=0;s<r;s++)if(o.contains(this,t[s]))return!0})},closest:function(e,t){var r,s=0,u=this.length,c=[],d=typeof e!="string"&&o(e);if(!ji.test(e)){for(;s<u;s++)for(r=this[s];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(d?d.index(r)>-1:r.nodeType===1&&o.find.matchesSelector(r,e))){c.push(r);break}}return this.pushStack(c.length>1?o.uniqueSort(c):c)},index:function(e){return e?typeof e=="string"?y.call(o(e),this[0]):y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Li(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}g(Li,"sibling"),o.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return ct(e,"parentNode")},parentsUntil:function(e,t,r){return ct(e,"parentNode",r)},next:function(e){return Li(e,"nextSibling")},prev:function(e){return Li(e,"previousSibling")},nextAll:function(e){return ct(e,"nextSibling")},prevAll:function(e){return ct(e,"previousSibling")},nextUntil:function(e,t,r){return ct(e,"nextSibling",r)},prevUntil:function(e,t,r){return ct(e,"previousSibling",r)},siblings:function(e){return Ni((e.parentNode||{}).firstChild,e)},children:function(e){return Ni(e.firstChild)},contents:function(e){return e.contentDocument!=null&&n(e.contentDocument)?e.contentDocument:(ne(e,"template")&&(e=e.content||e),o.merge([],e.childNodes))}},function(e,t){o.fn[e]=function(r,s){var u=o.map(this,t,r);return e.slice(-5)!=="Until"&&(s=r),s&&typeof s=="string"&&(u=o.filter(s,u)),this.length>1&&(Fn[e]||o.uniqueSort(u),Mn.test(e)&&u.reverse()),this.pushStack(u)}});var Ne=/[^\x20\t\r\n\f]+/g;function zn(e){var t={};return o.each(e.match(Ne)||[],function(r,s){t[s]=!0}),t}g(zn,"createOptions"),o.Callbacks=function(e){e=typeof e=="string"?zn(e):o.extend({},e);var t,r,s,u,c=[],d=[],b=-1,v=g(function(){for(u=u||e.once,s=t=!0;d.length;b=-1)for(r=d.shift();++b<c.length;)c[b].apply(r[0],r[1])===!1&&e.stopOnFalse&&(b=c.length,r=!1);e.memory||(r=!1),t=!1,u&&(r?c=[]:c="")},"fire"),w={add:function(){return c&&(r&&!t&&(b=c.length-1,d.push(r)),g(function k(E){o.each(E,function(D,$){j($)?(!e.unique||!w.has($))&&c.push($):$&&$.length&&Q($)!=="string"&&k($)})},"add")(arguments),r&&!t&&v()),this},remove:function(){return o.each(arguments,function(k,E){for(var D;(D=o.inArray(E,c,D))>-1;)c.splice(D,1),D<=b&&b--}),this},has:function(k){return k?o.inArray(k,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return u=d=[],c=r="",this},disabled:function(){return!c},lock:function(){return u=d=[],!r&&!t&&(c=r=""),this},locked:function(){return!!u},fireWith:function(k,E){return u||(E=E||[],E=[k,E.slice?E.slice():E],d.push(E),t||v()),this},fire:function(){return w.fireWith(this,arguments),this},fired:function(){return!!s}};return w};function dt(e){return e}g(dt,"Identity");function qt(e){throw e}g(qt,"Thrower");function Mi(e,t,r,s){var u;try{e&&j(u=e.promise)?u.call(e).done(t).fail(r):e&&j(u=e.then)?u.call(e,t,r):t.apply(void 0,[e].slice(s))}catch(c){r.apply(void 0,[c])}}g(Mi,"adoptValue"),o.extend({Deferred:function(e){var t=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return u.done(arguments).fail(arguments),this},catch:function(c){return s.then(null,c)},pipe:function(){var c=arguments;return o.Deferred(function(d){o.each(t,function(b,v){var w=j(c[v[4]])&&c[v[4]];u[v[1]](function(){var k=w&&w.apply(this,arguments);k&&j(k.promise)?k.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[v[0]+"With"](this,w?[k]:arguments)})}),c=null}).promise()},then:function(c,d,b){var v=0;function w(k,E,D,$){return function(){var J=this,ee=arguments,X=g(function(){var fe,$e;if(!(k<v)){if(fe=D.apply(J,ee),fe===E.promise())throw new TypeError("Thenable self-resolution");$e=fe&&(typeof fe=="object"||typeof fe=="function")&&fe.then,j($e)?$?$e.call(fe,w(v,E,dt,$),w(v,E,qt,$)):(v++,$e.call(fe,w(v,E,dt,$),w(v,E,qt,$),w(v,E,dt,E.notifyWith))):(D!==dt&&(J=void 0,ee=[fe]),($||E.resolveWith)(J,ee))}},"mightThrow"),ce=$?X:function(){try{X()}catch(fe){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(fe,ce.error),k+1>=v&&(D!==qt&&(J=void 0,ee=[fe]),E.rejectWith(J,ee))}};k?ce():(o.Deferred.getErrorHook?ce.error=o.Deferred.getErrorHook():o.Deferred.getStackHook&&(ce.error=o.Deferred.getStackHook()),p.setTimeout(ce))}}return g(w,"resolve"),o.Deferred(function(k){t[0][3].add(w(0,k,j(b)?b:dt,k.notifyWith)),t[1][3].add(w(0,k,j(c)?c:dt)),t[2][3].add(w(0,k,j(d)?d:qt))}).promise()},promise:function(c){return c!=null?o.extend(c,s):s}},u={};return o.each(t,function(c,d){var b=d[2],v=d[5];s[d[1]]=b.add,v&&b.add(function(){r=v},t[3-c][2].disable,t[3-c][3].disable,t[0][2].lock,t[0][3].lock),b.add(d[3].fire),u[d[0]]=function(){return u[d[0]+"With"](this===u?void 0:this,arguments),this},u[d[0]+"With"]=b.fireWith}),s.promise(u),e&&e.call(u,u),u},when:function(e){var t=arguments.length,r=t,s=Array(r),u=a.call(arguments),c=o.Deferred(),d=g(function(b){return function(v){s[b]=this,u[b]=arguments.length>1?a.call(arguments):v,--t||c.resolveWith(s,u)}},"updateFunc");if(t<=1&&(Mi(e,c.done(d(r)).resolve,c.reject,!t),c.state()==="pending"||j(u[r]&&u[r].then)))return c.then();for(;r--;)Mi(u[r],d(r),c.reject);return c.promise()}});var Rn=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(e,t){p.console&&p.console.warn&&e&&Rn.test(e.name)&&p.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},o.readyException=function(e){p.setTimeout(function(){throw e})};var ei=o.Deferred();o.fn.ready=function(e){return ei.then(e).catch(function(t){o.readyException(t)}),this},o.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(e!==!0&&--o.readyWait>0)&&ei.resolveWith(H,[o]))}}),o.ready.then=ei.then;function Lt(){H.removeEventListener("DOMContentLoaded",Lt),p.removeEventListener("load",Lt),o.ready()}g(Lt,"completed"),H.readyState==="complete"||H.readyState!=="loading"&&!H.documentElement.doScroll?p.setTimeout(o.ready):(H.addEventListener("DOMContentLoaded",Lt),p.addEventListener("load",Lt));var He=g(function(e,t,r,s,u,c,d){var b=0,v=e.length,w=r==null;if(Q(r)==="object"){u=!0;for(b in r)He(e,t,b,r[b],!0,c,d)}else if(s!==void 0&&(u=!0,j(s)||(d=!0),w&&(d?(t.call(e,s),t=null):(w=t,t=g(function(k,E,D){return w.call(o(k),D)},"fn"))),t))for(;b<v;b++)t(e[b],r,d?s:s.call(e[b],b,t(e[b],r)));return u?e:w?t.call(e):v?t(e[0],r):c},"access"),Hn=/^-ms-/,Bn=/-([a-z])/g;function Wn(e,t){return t.toUpperCase()}g(Wn,"fcamelCase");function je(e){return e.replace(Hn,"ms-").replace(Bn,Wn)}g(je,"camelCase");var St=g(function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},"acceptData");function It(){this.expando=o.expando+It.uid++}g(It,"Data"),It.uid=1,It.prototype={cache:function(e){var t=e[this.expando];return t||(t={},St(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var s,u=this.cache(e);if(typeof t=="string")u[je(t)]=r;else for(s in t)u[je(s)]=t[s];return u},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][je(t)]},access:function(e,t,r){return t===void 0||t&&typeof t=="string"&&r===void 0?this.get(e,t):(this.set(e,t,r),r!==void 0?r:t)},remove:function(e,t){var r,s=e[this.expando];if(s!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(je):(t=je(t),t=t in s?[t]:t.match(Ne)||[]),r=t.length;r--;)delete s[t[r]];(t===void 0||o.isEmptyObject(s))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!o.isEmptyObject(t)}};var B=new It,me=new It,Vn=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_n=/[A-Z]/g;function Jn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Vn.test(e)?JSON.parse(e):e}g(Jn,"getData");function Fi(e,t,r){var s;if(r===void 0&&e.nodeType===1)if(s="data-"+t.replace(_n,"-$&").toLowerCase(),r=e.getAttribute(s),typeof r=="string"){try{r=Jn(r)}catch{}me.set(e,t,r)}else r=void 0;return r}g(Fi,"dataAttr"),o.extend({hasData:function(e){return me.hasData(e)||B.hasData(e)},data:function(e,t,r){return me.access(e,t,r)},removeData:function(e,t){me.remove(e,t)},_data:function(e,t,r){return B.access(e,t,r)},_removeData:function(e,t){B.remove(e,t)}}),o.fn.extend({data:function(e,t){var r,s,u,c=this[0],d=c&&c.attributes;if(e===void 0){if(this.length&&(u=me.get(c),c.nodeType===1&&!B.get(c,"hasDataAttrs"))){for(r=d.length;r--;)d[r]&&(s=d[r].name,s.indexOf("data-")===0&&(s=je(s.slice(5)),Fi(c,s,u[s])));B.set(c,"hasDataAttrs",!0)}return u}return typeof e=="object"?this.each(function(){me.set(this,e)}):He(this,function(b){var v;if(c&&b===void 0)return v=me.get(c,e),v!==void 0||(v=Fi(c,e),v!==void 0)?v:void 0;this.each(function(){me.set(this,e,b)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){me.remove(this,e)})}}),o.extend({queue:function(e,t,r){var s;if(e)return t=(t||"fx")+"queue",s=B.get(e,t),r&&(!s||Array.isArray(r)?s=B.access(e,t,o.makeArray(r)):s.push(r)),s||[]},dequeue:function(e,t){t=t||"fx";var r=o.queue(e,t),s=r.length,u=r.shift(),c=o._queueHooks(e,t),d=g(function(){o.dequeue(e,t)},"next");u==="inprogress"&&(u=r.shift(),s--),u&&(t==="fx"&&r.unshift("inprogress"),delete c.stop,u.call(e,d,c)),!s&&c&&c.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return B.get(e,r)||B.access(e,r,{empty:o.Callbacks("once memory").add(function(){B.remove(e,[t+"queue",r])})})}}),o.fn.extend({queue:function(e,t){var r=2;return typeof e!="string"&&(t=e,e="fx",r--),arguments.length<r?o.queue(this[0],e):t===void 0?this:this.each(function(){var s=o.queue(this,e,t);o._queueHooks(this,e),e==="fx"&&s[0]!=="inprogress"&&o.dequeue(this,e)})},dequeue:function(e){return this.each(function(){o.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,s=1,u=o.Deferred(),c=this,d=this.length,b=g(function(){--s||u.resolveWith(c,[c])},"resolve");for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";d--;)r=B.get(c[d],e+"queueHooks"),r&&r.empty&&(s++,r.empty.add(b));return b(),u.promise(t)}});var zi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+zi+")([a-z%]*)$","i"),Be=["Top","Right","Bottom","Left"],it=H.documentElement,ht=g(function(e){return o.contains(e.ownerDocument,e)},"isAttached"),Un={composed:!0};it.getRootNode&&(ht=g(function(e){return o.contains(e.ownerDocument,e)||e.getRootNode(Un)===e.ownerDocument},"isAttached"));var Mt=g(function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&ht(e)&&o.css(e,"display")==="none"},"isHiddenWithinTree");function Ri(e,t,r,s){var u,c,d=20,b=s?function(){return s.cur()}:function(){return o.css(e,t,"")},v=b(),w=r&&r[3]||(o.cssNumber[t]?"":"px"),k=e.nodeType&&(o.cssNumber[t]||w!=="px"&&+v)&&Dt.exec(o.css(e,t));if(k&&k[3]!==w){for(v=v/2,w=w||k[3],k=+v||1;d--;)o.style(e,t,k+w),(1-c)*(1-(c=b()/v||.5))<=0&&(d=0),k=k/c;k=k*2,o.style(e,t,k+w),r=r||[]}return r&&(k=+k||+v||0,u=r[1]?k+(r[1]+1)*r[2]:+r[2],s&&(s.unit=w,s.start=k,s.end=u)),u}g(Ri,"adjustCSS");var Hi={};function Kn(e){var t,r=e.ownerDocument,s=e.nodeName,u=Hi[s];return u||(t=r.body.appendChild(r.createElement(s)),u=o.css(t,"display"),t.parentNode.removeChild(t),u==="none"&&(u="block"),Hi[s]=u,u)}g(Kn,"getDefaultDisplay");function pt(e,t){for(var r,s,u=[],c=0,d=e.length;c<d;c++)s=e[c],s.style&&(r=s.style.display,t?(r==="none"&&(u[c]=B.get(s,"display")||null,u[c]||(s.style.display="")),s.style.display===""&&Mt(s)&&(u[c]=Kn(s))):r!=="none"&&(u[c]="none",B.set(s,"display",r)));for(c=0;c<d;c++)u[c]!=null&&(e[c].style.display=u[c]);return e}g(pt,"showHide"),o.fn.extend({show:function(){return pt(this,!0)},hide:function(){return pt(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){Mt(this)?o(this).show():o(this).hide()})}});var Ot=/^(?:checkbox|radio)$/i,Bi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Wi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=H.createDocumentFragment(),t=e.appendChild(H.createElement("div")),r=H.createElement("input");r.setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),t.appendChild(r),T.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",T.option=!!t.lastChild})();var De={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};De.tbody=De.tfoot=De.colgroup=De.caption=De.thead,De.th=De.td,T.option||(De.optgroup=De.option=[1,"<select multiple='multiple'>","</select>"]);function ve(e,t){var r;return typeof e.getElementsByTagName<"u"?r=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll<"u"?r=e.querySelectorAll(t||"*"):r=[],t===void 0||t&&ne(e,t)?o.merge([e],r):r}g(ve,"getAll");function ti(e,t){for(var r=0,s=e.length;r<s;r++)B.set(e[r],"globalEval",!t||B.get(t[r],"globalEval"))}g(ti,"setGlobalEval");var Xn=/<|&#?\w+;/;function Vi(e,t,r,s,u){for(var c,d,b,v,w,k,E=t.createDocumentFragment(),D=[],$=0,J=e.length;$<J;$++)if(c=e[$],c||c===0)if(Q(c)==="object")o.merge(D,c.nodeType?[c]:c);else if(!Xn.test(c))D.push(t.createTextNode(c));else{for(d=d||E.appendChild(t.createElement("div")),b=(Bi.exec(c)||["",""])[1].toLowerCase(),v=De[b]||De._default,d.innerHTML=v[1]+o.htmlPrefilter(c)+v[2],k=v[0];k--;)d=d.lastChild;o.merge(D,d.childNodes),d=E.firstChild,d.textContent=""}for(E.textContent="",$=0;c=D[$++];){if(s&&o.inArray(c,s)>-1){u&&u.push(c);continue}if(w=ht(c),d=ve(E.appendChild(c),"script"),w&&ti(d),r)for(k=0;c=d[k++];)Wi.test(c.type||"")&&r.push(c)}return E}g(Vi,"buildFragment");var _i=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}g(yt,"returnTrue");function gt(){return!1}g(gt,"returnFalse");function ii(e,t,r,s,u,c){var d,b;if(typeof t=="object"){typeof r!="string"&&(s=s||r,r=void 0);for(b in t)ii(e,b,r,s,t[b],c);return e}if(s==null&&u==null?(u=r,s=r=void 0):u==null&&(typeof r=="string"?(u=s,s=void 0):(u=s,s=r,r=void 0)),u===!1)u=gt;else if(!u)return e;return c===1&&(d=u,u=g(function(v){return o().off(v),d.apply(this,arguments)},"fn"),u.guid=d.guid||(d.guid=o.guid++)),e.each(function(){o.event.add(this,t,u,s,r)})}g(ii,"on"),o.event={global:{},add:function(e,t,r,s,u){var c,d,b,v,w,k,E,D,$,J,ee,X=B.get(e);if(St(e))for(r.handler&&(c=r,r=c.handler,u=c.selector),u&&o.find.matchesSelector(it,u),r.guid||(r.guid=o.guid++),(v=X.events)||(v=X.events=Object.create(null)),(d=X.handle)||(d=X.handle=function(ce){return typeof o<"u"&&o.event.triggered!==ce.type?o.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ne)||[""],w=t.length;w--;)b=_i.exec(t[w])||[],$=ee=b[1],J=(b[2]||"").split(".").sort(),$&&(E=o.event.special[$]||{},$=(u?E.delegateType:E.bindType)||$,E=o.event.special[$]||{},k=o.extend({type:$,origType:ee,data:s,handler:r,guid:r.guid,selector:u,needsContext:u&&o.expr.match.needsContext.test(u),namespace:J.join(".")},c),(D=v[$])||(D=v[$]=[],D.delegateCount=0,(!E.setup||E.setup.call(e,s,J,d)===!1)&&e.addEventListener&&e.addEventListener($,d)),E.add&&(E.add.call(e,k),k.handler.guid||(k.handler.guid=r.guid)),u?D.splice(D.delegateCount++,0,k):D.push(k),o.event.global[$]=!0)},remove:function(e,t,r,s,u){var c,d,b,v,w,k,E,D,$,J,ee,X=B.hasData(e)&&B.get(e);if(!(!X||!(v=X.events))){for(t=(t||"").match(Ne)||[""],w=t.length;w--;){if(b=_i.exec(t[w])||[],$=ee=b[1],J=(b[2]||"").split(".").sort(),!$){for($ in v)o.event.remove(e,$+t[w],r,s,!0);continue}for(E=o.event.special[$]||{},$=(s?E.delegateType:E.bindType)||$,D=v[$]||[],b=b[2]&&new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=c=D.length;c--;)k=D[c],(u||ee===k.origType)&&(!r||r.guid===k.guid)&&(!b||b.test(k.namespace))&&(!s||s===k.selector||s==="**"&&k.selector)&&(D.splice(c,1),k.selector&&D.delegateCount--,E.remove&&E.remove.call(e,k));d&&!D.length&&((!E.teardown||E.teardown.call(e,J,X.handle)===!1)&&o.removeEvent(e,$,X.handle),delete v[$])}o.isEmptyObject(v)&&B.remove(e,"handle events")}},dispatch:function(e){var t,r,s,u,c,d,b=new Array(arguments.length),v=o.event.fix(e),w=(B.get(this,"events")||Object.create(null))[v.type]||[],k=o.event.special[v.type]||{};for(b[0]=v,t=1;t<arguments.length;t++)b[t]=arguments[t];if(v.delegateTarget=this,!(k.preDispatch&&k.preDispatch.call(this,v)===!1)){for(d=o.event.handlers.call(this,v,w),t=0;(u=d[t++])&&!v.isPropagationStopped();)for(v.currentTarget=u.elem,r=0;(c=u.handlers[r++])&&!v.isImmediatePropagationStopped();)(!v.rnamespace||c.namespace===!1||v.rnamespace.test(c.namespace))&&(v.handleObj=c,v.data=c.data,s=((o.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,b),s!==void 0&&(v.result=s)===!1&&(v.preventDefault(),v.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,v),v.result}},handlers:function(e,t){var r,s,u,c,d,b=[],v=t.delegateCount,w=e.target;if(v&&w.nodeType&&!(e.type==="click"&&e.button>=1)){for(;w!==this;w=w.parentNode||this)if(w.nodeType===1&&!(e.type==="click"&&w.disabled===!0)){for(c=[],d={},r=0;r<v;r++)s=t[r],u=s.selector+" ",d[u]===void 0&&(d[u]=s.needsContext?o(u,this).index(w)>-1:o.find(u,this,null,[w]).length),d[u]&&c.push(s);c.length&&b.push({elem:w,handlers:c})}}return w=this,v<t.length&&b.push({elem:w,handlers:t.slice(v)}),b},addProp:function(e,t){Object.defineProperty(o.Event.prototype,e,{enumerable:!0,configurable:!0,get:j(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(r){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}})},fix:function(e){return e[o.expando]?e:new o.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ot.test(t.type)&&t.click&&ne(t,"input")&&Ft(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ot.test(t.type)&&t.click&&ne(t,"input")&&Ft(t,"click"),!0},_default:function(e){var t=e.target;return Ot.test(t.type)&&t.click&&ne(t,"input")&&B.get(t,"click")||ne(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function Ft(e,t,r){if(!r){B.get(e,t)===void 0&&o.event.add(e,t,yt);return}B.set(e,t,!1),o.event.add(e,t,{namespace:!1,handler:function(s){var u,c=B.get(this,t);if(s.isTrigger&1&&this[t]){if(c)(o.event.special[t]||{}).delegateType&&s.stopPropagation();else if(c=a.call(arguments),B.set(this,t,c),this[t](),u=B.get(this,t),B.set(this,t,!1),c!==u)return s.stopImmediatePropagation(),s.preventDefault(),u}else c&&(B.set(this,t,o.event.trigger(c[0],c.slice(1),this)),s.stopPropagation(),s.isImmediatePropagationStopped=yt)}})}g(Ft,"leverageNative"),o.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},o.Event=function(e,t){if(!(this instanceof o.Event))return new o.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?yt:gt,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&o.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:gt,isPropagationStopped:gt,isImmediatePropagationStopped:gt,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=yt,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=yt,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=yt,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(e,t){function r(s){if(H.documentMode){var u=B.get(this,"handle"),c=o.event.fix(s);c.type=s.type==="focusin"?"focus":"blur",c.isSimulated=!0,u(s),c.target===c.currentTarget&&u(c)}else o.event.simulate(t,s.target,o.event.fix(s))}g(r,"focusMappedHandler"),o.event.special[e]={setup:function(){var s;if(Ft(this,e,!0),H.documentMode)s=B.get(this,t),s||this.addEventListener(t,r),B.set(this,t,(s||0)+1);else return!1},trigger:function(){return Ft(this,e),!0},teardown:function(){var s;if(H.documentMode)s=B.get(this,t)-1,s?B.set(this,t,s):(this.removeEventListener(t,r),B.remove(this,t));else return!1},_default:function(s){return B.get(s.target,e)},delegateType:t},o.event.special[t]={setup:function(){var s=this.ownerDocument||this.document||this,u=H.documentMode?this:s,c=B.get(u,t);c||(H.documentMode?this.addEventListener(t,r):s.addEventListener(e,r,!0)),B.set(u,t,(c||0)+1)},teardown:function(){var s=this.ownerDocument||this.document||this,u=H.documentMode?this:s,c=B.get(u,t)-1;c?B.set(u,t,c):(H.documentMode?this.removeEventListener(t,r):s.removeEventListener(e,r,!0),B.remove(u,t))}}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){o.event.special[e]={delegateType:t,bindType:t,handle:function(r){var s,u=this,c=r.relatedTarget,d=r.handleObj;return(!c||c!==u&&!o.contains(u,c))&&(r.type=d.origType,s=d.handler.apply(this,arguments),r.type=t),s}}}),o.fn.extend({on:function(e,t,r,s){return ii(this,e,t,r,s)},one:function(e,t,r,s){return ii(this,e,t,r,s,1)},off:function(e,t,r){var s,u;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,o(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if(typeof e=="object"){for(u in e)this.off(u,t,e[u]);return this}return(t===!1||typeof t=="function")&&(r=t,t=void 0),r===!1&&(r=gt),this.each(function(){o.event.remove(this,e,r,t)})}});var Qn=/<script|<style|<link/i,Gn=/checked\s*(?:[^=]|=\s*.checked.)/i,Yn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ji(e,t){return ne(e,"table")&&ne(t.nodeType!==11?t:t.firstChild,"tr")&&o(e).children("tbody")[0]||e}g(Ji,"manipulationTarget");function Zn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}g(Zn,"disableScript");function er(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}g(er,"restoreScript");function Ui(e,t){var r,s,u,c,d,b,v;if(t.nodeType===1){if(B.hasData(e)&&(c=B.get(e),v=c.events,v)){B.remove(t,"handle events");for(u in v)for(r=0,s=v[u].length;r<s;r++)o.event.add(t,u,v[u][r])}me.hasData(e)&&(d=me.access(e),b=o.extend({},d),me.set(t,b))}}g(Ui,"cloneCopyEvent");function tr(e,t){var r=t.nodeName.toLowerCase();r==="input"&&Ot.test(e.type)?t.checked=e.checked:(r==="input"||r==="textarea")&&(t.defaultValue=e.defaultValue)}g(tr,"fixInput");function mt(e,t,r,s){t=f(t);var u,c,d,b,v,w,k=0,E=e.length,D=E-1,$=t[0],J=j($);if(J||E>1&&typeof $=="string"&&!T.checkClone&&Gn.test($))return e.each(function(ee){var X=e.eq(ee);J&&(t[0]=$.call(this,ee,X.html())),mt(X,t,r,s)});if(E&&(u=Vi(t,e[0].ownerDocument,!1,e,s),c=u.firstChild,u.childNodes.length===1&&(u=c),c||s)){for(d=o.map(ve(u,"script"),Zn),b=d.length;k<E;k++)v=u,k!==D&&(v=o.clone(v,!0,!0),b&&o.merge(d,ve(v,"script"))),r.call(e[k],v,k);if(b)for(w=d[d.length-1].ownerDocument,o.map(d,er),k=0;k<b;k++)v=d[k],Wi.test(v.type||"")&&!B.access(v,"globalEval")&&o.contains(w,v)&&(v.src&&(v.type||"").toLowerCase()!=="module"?o._evalUrl&&!v.noModule&&o._evalUrl(v.src,{nonce:v.nonce||v.getAttribute("nonce")},w):Se(v.textContent.replace(Yn,""),v,w))}return e}g(mt,"domManip");function Ki(e,t,r){for(var s,u=t?o.filter(t,e):e,c=0;(s=u[c])!=null;c++)!r&&s.nodeType===1&&o.cleanData(ve(s)),s.parentNode&&(r&&ht(s)&&ti(ve(s,"script")),s.parentNode.removeChild(s));return e}g(Ki,"remove"),o.extend({htmlPrefilter:function(e){return e},clone:function(e,t,r){var s,u,c,d,b=e.cloneNode(!0),v=ht(e);if(!T.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!o.isXMLDoc(e))for(d=ve(b),c=ve(e),s=0,u=c.length;s<u;s++)tr(c[s],d[s]);if(t)if(r)for(c=c||ve(e),d=d||ve(b),s=0,u=c.length;s<u;s++)Ui(c[s],d[s]);else Ui(e,b);return d=ve(b,"script"),d.length>0&&ti(d,!v&&ve(e,"script")),b},cleanData:function(e){for(var t,r,s,u=o.event.special,c=0;(r=e[c])!==void 0;c++)if(St(r)){if(t=r[B.expando]){if(t.events)for(s in t.events)u[s]?o.event.remove(r,s):o.removeEvent(r,s,t.handle);r[B.expando]=void 0}r[me.expando]&&(r[me.expando]=void 0)}}}),o.fn.extend({detach:function(e){return Ki(this,e,!0)},remove:function(e){return Ki(this,e)},text:function(e){return He(this,function(t){return t===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return mt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ji(this,e);t.appendChild(e)}})},prepend:function(){return mt(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Ji(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return mt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return mt(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(o.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e??!1,t=t??e,this.map(function(){return o.clone(this,e,t)})},html:function(e){return He(this,function(t){var r=this[0]||{},s=0,u=this.length;if(t===void 0&&r.nodeType===1)return r.innerHTML;if(typeof t=="string"&&!Qn.test(t)&&!De[(Bi.exec(t)||["",""])[1].toLowerCase()]){t=o.htmlPrefilter(t);try{for(;s<u;s++)r=this[s]||{},r.nodeType===1&&(o.cleanData(ve(r,!1)),r.innerHTML=t);r=0}catch{}}r&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return mt(this,arguments,function(t){var r=this.parentNode;o.inArray(this,e)<0&&(o.cleanData(ve(this)),r&&r.replaceChild(t,this))},e)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){o.fn[e]=function(r){for(var s,u=[],c=o(r),d=c.length-1,b=0;b<=d;b++)s=b===d?this:this.clone(!0),o(c[b])[t](s),h.apply(u,s.get());return this.pushStack(u)}});var ni=new RegExp("^("+zi+")(?!px)[a-z%]+$","i"),ri=/^--/,zt=g(function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=p),t.getComputedStyle(e)},"getStyles"),Xi=g(function(e,t,r){var s,u,c={};for(u in t)c[u]=e.style[u],e.style[u]=t[u];s=r.call(e);for(u in t)e.style[u]=c[u];return s},"swap"),ir=new RegExp(Be.join("|"),"i");(function(){function e(){if(w){v.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",w.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(v).appendChild(w);var k=p.getComputedStyle(w);r=k.top!=="1%",b=t(k.marginLeft)===12,w.style.right="60%",c=t(k.right)===36,s=t(k.width)===36,w.style.position="absolute",u=t(w.offsetWidth/3)===12,it.removeChild(v),w=null}}g(e,"computeStyleTests");function t(k){return Math.round(parseFloat(k))}g(t,"roundPixelMeasures");var r,s,u,c,d,b,v=H.createElement("div"),w=H.createElement("div");w.style&&(w.style.backgroundClip="content-box",w.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=w.style.backgroundClip==="content-box",o.extend(T,{boxSizingReliable:function(){return e(),s},pixelBoxStyles:function(){return e(),c},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),b},scrollboxSize:function(){return e(),u},reliableTrDimensions:function(){var k,E,D,$;return d==null&&(k=H.createElement("table"),E=H.createElement("tr"),D=H.createElement("div"),k.style.cssText="position:absolute;left:-11111px;border-collapse:separate",E.style.cssText="border:1px solid",E.style.height="1px",D.style.height="9px",D.style.display="block",it.appendChild(k).appendChild(E).appendChild(D),$=p.getComputedStyle(E),d=parseInt($.height,10)+parseInt($.borderTopWidth,10)+parseInt($.borderBottomWidth,10)===E.offsetHeight,it.removeChild(k)),d}}))})();function kt(e,t,r){var s,u,c,d,b=ri.test(t),v=e.style;return r=r||zt(e),r&&(d=r.getPropertyValue(t)||r[t],b&&d&&(d=d.replace(Ct,"$1")||void 0),d===""&&!ht(e)&&(d=o.style(e,t)),!T.pixelBoxStyles()&&ni.test(d)&&ir.test(t)&&(s=v.width,u=v.minWidth,c=v.maxWidth,v.minWidth=v.maxWidth=v.width=d,d=r.width,v.width=s,v.minWidth=u,v.maxWidth=c)),d!==void 0?d+"":d}g(kt,"curCSS");function Qi(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}g(Qi,"addGetHookIf");var Gi=["Webkit","Moz","ms"],Yi=H.createElement("div").style,Zi={};function nr(e){for(var t=e[0].toUpperCase()+e.slice(1),r=Gi.length;r--;)if(e=Gi[r]+t,e in Yi)return e}g(nr,"vendorPropName");function si(e){var t=o.cssProps[e]||Zi[e];return t||(e in Yi?e:Zi[e]=nr(e)||e)}g(si,"finalPropName");var rr=/^(none|table(?!-c[ea]).+)/,sr={position:"absolute",visibility:"hidden",display:"block"},en={letterSpacing:"0",fontWeight:"400"};function tn(e,t,r){var s=Dt.exec(t);return s?Math.max(0,s[2]-(r||0))+(s[3]||"px"):t}g(tn,"setPositiveNumber");function ai(e,t,r,s,u,c){var d=t==="width"?1:0,b=0,v=0,w=0;if(r===(s?"border":"content"))return 0;for(;d<4;d+=2)r==="margin"&&(w+=o.css(e,r+Be[d],!0,u)),s?(r==="content"&&(v-=o.css(e,"padding"+Be[d],!0,u)),r!=="margin"&&(v-=o.css(e,"border"+Be[d]+"Width",!0,u))):(v+=o.css(e,"padding"+Be[d],!0,u),r!=="padding"?v+=o.css(e,"border"+Be[d]+"Width",!0,u):b+=o.css(e,"border"+Be[d]+"Width",!0,u));return!s&&c>=0&&(v+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-c-v-b-.5))||0),v+w}g(ai,"boxModelAdjustment");function nn(e,t,r){var s=zt(e),u=!T.boxSizingReliable()||r,c=u&&o.css(e,"boxSizing",!1,s)==="border-box",d=c,b=kt(e,t,s),v="offset"+t[0].toUpperCase()+t.slice(1);if(ni.test(b)){if(!r)return b;b="auto"}return(!T.boxSizingReliable()&&c||!T.reliableTrDimensions()&&ne(e,"tr")||b==="auto"||!parseFloat(b)&&o.css(e,"display",!1,s)==="inline")&&e.getClientRects().length&&(c=o.css(e,"boxSizing",!1,s)==="border-box",d=v in e,d&&(b=e[v])),b=parseFloat(b)||0,b+ai(e,t,r||(c?"border":"content"),d,s,b)+"px"}g(nn,"getWidthOrHeight"),o.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=kt(e,"opacity");return r===""?"1":r}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,r,s){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var u,c,d,b=je(t),v=ri.test(t),w=e.style;if(v||(t=si(b)),d=o.cssHooks[t]||o.cssHooks[b],r!==void 0){if(c=typeof r,c==="string"&&(u=Dt.exec(r))&&u[1]&&(r=Ri(e,t,u),c="number"),r==null||r!==r)return;c==="number"&&!v&&(r+=u&&u[3]||(o.cssNumber[b]?"":"px")),!T.clearCloneStyle&&r===""&&t.indexOf("background")===0&&(w[t]="inherit"),(!d||!("set"in d)||(r=d.set(e,r,s))!==void 0)&&(v?w.setProperty(t,r):w[t]=r)}else return d&&"get"in d&&(u=d.get(e,!1,s))!==void 0?u:w[t]}},css:function(e,t,r,s){var u,c,d,b=je(t),v=ri.test(t);return v||(t=si(b)),d=o.cssHooks[t]||o.cssHooks[b],d&&"get"in d&&(u=d.get(e,!0,r)),u===void 0&&(u=kt(e,t,s)),u==="normal"&&t in en&&(u=en[t]),r===""||r?(c=parseFloat(u),r===!0||isFinite(c)?c||0:u):u}}),o.each(["height","width"],function(e,t){o.cssHooks[t]={get:function(r,s,u){if(s)return rr.test(o.css(r,"display"))&&(!r.getClientRects().length||!r.getBoundingClientRect().width)?Xi(r,sr,function(){return nn(r,t,u)}):nn(r,t,u)},set:function(r,s,u){var c,d=zt(r),b=!T.scrollboxSize()&&d.position==="absolute",v=b||u,w=v&&o.css(r,"boxSizing",!1,d)==="border-box",k=u?ai(r,t,u,w,d):0;return w&&b&&(k-=Math.ceil(r["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(d[t])-ai(r,t,"border",!1,d)-.5)),k&&(c=Dt.exec(s))&&(c[3]||"px")!=="px"&&(r.style[t]=s,s=o.css(r,t)),tn(r,s,k)}}}),o.cssHooks.marginLeft=Qi(T.reliableMarginLeft,function(e,t){if(t)return(parseFloat(kt(e,"marginLeft"))||e.getBoundingClientRect().left-Xi(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(e,t){o.cssHooks[e+t]={expand:function(r){for(var s=0,u={},c=typeof r=="string"?r.split(" "):[r];s<4;s++)u[e+Be[s]+t]=c[s]||c[s-2]||c[0];return u}},e!=="margin"&&(o.cssHooks[e+t].set=tn)}),o.fn.extend({css:function(e,t){return He(this,function(r,s,u){var c,d,b={},v=0;if(Array.isArray(s)){for(c=zt(r),d=s.length;v<d;v++)b[s[v]]=o.css(r,s[v],!1,c);return b}return u!==void 0?o.style(r,s,u):o.css(r,s)},e,t,arguments.length>1)}});function be(e,t,r,s,u){return new be.prototype.init(e,t,r,s,u)}g(be,"Tween"),o.Tween=be,be.prototype={constructor:be,init:function(e,t,r,s,u,c){this.elem=e,this.prop=r,this.easing=u||o.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=c||(o.cssNumber[r]?"":"px")},cur:function(){var e=be.propHooks[this.prop];return e&&e.get?e.get(this):be.propHooks._default.get(this)},run:function(e){var t,r=be.propHooks[this.prop];return this.options.duration?this.pos=t=o.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):be.propHooks._default.set(this),this}},be.prototype.init.prototype=be.prototype,be.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=o.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){o.fx.step[e.prop]?o.fx.step[e.prop](e):e.elem.nodeType===1&&(o.cssHooks[e.prop]||e.elem.style[si(e.prop)]!=null)?o.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},be.propHooks.scrollTop=be.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},o.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},o.fx=be.prototype.init,o.fx.step={};var vt,Rt,ar=/^(?:toggle|show|hide)$/,or=/queueHooks$/;function oi(){Rt&&(H.hidden===!1&&p.requestAnimationFrame?p.requestAnimationFrame(oi):p.setTimeout(oi,o.fx.interval),o.fx.tick())}g(oi,"schedule");function rn(){return p.setTimeout(function(){vt=void 0}),vt=Date.now()}g(rn,"createFxNow");function Ht(e,t){var r,s=0,u={height:e};for(t=t?1:0;s<4;s+=2-t)r=Be[s],u["margin"+r]=u["padding"+r]=e;return t&&(u.opacity=u.width=e),u}g(Ht,"genFx");function sn(e,t,r){for(var s,u=(Te.tweeners[t]||[]).concat(Te.tweeners["*"]),c=0,d=u.length;c<d;c++)if(s=u[c].call(r,t,e))return s}g(sn,"createTween");function lr(e,t,r){var s,u,c,d,b,v,w,k,E="width"in t||"height"in t,D=this,$={},J=e.style,ee=e.nodeType&&Mt(e),X=B.get(e,"fxshow");r.queue||(d=o._queueHooks(e,"fx"),d.unqueued==null&&(d.unqueued=0,b=d.empty.fire,d.empty.fire=function(){d.unqueued||b()}),d.unqueued++,D.always(function(){D.always(function(){d.unqueued--,o.queue(e,"fx").length||d.empty.fire()})}));for(s in t)if(u=t[s],ar.test(u)){if(delete t[s],c=c||u==="toggle",u===(ee?"hide":"show"))if(u==="show"&&X&&X[s]!==void 0)ee=!0;else continue;$[s]=X&&X[s]||o.style(e,s)}if(v=!o.isEmptyObject(t),!(!v&&o.isEmptyObject($))){E&&e.nodeType===1&&(r.overflow=[J.overflow,J.overflowX,J.overflowY],w=X&&X.display,w==null&&(w=B.get(e,"display")),k=o.css(e,"display"),k==="none"&&(w?k=w:(pt([e],!0),w=e.style.display||w,k=o.css(e,"display"),pt([e]))),(k==="inline"||k==="inline-block"&&w!=null)&&o.css(e,"float")==="none"&&(v||(D.done(function(){J.display=w}),w==null&&(k=J.display,w=k==="none"?"":k)),J.display="inline-block")),r.overflow&&(J.overflow="hidden",D.always(function(){J.overflow=r.overflow[0],J.overflowX=r.overflow[1],J.overflowY=r.overflow[2]})),v=!1;for(s in $)v||(X?"hidden"in X&&(ee=X.hidden):X=B.access(e,"fxshow",{display:w}),c&&(X.hidden=!ee),ee&&pt([e],!0),D.done(function(){ee||pt([e]),B.remove(e,"fxshow");for(s in $)o.style(e,s,$[s])})),v=sn(ee?X[s]:0,s,D),s in X||(X[s]=v.start,ee&&(v.end=v.start,v.start=0))}}g(lr,"defaultPrefilter");function ur(e,t){var r,s,u,c,d;for(r in e)if(s=je(r),u=t[s],c=e[r],Array.isArray(c)&&(u=c[1],c=e[r]=c[0]),r!==s&&(e[s]=c,delete e[r]),d=o.cssHooks[s],d&&"expand"in d){c=d.expand(c),delete e[s];for(r in c)r in e||(e[r]=c[r],t[r]=u)}else t[s]=u}g(ur,"propFilter");function Te(e,t,r){var s,u,c=0,d=Te.prefilters.length,b=o.Deferred().always(function(){delete v.elem}),v=g(function(){if(u)return!1;for(var E=vt||rn(),D=Math.max(0,w.startTime+w.duration-E),$=D/w.duration||0,J=1-$,ee=0,X=w.tweens.length;ee<X;ee++)w.tweens[ee].run(J);return b.notifyWith(e,[w,J,D]),J<1&&X?D:(X||b.notifyWith(e,[w,1,0]),b.resolveWith(e,[w]),!1)},"tick"),w=b.promise({elem:e,props:o.extend({},t),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},r),originalProperties:t,originalOptions:r,startTime:vt||rn(),duration:r.duration,tweens:[],createTween:function(E,D){var $=o.Tween(e,w.opts,E,D,w.opts.specialEasing[E]||w.opts.easing);return w.tweens.push($),$},stop:function(E){var D=0,$=E?w.tweens.length:0;if(u)return this;for(u=!0;D<$;D++)w.tweens[D].run(1);return E?(b.notifyWith(e,[w,1,0]),b.resolveWith(e,[w,E])):b.rejectWith(e,[w,E]),this}}),k=w.props;for(ur(k,w.opts.specialEasing);c<d;c++)if(s=Te.prefilters[c].call(w,e,k,w.opts),s)return j(s.stop)&&(o._queueHooks(w.elem,w.opts.queue).stop=s.stop.bind(s)),s;return o.map(k,sn,w),j(w.opts.start)&&w.opts.start.call(e,w),w.progress(w.opts.progress).done(w.opts.done,w.opts.complete).fail(w.opts.fail).always(w.opts.always),o.fx.timer(o.extend(v,{elem:e,anim:w,queue:w.opts.queue})),w}g(Te,"Animation"),o.Animation=o.extend(Te,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return Ri(r.elem,e,Dt.exec(t),r),r}]},tweener:function(e,t){j(e)?(t=e,e=["*"]):e=e.match(Ne);for(var r,s=0,u=e.length;s<u;s++)r=e[s],Te.tweeners[r]=Te.tweeners[r]||[],Te.tweeners[r].unshift(t)},prefilters:[lr],prefilter:function(e,t){t?Te.prefilters.unshift(e):Te.prefilters.push(e)}}),o.speed=function(e,t,r){var s=e&&typeof e=="object"?o.extend({},e):{complete:r||!r&&t||j(e)&&e,duration:e,easing:r&&t||t&&!j(t)&&t};return o.fx.off?s.duration=0:typeof s.duration!="number"&&(s.duration in o.fx.speeds?s.duration=o.fx.speeds[s.duration]:s.duration=o.fx.speeds._default),(s.queue==null||s.queue===!0)&&(s.queue="fx"),s.old=s.complete,s.complete=function(){j(s.old)&&s.old.call(this),s.queue&&o.dequeue(this,s.queue)},s},o.fn.extend({fadeTo:function(e,t,r,s){return this.filter(Mt).css("opacity",0).show().end().animate({opacity:t},e,r,s)},animate:function(e,t,r,s){var u=o.isEmptyObject(e),c=o.speed(t,r,s),d=g(function(){var b=Te(this,o.extend({},e),c);(u||B.get(this,"finish"))&&b.stop(!0)},"doAnimation");return d.finish=d,u||c.queue===!1?this.each(d):this.queue(c.queue,d)},stop:function(e,t,r){var s=g(function(u){var c=u.stop;delete u.stop,c(r)},"stopQueue");return typeof e!="string"&&(r=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var u=!0,c=e!=null&&e+"queueHooks",d=o.timers,b=B.get(this);if(c)b[c]&&b[c].stop&&s(b[c]);else for(c in b)b[c]&&b[c].stop&&or.test(c)&&s(b[c]);for(c=d.length;c--;)d[c].elem===this&&(e==null||d[c].queue===e)&&(d[c].anim.stop(r),u=!1,d.splice(c,1));(u||!r)&&o.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=B.get(this),s=r[e+"queue"],u=r[e+"queueHooks"],c=o.timers,d=s?s.length:0;for(r.finish=!0,o.queue(this,e,[]),u&&u.stop&&u.stop.call(this,!0),t=c.length;t--;)c[t].elem===this&&c[t].queue===e&&(c[t].anim.stop(!0),c.splice(t,1));for(t=0;t<d;t++)s[t]&&s[t].finish&&s[t].finish.call(this);delete r.finish})}}),o.each(["toggle","show","hide"],function(e,t){var r=o.fn[t];o.fn[t]=function(s,u,c){return s==null||typeof s=="boolean"?r.apply(this,arguments):this.animate(Ht(t,!0),s,u,c)}}),o.each({slideDown:Ht("show"),slideUp:Ht("hide"),slideToggle:Ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){o.fn[e]=function(r,s,u){return this.animate(t,r,s,u)}}),o.timers=[],o.fx.tick=function(){var e,t=0,r=o.timers;for(vt=Date.now();t<r.length;t++)e=r[t],!e()&&r[t]===e&&r.splice(t--,1);r.length||o.fx.stop(),vt=void 0},o.fx.timer=function(e){o.timers.push(e),o.fx.start()},o.fx.interval=13,o.fx.start=function(){Rt||(Rt=!0,oi())},o.fx.stop=function(){Rt=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(e,t){return e=o.fx&&o.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(r,s){var u=p.setTimeout(r,e);s.stop=function(){p.clearTimeout(u)}})},function(){var e=H.createElement("input"),t=H.createElement("select"),r=t.appendChild(H.createElement("option"));e.type="checkbox",T.checkOn=e.value!=="",T.optSelected=r.selected,e=H.createElement("input"),e.value="t",e.type="radio",T.radioValue=e.value==="t"}();var an,At=o.expr.attrHandle;o.fn.extend({attr:function(e,t){return He(this,o.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){o.removeAttr(this,e)})}}),o.extend({attr:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2)){if(typeof e.getAttribute>"u")return o.prop(e,t,r);if((c!==1||!o.isXMLDoc(e))&&(u=o.attrHooks[t.toLowerCase()]||(o.expr.match.bool.test(t)?an:void 0)),r!==void 0){if(r===null){o.removeAttr(e,t);return}return u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:(e.setAttribute(t,r+""),r)}return u&&"get"in u&&(s=u.get(e,t))!==null?s:(s=o.find.attr(e,t),s??void 0)}},attrHooks:{type:{set:function(e,t){if(!T.radioValue&&t==="radio"&&ne(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,s=0,u=t&&t.match(Ne);if(u&&e.nodeType===1)for(;r=u[s++];)e.removeAttribute(r)}}),an={set:function(e,t,r){return t===!1?o.removeAttr(e,r):e.setAttribute(r,r),r}},o.each(o.expr.match.bool.source.match(/\w+/g),function(e,t){var r=At[t]||o.find.attr;At[t]=function(s,u,c){var d,b,v=u.toLowerCase();return c||(b=At[v],At[v]=d,d=r(s,u,c)!=null?v:null,At[v]=b),d}});var fr=/^(?:input|select|textarea|button)$/i,cr=/^(?:a|area)$/i;o.fn.extend({prop:function(e,t){return He(this,o.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[o.propFix[e]||e]})}}),o.extend({prop:function(e,t,r){var s,u,c=e.nodeType;if(!(c===3||c===8||c===2))return(c!==1||!o.isXMLDoc(e))&&(t=o.propFix[t]||t,u=o.propHooks[t]),r!==void 0?u&&"set"in u&&(s=u.set(e,r,t))!==void 0?s:e[t]=r:u&&"get"in u&&(s=u.get(e,t))!==null?s:e[t]},propHooks:{tabIndex:{get:function(e){var t=o.find.attr(e,"tabindex");return t?parseInt(t,10):fr.test(e.nodeName)||cr.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(o.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function nt(e){var t=e.match(Ne)||[];return t.join(" ")}g(nt,"stripAndCollapse");function rt(e){return e.getAttribute&&e.getAttribute("class")||""}g(rt,"getClass");function li(e){return Array.isArray(e)?e:typeof e=="string"?e.match(Ne)||[]:[]}g(li,"classesToArray"),o.fn.extend({addClass:function(e){var t,r,s,u,c,d;return j(e)?this.each(function(b){o(this).addClass(e.call(this,b,rt(this)))}):(t=li(e),t.length?this.each(function(){if(s=rt(this),r=this.nodeType===1&&" "+nt(s)+" ",r){for(c=0;c<t.length;c++)u=t[c],r.indexOf(" "+u+" ")<0&&(r+=u+" ");d=nt(r),s!==d&&this.setAttribute("class",d)}}):this)},removeClass:function(e){var t,r,s,u,c,d;return j(e)?this.each(function(b){o(this).removeClass(e.call(this,b,rt(this)))}):arguments.length?(t=li(e),t.length?this.each(function(){if(s=rt(this),r=this.nodeType===1&&" "+nt(s)+" ",r){for(c=0;c<t.length;c++)for(u=t[c];r.indexOf(" "+u+" ")>-1;)r=r.replace(" "+u+" "," ");d=nt(r),s!==d&&this.setAttribute("class",d)}}):this):this.attr("class","")},toggleClass:function(e,t){var r,s,u,c,d=typeof e,b=d==="string"||Array.isArray(e);return j(e)?this.each(function(v){o(this).toggleClass(e.call(this,v,rt(this),t),t)}):typeof t=="boolean"&&b?t?this.addClass(e):this.removeClass(e):(r=li(e),this.each(function(){if(b)for(c=o(this),u=0;u<r.length;u++)s=r[u],c.hasClass(s)?c.removeClass(s):c.addClass(s);else(e===void 0||d==="boolean")&&(s=rt(this),s&&B.set(this,"__className__",s),this.setAttribute&&this.setAttribute("class",s||e===!1?"":B.get(this,"__className__")||""))}))},hasClass:function(e){var t,r,s=0;for(t=" "+e+" ";r=this[s++];)if(r.nodeType===1&&(" "+nt(rt(r))+" ").indexOf(t)>-1)return!0;return!1}});var dr=/\r/g;o.fn.extend({val:function(e){var t,r,s,u=this[0];return arguments.length?(s=j(e),this.each(function(c){var d;this.nodeType===1&&(s?d=e.call(this,c,o(this).val()):d=e,d==null?d="":typeof d=="number"?d+="":Array.isArray(d)&&(d=o.map(d,function(b){return b==null?"":b+""})),t=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,d,"value")===void 0)&&(this.value=d))})):u?(t=o.valHooks[u.type]||o.valHooks[u.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(u,"value"))!==void 0?r:(r=u.value,typeof r=="string"?r.replace(dr,""):r??"")):void 0}}),o.extend({valHooks:{option:{get:function(e){var t=o.find.attr(e,"value");return t??nt(o.text(e))}},select:{get:function(e){var t,r,s,u=e.options,c=e.selectedIndex,d=e.type==="select-one",b=d?null:[],v=d?c+1:u.length;for(c<0?s=v:s=d?c:0;s<v;s++)if(r=u[s],(r.selected||s===c)&&!r.disabled&&(!r.parentNode.disabled||!ne(r.parentNode,"optgroup"))){if(t=o(r).val(),d)return t;b.push(t)}return b},set:function(e,t){for(var r,s,u=e.options,c=o.makeArray(t),d=u.length;d--;)s=u[d],(s.selected=o.inArray(o.valHooks.option.get(s),c)>-1)&&(r=!0);return r||(e.selectedIndex=-1),c}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=o.inArray(o(e).val(),t)>-1}},T.checkOn||(o.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Tt=p.location,on={guid:Date.now()},ui=/\?/;o.parseXML=function(e){var t,r;if(!e||typeof e!="string")return null;try{t=new p.DOMParser().parseFromString(e,"text/xml")}catch{}return r=t&&t.getElementsByTagName("parsererror")[0],(!t||r)&&o.error("Invalid XML: "+(r?o.map(r.childNodes,function(s){return s.textContent}).join(`
`):e)),t};var ln=/^(?:focusinfocus|focusoutblur)$/,un=g(function(e){e.stopPropagation()},"stopPropagationCallback");o.extend(o.event,{trigger:function(e,t,r,s){var u,c,d,b,v,w,k,E,D=[r||H],$=A.call(e,"type")?e.type:e,J=A.call(e,"namespace")?e.namespace.split("."):[];if(c=E=d=r=r||H,!(r.nodeType===3||r.nodeType===8)&&!ln.test($+o.event.triggered)&&($.indexOf(".")>-1&&(J=$.split("."),$=J.shift(),J.sort()),v=$.indexOf(":")<0&&"on"+$,e=e[o.expando]?e:new o.Event($,typeof e=="object"&&e),e.isTrigger=s?2:3,e.namespace=J.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+J.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=t==null?[e]:o.makeArray(t,[e]),k=o.event.special[$]||{},!(!s&&k.trigger&&k.trigger.apply(r,t)===!1))){if(!s&&!k.noBubble&&!M(r)){for(b=k.delegateType||$,ln.test(b+$)||(c=c.parentNode);c;c=c.parentNode)D.push(c),d=c;d===(r.ownerDocument||H)&&D.push(d.defaultView||d.parentWindow||p)}for(u=0;(c=D[u++])&&!e.isPropagationStopped();)E=c,e.type=u>1?b:k.bindType||$,w=(B.get(c,"events")||Object.create(null))[e.type]&&B.get(c,"handle"),w&&w.apply(c,t),w=v&&c[v],w&&w.apply&&St(c)&&(e.result=w.apply(c,t),e.result===!1&&e.preventDefault());return e.type=$,!s&&!e.isDefaultPrevented()&&(!k._default||k._default.apply(D.pop(),t)===!1)&&St(r)&&v&&j(r[$])&&!M(r)&&(d=r[v],d&&(r[v]=null),o.event.triggered=$,e.isPropagationStopped()&&E.addEventListener($,un),r[$](),e.isPropagationStopped()&&E.removeEventListener($,un),o.event.triggered=void 0,d&&(r[v]=d)),e.result}},simulate:function(e,t,r){var s=o.extend(new o.Event,r,{type:e,isSimulated:!0});o.event.trigger(s,null,t)}}),o.fn.extend({trigger:function(e,t){return this.each(function(){o.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return o.event.trigger(e,t,r,!0)}});var hr=/\[\]$/,fn=/\r?\n/g,pr=/^(?:submit|button|image|reset|file)$/i,yr=/^(?:input|select|textarea|keygen)/i;function fi(e,t,r,s){var u;if(Array.isArray(t))o.each(t,function(c,d){r||hr.test(e)?s(e,d):fi(e+"["+(typeof d=="object"&&d!=null?c:"")+"]",d,r,s)});else if(!r&&Q(t)==="object")for(u in t)fi(e+"["+u+"]",t[u],r,s);else s(e,t)}g(fi,"buildParams"),o.param=function(e,t){var r,s=[],u=g(function(c,d){var b=j(d)?d():d;s[s.length]=encodeURIComponent(c)+"="+encodeURIComponent(b??"")},"add");if(e==null)return"";if(Array.isArray(e)||e.jquery&&!o.isPlainObject(e))o.each(e,function(){u(this.name,this.value)});else for(r in e)fi(r,e[r],t,u);return s.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=o.prop(this,"elements");return e?o.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!o(this).is(":disabled")&&yr.test(this.nodeName)&&!pr.test(e)&&(this.checked||!Ot.test(e))}).map(function(e,t){var r=o(this).val();return r==null?null:Array.isArray(r)?o.map(r,function(s){return{name:t.name,value:s.replace(fn,`\r
`)}}):{name:t.name,value:r.replace(fn,`\r
`)}}).get()}});var gr=/%20/g,mr=/#.*$/,vr=/([?&])_=[^&]*/,br=/^(.*?):[ \t]*([^\r\n]*)$/mg,xr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wr=/^(?:GET|HEAD)$/,Cr=/^\/\//,cn={},ci={},dn="*/".concat("*"),di=H.createElement("a");di.href=Tt.href;function hn(e){return function(t,r){typeof t!="string"&&(r=t,t="*");var s,u=0,c=t.toLowerCase().match(Ne)||[];if(j(r))for(;s=c[u++];)s[0]==="+"?(s=s.slice(1)||"*",(e[s]=e[s]||[]).unshift(r)):(e[s]=e[s]||[]).push(r)}}g(hn,"addToPrefiltersOrTransports");function pn(e,t,r,s){var u={},c=e===ci;function d(b){var v;return u[b]=!0,o.each(e[b]||[],function(w,k){var E=k(t,r,s);if(typeof E=="string"&&!c&&!u[E])return t.dataTypes.unshift(E),d(E),!1;if(c)return!(v=E)}),v}return g(d,"inspect"),d(t.dataTypes[0])||!u["*"]&&d("*")}g(pn,"inspectPrefiltersOrTransports");function hi(e,t){var r,s,u=o.ajaxSettings.flatOptions||{};for(r in t)t[r]!==void 0&&((u[r]?e:s||(s={}))[r]=t[r]);return s&&o.extend(!0,e,s),e}g(hi,"ajaxExtend");function Sr(e,t,r){for(var s,u,c,d,b=e.contents,v=e.dataTypes;v[0]==="*";)v.shift(),s===void 0&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s){for(u in b)if(b[u]&&b[u].test(s)){v.unshift(u);break}}if(v[0]in r)c=v[0];else{for(u in r){if(!v[0]||e.converters[u+" "+v[0]]){c=u;break}d||(d=u)}c=c||d}if(c)return c!==v[0]&&v.unshift(c),r[c]}g(Sr,"ajaxHandleResponses");function Ir(e,t,r,s){var u,c,d,b,v,w={},k=e.dataTypes.slice();if(k[1])for(d in e.converters)w[d.toLowerCase()]=e.converters[d];for(c=k.shift();c;)if(e.responseFields[c]&&(r[e.responseFields[c]]=t),!v&&s&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),v=c,c=k.shift(),c){if(c==="*")c=v;else if(v!=="*"&&v!==c){if(d=w[v+" "+c]||w["* "+c],!d){for(u in w)if(b=u.split(" "),b[1]===c&&(d=w[v+" "+b[0]]||w["* "+b[0]],d)){d===!0?d=w[u]:w[u]!==!0&&(c=b[0],k.unshift(b[1]));break}}if(d!==!0)if(d&&e.throws)t=d(t);else try{t=d(t)}catch(E){return{state:"parsererror",error:d?E:"No conversion from "+v+" to "+c}}}}return{state:"success",data:t}}g(Ir,"ajaxConvert"),o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:xr.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?hi(hi(e,o.ajaxSettings),t):hi(o.ajaxSettings,e)},ajaxPrefilter:hn(cn),ajaxTransport:hn(ci),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var r,s,u,c,d,b,v,w,k,E,D=o.ajaxSetup({},t),$=D.context||D,J=D.context&&($.nodeType||$.jquery)?o($):o.event,ee=o.Deferred(),X=o.Callbacks("once memory"),ce=D.statusCode||{},fe={},$e={},qe="canceled",Z={readyState:0,getResponseHeader:function(te){var le;if(v){if(!c)for(c={};le=br.exec(u);)c[le[1].toLowerCase()+" "]=(c[le[1].toLowerCase()+" "]||[]).concat(le[2]);le=c[te.toLowerCase()+" "]}return le==null?null:le.join(", ")},getAllResponseHeaders:function(){return v?u:null},setRequestHeader:function(te,le){return v==null&&(te=$e[te.toLowerCase()]=$e[te.toLowerCase()]||te,fe[te]=le),this},overrideMimeType:function(te){return v==null&&(D.mimeType=te),this},statusCode:function(te){var le;if(te)if(v)Z.always(te[Z.status]);else for(le in te)ce[le]=[ce[le],te[le]];return this},abort:function(te){var le=te||qe;return r&&r.abort(le),st(0,le),this}};if(ee.promise(Z),D.url=((e||D.url||Tt.href)+"").replace(Cr,Tt.protocol+"//"),D.type=t.method||t.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(Ne)||[""],D.crossDomain==null){b=H.createElement("a");try{b.href=D.url,b.href=b.href,D.crossDomain=di.protocol+"//"+di.host!=b.protocol+"//"+b.host}catch{D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=o.param(D.data,D.traditional)),pn(cn,D,t,Z),v)return Z;w=o.event&&D.global,w&&o.active++===0&&o.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!wr.test(D.type),s=D.url.replace(mr,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(gr,"+")):(E=D.url.slice(s.length),D.data&&(D.processData||typeof D.data=="string")&&(s+=(ui.test(s)?"&":"?")+D.data,delete D.data),D.cache===!1&&(s=s.replace(vr,"$1"),E=(ui.test(s)?"&":"?")+"_="+on.guid+++E),D.url=s+E),D.ifModified&&(o.lastModified[s]&&Z.setRequestHeader("If-Modified-Since",o.lastModified[s]),o.etag[s]&&Z.setRequestHeader("If-None-Match",o.etag[s])),(D.data&&D.hasContent&&D.contentType!==!1||t.contentType)&&Z.setRequestHeader("Content-Type",D.contentType),Z.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+dn+"; q=0.01":""):D.accepts["*"]);for(k in D.headers)Z.setRequestHeader(k,D.headers[k]);if(D.beforeSend&&(D.beforeSend.call($,Z,D)===!1||v))return Z.abort();if(qe="abort",X.add(D.complete),Z.done(D.success),Z.fail(D.error),r=pn(ci,D,t,Z),!r)st(-1,"No Transport");else{if(Z.readyState=1,w&&J.trigger("ajaxSend",[Z,D]),v)return Z;D.async&&D.timeout>0&&(d=p.setTimeout(function(){Z.abort("timeout")},D.timeout));try{v=!1,r.send(fe,st)}catch(te){if(v)throw te;st(-1,te)}}function st(te,le,Et,yi){var Le,Nt,Me,Ue,Ke,Oe=le;v||(v=!0,d&&p.clearTimeout(d),r=void 0,u=yi||"",Z.readyState=te>0?4:0,Le=te>=200&&te<300||te===304,Et&&(Ue=Sr(D,Z,Et)),!Le&&o.inArray("script",D.dataTypes)>-1&&o.inArray("json",D.dataTypes)<0&&(D.converters["text script"]=function(){}),Ue=Ir(D,Ue,Z,Le),Le?(D.ifModified&&(Ke=Z.getResponseHeader("Last-Modified"),Ke&&(o.lastModified[s]=Ke),Ke=Z.getResponseHeader("etag"),Ke&&(o.etag[s]=Ke)),te===204||D.type==="HEAD"?Oe="nocontent":te===304?Oe="notmodified":(Oe=Ue.state,Nt=Ue.data,Me=Ue.error,Le=!Me)):(Me=Oe,(te||!Oe)&&(Oe="error",te<0&&(te=0))),Z.status=te,Z.statusText=(le||Oe)+"",Le?ee.resolveWith($,[Nt,Oe,Z]):ee.rejectWith($,[Z,Oe,Me]),Z.statusCode(ce),ce=void 0,w&&J.trigger(Le?"ajaxSuccess":"ajaxError",[Z,D,Le?Nt:Me]),X.fireWith($,[Z,Oe]),w&&(J.trigger("ajaxComplete",[Z,D]),--o.active||o.event.trigger("ajaxStop")))}return g(st,"done"),Z},getJSON:function(e,t,r){return o.get(e,t,r,"json")},getScript:function(e,t){return o.get(e,void 0,t,"script")}}),o.each(["get","post"],function(e,t){o[t]=function(r,s,u,c){return j(s)&&(c=c||u,u=s,s=void 0),o.ajax(o.extend({url:r,type:t,dataType:c,data:s,success:u},o.isPlainObject(r)&&r))}}),o.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),o._evalUrl=function(e,t,r){return o.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(s){o.globalEval(s,t,r)}})},o.fn.extend({wrapAll:function(e){var t;return this[0]&&(j(e)&&(e=e.call(this[0])),t=o(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var r=this;r.firstElementChild;)r=r.firstElementChild;return r}).append(this)),this},wrapInner:function(e){return j(e)?this.each(function(t){o(this).wrapInner(e.call(this,t))}):this.each(function(){var t=o(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=j(e);return this.each(function(r){o(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(e){return!o.expr.pseudos.visible(e)},o.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new p.XMLHttpRequest}catch{}};var Dr={0:200,1223:204},Pt=o.ajaxSettings.xhr();T.cors=!!Pt&&"withCredentials"in Pt,T.ajax=Pt=!!Pt,o.ajaxTransport(function(e){var t,r;if(T.cors||Pt&&!e.crossDomain)return{send:function(s,u){var c,d=e.xhr();if(d.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(c in e.xhrFields)d[c]=e.xhrFields[c];e.mimeType&&d.overrideMimeType&&d.overrideMimeType(e.mimeType),!e.crossDomain&&!s["X-Requested-With"]&&(s["X-Requested-With"]="XMLHttpRequest");for(c in s)d.setRequestHeader(c,s[c]);t=g(function(b){return function(){t&&(t=r=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,b==="abort"?d.abort():b==="error"?typeof d.status!="number"?u(0,"error"):u(d.status,d.statusText):u(Dr[d.status]||d.status,d.statusText,(d.responseType||"text")!=="text"||typeof d.responseText!="string"?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},"callback"),d.onload=t(),r=d.onerror=d.ontimeout=t("error"),d.onabort!==void 0?d.onabort=r:d.onreadystatechange=function(){d.readyState===4&&p.setTimeout(function(){t&&r()})},t=t("abort");try{d.send(e.hasContent&&e.data||null)}catch(b){if(t)throw b}},abort:function(){t&&t()}}}),o.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return o.globalEval(e),e}}}),o.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),o.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,r;return{send:function(s,u){t=o("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",r=g(function(c){t.remove(),r=null,c&&u(c.type==="error"?404:200,c.type)},"callback")),H.head.appendChild(t[0])},abort:function(){r&&r()}}}});var yn=[],pi=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=yn.pop()||o.expando+"_"+on.guid++;return this[e]=!0,e}}),o.ajaxPrefilter("json jsonp",function(e,t,r){var s,u,c,d=e.jsonp!==!1&&(pi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&pi.test(e.data)&&"data");if(d||e.dataTypes[0]==="jsonp")return s=e.jsonpCallback=j(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,d?e[d]=e[d].replace(pi,"$1"+s):e.jsonp!==!1&&(e.url+=(ui.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return c||o.error(s+" was not called"),c[0]},e.dataTypes[0]="json",u=p[s],p[s]=function(){c=arguments},r.always(function(){u===void 0?o(p).removeProp(s):p[s]=u,e[s]&&(e.jsonpCallback=t.jsonpCallback,yn.push(s)),c&&j(u)&&u(c[0]),c=u=void 0}),"script"}),T.createHTMLDocument=function(){var e=H.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),o.parseHTML=function(e,t,r){if(typeof e!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,c;return t||(T.createHTMLDocument?(t=H.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=H.location.href,t.head.appendChild(s)):t=H),u=$i.exec(e),c=!r&&[],u?[t.createElement(u[1])]:(u=Vi([e],t,c),c&&c.length&&o(c).remove(),o.merge([],u.childNodes))},o.fn.load=function(e,t,r){var s,u,c,d=this,b=e.indexOf(" ");return b>-1&&(s=nt(e.slice(b)),e=e.slice(0,b)),j(t)?(r=t,t=void 0):t&&typeof t=="object"&&(u="POST"),d.length>0&&o.ajax({url:e,type:u||"GET",dataType:"html",data:t}).done(function(v){c=arguments,d.html(s?o("<div>").append(o.parseHTML(v)).find(s):v)}).always(r&&function(v,w){d.each(function(){r.apply(this,c||[v.responseText,w,v])})}),this},o.expr.pseudos.animated=function(e){return o.grep(o.timers,function(t){return e===t.elem}).length},o.offset={setOffset:function(e,t,r){var s,u,c,d,b,v,w,k=o.css(e,"position"),E=o(e),D={};k==="static"&&(e.style.position="relative"),b=E.offset(),c=o.css(e,"top"),v=o.css(e,"left"),w=(k==="absolute"||k==="fixed")&&(c+v).indexOf("auto")>-1,w?(s=E.position(),d=s.top,u=s.left):(d=parseFloat(c)||0,u=parseFloat(v)||0),j(t)&&(t=t.call(e,r,o.extend({},b))),t.top!=null&&(D.top=t.top-b.top+d),t.left!=null&&(D.left=t.left-b.left+u),"using"in t?t.using.call(e,D):E.css(D)}},o.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(u){o.offset.setOffset(this,e,u)});var t,r,s=this[0];if(s)return s.getClientRects().length?(t=s.getBoundingClientRect(),r=s.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,r,s=this[0],u={top:0,left:0};if(o.css(s,"position")==="fixed")t=s.getBoundingClientRect();else{for(t=this.offset(),r=s.ownerDocument,e=s.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&o.css(e,"position")==="static";)e=e.parentNode;e&&e!==s&&e.nodeType===1&&(u=o(e).offset(),u.top+=o.css(e,"borderTopWidth",!0),u.left+=o.css(e,"borderLeftWidth",!0))}return{top:t.top-u.top-o.css(s,"marginTop",!0),left:t.left-u.left-o.css(s,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&o.css(e,"position")==="static";)e=e.offsetParent;return e||it})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=t==="pageYOffset";o.fn[e]=function(s){return He(this,function(u,c,d){var b;if(M(u)?b=u:u.nodeType===9&&(b=u.defaultView),d===void 0)return b?b[t]:u[c];b?b.scrollTo(r?b.pageXOffset:d,r?d:b.pageYOffset):u[c]=d},e,s,arguments.length)}}),o.each(["top","left"],function(e,t){o.cssHooks[t]=Qi(T.pixelPosition,function(r,s){if(s)return s=kt(r,t),ni.test(s)?o(r).position()[t]+"px":s})}),o.each({Height:"height",Width:"width"},function(e,t){o.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,s){o.fn[s]=function(u,c){var d=arguments.length&&(r||typeof u!="boolean"),b=r||(u===!0||c===!0?"margin":"border");return He(this,function(v,w,k){var E;return M(v)?s.indexOf("outer")===0?v["inner"+e]:v.document.documentElement["client"+e]:v.nodeType===9?(E=v.documentElement,Math.max(v.body["scroll"+e],E["scroll"+e],v.body["offset"+e],E["offset"+e],E["client"+e])):k===void 0?o.css(v,w,b):o.style(v,w,k,b)},t,d?u:void 0,d)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){o.fn[t]=function(r){return this.on(t,r)}}),o.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,s){return this.on(t,e,r,s)},undelegate:function(e,t,r){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){o.fn[t]=function(r,s){return arguments.length>0?this.on(t,null,r,s):this.trigger(t)}});var Or=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;o.proxy=function(e,t){var r,s,u;if(typeof t=="string"&&(r=e[t],t=e,e=r),!!j(e))return s=a.call(arguments,2),u=g(function(){return e.apply(t||this,s.concat(a.call(arguments)))},"proxy"),u.guid=e.guid=e.guid||o.guid++,u},o.holdReady=function(e){e?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=ne,o.isFunction=j,o.isWindow=M,o.camelCase=je,o.type=Q,o.now=Date.now,o.isNumeric=function(e){var t=o.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},o.trim=function(e){return e==null?"":(e+"").replace(Or,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var kr=p.jQuery,Ar=p.$;return o.noConflict=function(e){return p.$===o&&(p.$=Ar),e&&p.jQuery===o&&(p.jQuery=kr),o},typeof l>"u"&&(p.jQuery=p.$=o),o})});var Gr={};var Ae,tt,Tn=Hr(()=>{Ae=class{constructor(l,i){if(this.app="loki",this.options=i||{},typeof l!="undefined"&&(this.app=l),this.catalog=null,!this.checkAvailability())throw new Error("indexedDB does not seem to be supported for your environment")}exportDatabase(l,i,n){throw new Error("Method not implemented.")}closeDatabase(){this.catalog&&this.catalog.db&&(this.catalog.db.close(),this.catalog.db=null)}checkAvailability(){return!!(typeof indexedDB!="undefined"&&indexedDB)}loadDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(f=>{a.catalog=f,a.loadDatabase(l,i)});return}this.catalog.getAppKey(n,l,({id:f,val:h})=>{if(typeof i=="function"){if(f===0){i(null);return}i(h)}else console.log(h)})}saveDatabase(l,i,n){let a=this.app,f=this;function h(y){y&&y.success===!0?n(null):n(new Error("Error saving database")),f.options.closeAfterSave&&f.closeDatabase()}if(g(h,"saveCallback"),this.catalog===null||this.catalog.db===null){this.catalog=new tt(y=>{f.saveDatabase(l,i,h)});return}this.catalog.setAppKey(a,l,i,h)}deleteDatabase(l,i){let n=this.app,a=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(f=>{a.catalog=f,a.deleteDatabase(l,i)});return}this.catalog.getAppKey(n,l,f=>{let h=f.id;h!==0?a.catalog.deleteAppKey(h,i):typeof i=="function"&&i({success:!0})})}deleteDatabasePartitions(l){let i=this;this.getDatabaseList(n=>{n.forEach(a=>{a.startsWith(l)&&i.deleteDatabase(a)})})}getDatabaseList(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(a=>{n.catalog=a,n.getDatabaseList(l)});return}this.catalog.getAppKeys(i,a=>{let f=[];for(let h=0;h<a.length;h++)f.push(a[h].key);typeof l=="function"?l(f):f.forEach(h=>{console.log(h)})})}getCatalogSummary(l){let i=this.app,n=this;if(this.catalog===null||this.catalog.db===null){this.catalog=new tt(a=>{n.catalog=a,n.getCatalogSummary(l)});return}this.catalog.getAllKeys(a=>{let f=[],h,y,S,C,A;for(let N=0;N<a.length;N++)h=a[N],S=h.app||"",C=h.key||"",A=h.val||"",y=S.length*2+C.length*2+A.length+1,f.push({app:h.app,key:h.key,size:y});typeof l=="function"?l(f):f.forEach(N=>{console.log(N)})})}};g(Ae,"LokiIndexedAdapter");Ae.prototype.loadKey=Ae.prototype.loadDatabase;Ae.prototype.saveKey=Ae.prototype.saveDatabase;Ae.prototype.deleteKey=Ae.prototype.deleteDatabase;Ae.prototype.getKeyList=Ae.prototype.getDatabaseList;tt=class{constructor(l){this.db=null,this.initializeLokiCatalog(l)}initializeLokiCatalog(l){let i=indexedDB.open("LokiCatalog",1),n=this;i.onupgradeneeded=({target:a})=>{let f=a.result;if(f.objectStoreNames.contains("LokiAKV")&&f.deleteObjectStore("LokiAKV"),!f.objectStoreNames.contains("LokiAKV")){let h=f.createObjectStore("LokiAKV",{keyPath:"id",autoIncrement:!0});h.createIndex("app","app",{unique:!1}),h.createIndex("key","key",{unique:!1}),h.createIndex("appkey","appkey",{unique:!0})}},i.onsuccess=({target:a})=>{n.db=a.result,typeof l=="function"&&l(n)},i.onerror=a=>{throw a}}getAppKey(l,i,n){let h=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("appkey"),y=`${l},${i}`,S=h.get(y);S.onsuccess=(C=>({target:A})=>{let N=A.result;(N===null||typeof N=="undefined")&&(N={id:0,success:!1}),typeof C=="function"?C(N):console.log(N)})(n),S.onerror=(C=>A=>{if(typeof C=="function")C({id:0,success:!1});else throw A})(n)}getAppKeyById(l,i,n){let h=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").get(l);h.onsuccess=((y,S)=>({target:C})=>{typeof S=="function"?S(C.result,y):console.log(C.result)})(n,i)}setAppKey(l,i,n,a){let h=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV"),y=h.index("appkey"),S=`${l},${i}`,C=y.get(S);C.onsuccess=({target:A})=>{let N=A.result;N==null?N={app:l,key:i,appkey:`${l},${i}`,val:n}:N.val=n;let L=h.put(N);L.onerror=(T=>j=>{typeof T=="function"?T({success:!1}):(console.error("LokiCatalog.setAppKey (set) onerror"),console.error(C.error))})(a),L.onsuccess=(T=>j=>{typeof T=="function"&&T({success:!0})})(a)},C.onerror=(A=>N=>{typeof A=="function"?A({success:!1}):(console.error("LokiCatalog.setAppKey (get) onerror"),console.error(C.error))})(a)}deleteAppKey(l,i){let f=this.db.transaction(["LokiAKV"],"readwrite").objectStore("LokiAKV").delete(l);f.onsuccess=(h=>y=>{typeof h=="function"&&h({success:!0})})(i),f.onerror=(h=>y=>{typeof h=="function"?h({success:!1}):(console.error("LokiCatalog.deleteAppKey raised onerror"),console.error(f.error))})(i)}getAppKeys(l,i){let f=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").index("app"),h=IDBKeyRange.only(l),y=f.openCursor(h),S=[];y.onsuccess=((C,A)=>({target:N})=>{let L=N.result;if(L){let T=L.value;C.push(T),L.continue()}else typeof A=="function"?A(C):console.log(C)})(S,i),y.onerror=(C=>A=>{typeof C=="function"?C(null):(console.error("LokiCatalog.getAppKeys raised onerror"),console.error(A))})(i)}getAllKeys(l){let a=this.db.transaction(["LokiAKV"],"readonly").objectStore("LokiAKV").openCursor(),f=[];a.onsuccess=((h,y)=>({target:S})=>{let C=S.result;if(C){let A=C.value;h.push(A),C.continue()}else typeof y=="function"?y(h):console.log(h)})(f,l),a.onerror=(h=>y=>{typeof h=="function"&&h(null)})(l)}};g(tt,"LokiCatalog");typeof window!="undefined"&&(window.LokiIndexedAdapter=Ae)});var ot=class{constructor(){try{this.fs=Ci("fs")}catch(l){this.fs=null}}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.fs.stat(l,(a,f)=>{!a&&f.isFile()?n.fs.readFile(l,{encoding:"utf8"},g(function(y,S){i(y?new Error(y):S)},"readFileCallback")):i(null)})}saveDatabase(l,i,n){let a=this,f=`${l}~`;this.fs.writeFile(f,i,g(function(y){y?n(new Error(y)):a.fs.rename(f,l,n)},"writeFileCallback"))}deleteDatabase(l,i){this.fs.unlink(l,g(function(a){a?i(new Error(a)):i()},"deleteDatabaseCallback"))}};g(ot,"LokiFsAdapter");var Sn=Vr(wn());function Cn(p,l){if(l=="parse-stringify")return oe(p,l);for(var i=[],n=0,a=p.length;n<a;n++)i[n]=oe(p[n],l);return i}g(Cn,"cloneObjectArray");function oe(p,l){if(p==null)return null;var i=l||"parse-stringify",n;switch(i){case"parse-stringify":n=JSON.parse(JSON.stringify(p));break;case"jquery-extend-deep":n=Sn.extend(!0,{},p);break;case"shallow":n=Object.create(p.constructor.prototype),Object.keys(p).map(function(f){n[f]=p[f]});break;case"shallow-assign":n=Object.create(p.constructor.prototype),Object.assign(n,p);break;case"shallow-recurse-objects":n=oe(p,"shallow");var a=Object.keys(p);a.forEach(function(f){typeof p[f]=="object"&&p[f].constructor.name==="Object"?n[f]=oe(p[f],"shallow-recurse-objects"):Array.isArray(p[f])&&(n[f]=Cn(p[f],"shallow-recurse-objects"))});break;default:break}return n}g(oe,"clone");function Qe(p){Object.isFrozen(p)||Object.freeze(p)}g(Qe,"freeze");function pe(p){var l,i;if(Array.isArray(p)){for(i=0;i<p.length;i++)pe(p[i]);Qe(p)}else if(p!==null&&typeof p=="object"){for(l in p)Object.hasOwn(p,l)&&pe(p[l]);Qe(p)}}g(pe,"deepFreeze");function Ge(p){return Object.isFrozen(p)?oe(p,"shallow"):p}g(Ge,"unFreeze");var _={};Wr(_,{copyProperties:()=>Jr,getIn:()=>Kr,resolveTransformObject:()=>In,resolveTransformParams:()=>Ur});var Jr=g(function(p,l){var i;for(i in p)l[i]=p[i]},"copyProperties"),In=g(function(p,l,i){var n,a;if(typeof i!="number"&&(i=0),++i>=10)return p;for(n in p)typeof p[n]=="string"&&p[n].indexOf("[%lktxp]")===0?(a=p[n].substring(8),Object.hasOwn(l,a)&&(p[n]=l[a])):typeof p[n]=="object"&&(p[n]=_.resolveTransformObject(p[n],l,i));return p},"resolveTransformObject"),Ur=g(function(p,l){var i,n,a=[];if(typeof l=="undefined")return p;for(i=0;i<p.length;i++)n=oe(p[i],"shallow-recurse-objects"),a.push(In(n,l));return a},"resolveTransformParams"),Kr=g(function(p,l,i){if(p!=null){if(!i)return p[l];if(typeof l=="string"&&(l=l.split(".")),!Array.isArray(l))throw new Error("path must be a string or array. Found "+typeof l);for(var n=0,a=l.length;p!=null&&n<a;)p=p[l[n++]];return n&&n==a?p:void 0}},"getIn");function Si(p){return typeof p=="string"||Array.isArray(p)?function(l){return p.indexOf(l)!==-1}:typeof p=="object"&&p!==null?function(l){return Object.hasOwn(p,l)}:null}g(Si,"containsCheckFn");function lt(p,l,i,n,a,f){let h=f||0,y=l[h],S=!1,C;if(p!==null&&typeof p=="object"&&y in p&&(C=p[y]),h+1>=l.length)S=i(C,n,a);else if(Array.isArray(C))for(let A=0,N=C.length;A<N&&(S=lt(C[A],l,i,n,a,h+1),S!==!0);A+=1);else S=lt(C,l,i,n,a,h+1);return S}g(lt,"dotSubScan");var K={aeq:Ii,lt:Di,gt:Oi};function Ii(p,l){var i,n,a,f;if(p===l)return!0;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:a=1;break;case null:a=1;break;case!1:a=3;break;case!0:a=4;break;case"":a=5;break;default:a=p===p?9:0;break}switch(l){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=l===l?9:0;break}if(a!==9||f!==9)return a===f}return i=Number(p),n=Number(l),i===i||n===n?i===n:(i=p.toString(),n=l.toString(),i==n)}g(Ii,"aeqHelper");function Di(p,l,i){var n,a,f,h;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=p===p?9:0;break}switch(l){case void 0:h=1;break;case null:h=1;break;case!1:h=3;break;case!0:h=4;break;case"":h=5;break;default:h=l===l?9:0;break}if(f!==9||h!==9)return f===h?i:f<h}return n=Number(p),a=Number(l),n===n&&a===a?n<a?!0:n>a?!1:i:n===n&&a!==a?!0:a===a&&n!==n?!1:p<l?!0:p>l?!1:p==l?i:(n=p.toString(),a=l.toString(),n<a?!0:n==a?i:!1)}g(Di,"ltHelper");function Oi(p,l,i){var n,a,f,h;if(!p||!l||p===!0||l===!0||p!==p||l!==l){switch(p){case void 0:f=1;break;case null:f=1;break;case!1:f=3;break;case!0:f=4;break;case"":f=5;break;default:f=p===p?9:0;break}switch(l){case void 0:h=1;break;case null:h=1;break;case!1:h=3;break;case!0:h=4;break;case"":h=5;break;default:h=l===l?9:0;break}if(f!==9||h!==9)return f===h?i:f>h}return n=Number(p),a=Number(l),n===n&&a===a?n>a?!0:n<a?!1:i:n===n&&a!==a?!1:a===a&&n!==n||p>l?!0:p<l?!1:p==l?i:(n=p.toString(),a=l.toString(),n>a?!0:n==a?i:!1)}g(Oi,"gtHelper");function ki(p,l,i){return K.aeq(p,l)?0:K.lt(p,l,!1)?i?1:-1:K.gt(p,l,!1)?i?-1:1:0}g(ki,"sortHelper");function Dn(p,l,i){for(var n=0,a,f,h,y,S,C=0,A=p.length;C<A;C++)if(a=p[C],f=a[0],~f.indexOf(".")?(S=f.split("."),h=_.getIn(l,S,!0),y=_.getIn(i,S,!0)):(h=l[f],y=i[f]),n=ki(h,y,a[1]),n!==0)return n;return 0}g(Dn,"compoundeval");function Ye(p,l,i){for(var n in l)if(Object.hasOwn(l,n))return we[n](p,l[n],i);return!1}g(Ye,"doQueryOp");var we={$eq:function(p,l){return p===l},$aeq:function(p,l){return p==l},$ne:function(p,l){return l!==l?p===p:p!==l},$dteq:function(p,l){return K.aeq(p,l)},$gt:function(p,l){return K.gt(p,l,!1)},$gte:function(p,l){return K.gt(p,l,!0)},$lt:function(p,l){return K.lt(p,l,!1)},$lte:function(p,l){return K.lt(p,l,!0)},$jgt:function(p,l){return p>l},$jgte:function(p,l){return p>=l},$jlt:function(p,l){return p<l},$jlte:function(p,l){return p<=l},$between:function(p,l){return p==null?!1:K.gt(p,l[0],!0)&&K.lt(p,l[1],!0)},$jbetween:function(p,l){return p==null?!1:p>=l[0]&&p<=l[1]},$in:function(p,l){return l.indexOf(p)!==-1},$inSet:function(p,l){return l.has(p)},$nin:function(p,l){return l.indexOf(p)===-1},$keyin:function(p,l){return p in l},$nkeyin:function(p,l){return!(p in l)},$definedin:function(p,l){return l[p]!==void 0},$undefinedin:function(p,l){return l[p]===void 0},$regex:function(p,l){return l.test(p)},$containsString:function(p,l){return typeof p=="string"&&p.indexOf(l)!==-1},$containsNone:function(p,l){return!we.$containsAny(p,l)},$containsAny:function(p,l){var i=Si(p);return i!==null?Array.isArray(l)?l.some(i):i(l):!1},$contains:function(p,l){var i=Si(p);return i!==null?Array.isArray(l)?l.every(i):i(l):!1},$elemMatch:function(p,l){return Array.isArray(p)?p.some(function(i){return Object.keys(l).every(function(n){var a=l[n];return typeof a=="object"&&a||(a={$eq:a}),n.indexOf(".")!==-1?lt(i,n.split("."),Ye,l[n],i):Ye(i[n],a,i)})}):!1},$type:function(p,l,i){var n=typeof p;return n==="object"&&(Array.isArray(p)?n="array":p instanceof Date&&(n="date")),typeof l!="object"?n===l:Ye(n,l,i)},$finite:function(p,l){return l===isFinite(p)},$size:function(p,l,i){return Array.isArray(p)?typeof l!="object"?p.length===l:Ye(p.length,l,i):!1},$len:function(p,l,i){return typeof p=="string"?typeof l!="object"?p.length===l:Ye(p.length,l,i):!1},$where:function(p,l){return l(p)===!0},$not:function(p,l,i){return!Ye(p,l,i)},$and:function(p,l,i){for(var n=0,a=l.length;n<a;n+=1)if(!Ye(p,l[n],i))return!1;return!0},$or:function(p,l,i){for(var n=0,a=l.length;n<a;n+=1)if(Ye(p,l[n],i))return!0;return!1},$exists:function(p,l){return l?p!==void 0:p===void 0}},Xr=["$eq","$aeq","$ne","$dteq","$gt","$gte","$lt","$lte","$jgt","$jgte","$jlt","$jlte","$type"];Xr.forEach(function(p){var l=we[p];we["$"+p]=function(i,n,a){if(typeof n=="string")return l(i,a[n]);if(typeof n=="function")return l(i,n(a));throw new Error("Invalid argument to $$ matcher")}});var Kt={$eq:we.$eq,$aeq:!0,$dteq:!0,$gt:!0,$gte:!0,$lt:!0,$lte:!0,$in:!0,$between:!0};var _e=class{constructor(){this.addListener=this.on;this.events={};this.asyncListeners=!1}on(l,i){let n;var a=this;return Array.isArray(l)?(l.forEach(f=>{this.on(f,i)}),i):(n=this.events[l],n||(n=this.events[l]=[]),n.push(i),i)}emit(l,i,n){let a;var f=this;if(l&&this.events[l])this.events[l].length&&(a=Array.prototype.slice.call(arguments,1),this.events[l].forEach(h=>{this.asyncListeners?setTimeout(()=>{h.apply(f,a)},1):h.apply(f,a)}));else throw new Error(`No event ${l} defined`)}removeListener(l,i){var n=this;if(Array.isArray(l)){l.forEach(a=>{this.removeListener(a,i)});return}if(this.events[l]){let a=this.events[l];a.splice(a.indexOf(i),1)}}};g(_e,"LokiEventEmitter");var $t=class{constructor(l){this.index=Object.create(null),this.field=l}set(l,i){this.index[l]?this.index[l].push(i):this.index[l]=[i]}remove(l,i){let n=this.index[l];for(let a in n)n[a]==i&&n.splice(a,1);n.length<1&&(this.index[l]=void 0)}get(l){return this.index[l]}clear(){this.index={}}};g($t,"ExactIndex");var ut=class{constructor(l){this.field=l,this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}set(l){let i=l[this.field];if(i!==null&&typeof i!="undefined"){if(this.keyMap[i])throw new Error(`Duplicate key for property ${this.field}: ${i}`);this.keyMap[i]=l,this.lokiMap[l.$loki]=i}}get(l){return this.keyMap[l]}byId(l){return this.keyMap[this.lokiMap[l]]}update(l,i){if(this.lokiMap[l.$loki]!==i[this.field]){let n=this.lokiMap[l.$loki];this.set(i),this.keyMap[n]=void 0}else this.keyMap[l[this.field]]=i}remove(l){let i=this.keyMap[l];if(i!==null&&typeof i!="undefined")this.keyMap[l]=void 0,this.lokiMap[i.$loki]=void 0;else throw new Error(`Key is not in unique index: ${this.field}`)}clear(){this.keyMap=Object.create(null),this.lokiMap=Object.create(null)}};g(ut,"UniqueIndex");ut.prototype.keyMap={};ut.prototype.lokiMap={};var ue=class{constructor(l,i){this.branch=ue.prototype.copy;this.$or=ue.prototype.findOr;this.$and=ue.prototype.findAnd;return this.options=i||{},this.collection=l,this.filteredrows=[],this.filterInitialized=!1,this}reset(){return this.filteredrows.length>0&&(this.filteredrows=[]),this.filterInitialized=!1,this}toJSON(){let l=this.copy();return l.collection=null,l}limit(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(0,l),i.filterInitialized=!0,i}offset(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=new ue(this.collection);return i.filteredrows=this.filteredrows.slice(l),i.filterInitialized=!0,i}copy(){let l=new ue(this.collection);return this.filteredrows.length>0&&(l.filteredrows=this.filteredrows.slice()),l.filterInitialized=this.filterInitialized,l}transform(l,i){let n,a,f=this;if(typeof l=="string"&&Object.hasOwn(this.collection.transforms,l)&&(l=this.collection.transforms[l]),typeof l!="object"||!Array.isArray(l))throw new Error("Invalid transform");for(typeof i!="undefined"&&(l=_.resolveTransformParams(l,i)),n=0;n<l.length;n++)switch(a=l[n],a.type){case"find":f.find(a.value);break;case"where":f.where(a.value);break;case"simplesort":f.simplesort(a.property,a.desc||a.options);break;case"compoundsort":f.compoundsort(a.value);break;case"sort":f.sort(a.value);break;case"limit":f=f.limit(a.value);break;case"offset":f=f.offset(a.value);break;case"map":f=f.map(a.value,a.dataOptions);break;case"eqJoin":f=f.eqJoin(a.joinData,a.leftJoinKey,a.rightJoinKey,a.mapFun,a.dataOptions);break;case"mapReduce":f=f.mapReduce(a.mapFunction,a.reduceFunction);break;case"update":f.update(a.value);break;case"remove":f.remove();break;default:break}return f}sort(l){!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i=((n,a)=>(f,h)=>n(a[f],a[h]))(l,this.collection.data);return this.filteredrows.sort(i),this}simplesort(l,i){let n,a=10,f=this.collection.data.length,h=this.filteredrows.length,y=Object.hasOwn(this.collection.binaryIndices,l);if((typeof i=="undefined"||i===!1)&&(i={desc:!1}),i===!0&&(i={desc:!0}),h===0){if(this.filterInitialized)return this;if(Object.hasOwn(this.collection.binaryIndices,l))return this.collection.ensureIndex(l),this.filteredrows=this.collection.binaryIndices[l].values.slice(0),i.desc&&this.filteredrows.reverse(),this;this.filteredrows=this.collection.prepareFullDocIndex()}else if(!i.disableIndexIntersect&&y&&(n=f/h,i.useJavascriptSorting&&(a=6),n<=a||i.forceIndexIntersect)){let C,A=this.filteredrows,N={};for(C=0;C<h;C++)N[A[C]]=!0;let L=this.collection.binaryIndices[l].values;return this.filteredrows=L.filter(T=>N[T]),i.desc&&this.filteredrows.reverse(),this}if(i.useJavascriptSorting)return this.sort((C,A)=>{if(C[l]===A[l])return 0;if(C[l]>A[l])return 1;if(C[l]<A[l])return-1});let S=((C,A,N)=>{let L,T,j;return(M,H)=>(~C.indexOf(".")?(j=C.split("."),L=_.getIn(N[M],j,!0),T=_.getIn(N[H],j,!0)):(L=N[M][C],T=N[H][C]),ki(L,T,A))})(l,i.desc,this.collection.data);return this.filteredrows.sort(S),this}compoundsort(l){if(l.length===0)throw new Error("Invalid call to compoundsort, need at least one property");let i;if(l.length===1)return i=l[0],Array.isArray(i)?this.simplesort(i[0],i[1]):this.simplesort(i,!1);for(let a=0,f=l.length;a<f;a+=1)i=l[a],Array.isArray(i)||(l[a]=[i,!1]);!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let n=((a,f)=>(h,y)=>Dn(a,f[h],f[y]))(l,this.collection.data);return this.filteredrows.sort(n),this}findOr(l){let i=null,n=0,a=0,f=[],h=[],y=0;for(let S=0,C=l.length;S<C;S++)for(i=this.branch().find(l[S]).filteredrows,a=i.length,n=0;n<a;n++)y=i[n],h[y]===void 0&&(h[y]=!0,f.push(y));return this.filteredrows=f,this.filterInitialized=!0,this}findAnd(l){for(let i=0,n=l.length;i<n;i++){if(this.count()===0)return this;this.find(l[i])}return this}find(l,i){if(this.collection.data.length===0)return this.filteredrows=[],this.filterInitialized=!0,this;let n=l||"getAll",a,f,h,y,S,C,A,N=!1,L=[],T=[],j=null;if(i=i||!1,typeof n=="object"){for(a in n)y={},y[a]=n[a],T.push(y),ze.call(n,a)&&(f=a,h=n[a]);if(T.length>1)return this.find({$and:T},i)}if(!f||n==="getAll")return i&&(this.filterInitialized?this.filteredrows=this.filteredrows.slice(0,1):(this.filteredrows=this.collection.data.length>0?[0]:[],this.filterInitialized=!0)),this;if(f==="$and"||f==="$or")return this[f](h),i&&this.filteredrows.length>1&&(this.filteredrows=this.filteredrows.slice(0,1)),this;if(h===null||typeof h!="object"||h instanceof Date)S="$eq",C=h;else if(typeof h=="object"){for(A in h)if(ze.call(h,A)){S=A,C=h[A];break}}else throw new Error("Do not know what you want to do.");(S==="$regex"||typeof C=="object")&&(C=Ai(S,C));let M=f.includes(".");!this.filterInitialized&&this.collection.binaryIndices[f]&&Kt[S]&&(this.collection.adaptiveBinaryIndices!==!0&&this.collection.ensureIndex(f),N=!0,j=this.collection.binaryIndices[f]),!N&&S==="$in"&&Array.isArray(C)&&typeof Set!="undefined"&&(C=new Set(C),S="$inSet");let Ce=we[S];if(typeof Ce!="function")throw new TypeError('"'+S+'" is not a valid operator');let Se=this.collection.data,Q=0,ge=0,Ie,o=0,de;if(this.filterInitialized){if(Ie=this.filteredrows,ge=Ie.length,M){for(f=f.split("."),Q=0;Q<ge;Q++)if(o=Ie[Q],de=Se[o],lt(de,f,Ce,C,de)&&(L.push(o),i))return this.filteredrows=L,this}else for(Q=0;Q<ge;Q++)if(o=Ie[Q],de=Se[o],Ce(de[f],C,de)&&(L.push(o),i))return this.filteredrows=L,this}else if(N){let ne=this.collection.calculateRange(S,f,C);if(S!=="$in"){for(Q=ne[0];Q<=ne[1];Q++)if(Kt[S]!==!0){if(Kt[S](_.getIn(Se[j.values[Q]],f,M),C)&&(L.push(j.values[Q]),i))return this.filteredrows=L,this.filterInitialized=!0,this}else if(L.push(j.values[Q]),i)return this.filteredrows=L,this.filterInitialized=!0,this}else for(Q=0,ge=ne.length;Q<ge;Q++)if(L.push(j.values[ne[Q]]),i)return this.filteredrows=L,this.filterInitialized=!0,this}else if(ge=Se.length,M){for(f=f.split("."),Q=0;Q<ge;Q++)if(de=Se[Q],lt(de,f,Ce,C,de)&&(L.push(Q),i))return this.filteredrows=L,this.filterInitialized=!0,this}else for(Q=0;Q<ge;Q++)if(de=Se[Q],Ce(de[f],C,de)&&(L.push(Q),i))return this.filteredrows=L,this.filterInitialized=!0,this;return this.filteredrows=L,this.filterInitialized=!0,this}where(l){let i,n=[];if(typeof l=="function")i=l;else throw new TypeError("Argument is not a stored view or a function");if(this.filterInitialized){let a=this.filteredrows.length;for(;a--;)i(this.collection.data[this.filteredrows[a]])===!0&&n.push(this.filteredrows[a]);return this.filteredrows=n,this}else{let a=this.collection.data.length;for(;a--;)i(this.collection.data[a])===!0&&n.push(a);return this.filteredrows=n,this.filterInitialized=!0,this}}count(){return this.filterInitialized?this.filteredrows.length:this.collection.count()}update(l){if(typeof l!="function")throw new TypeError("Argument is not a function");!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex());let i,n=this.filteredrows.length,a=this.collection.data;for(let f=0;f<n;f++)!this.collection.disableFreeze||this.collection.cloneObjects||!this.collection.disableDeltaChangesApi?(i=oe(a[this.filteredrows[f]],this.collection.cloneMethod),l(i),this.collection.update(i)):(l(a[this.filteredrows[f]]),this.collection.update(a[this.filteredrows[f]]));return this}remove(){return!this.filterInitialized&&this.filteredrows.length===0&&(this.filteredrows=this.collection.prepareFullDocIndex()),this.collection.removeBatchByPositions(this.filteredrows),this.filteredrows=[],this}mapReduce(l,i){return i(this.data().map(l))}eqJoin(l,i,n,a,f){let h=[],y=[],S,C=[],A=typeof i=="function",N=typeof n=="function",L={};h=this.data(f);let T=h.length;if(l instanceof Ee)y=l.chain().data(f);else if(l instanceof ue){let M=new ue({},{});M.rightData=l.data(f)}else if(Array.isArray(l))y=l;else throw new TypeError("joinData needs to be an array or result set");let j=y.length;for(let M=0;M<j;M++)S=N?n(y[M]):y[M][n],L[S]=y[M];a||(a=g((M,H)=>({left:M,right:H}),"mapFun"));for(let M=0;M<T;M++)S=A?i(h[M]):h[M][i],C.push(a(h[M],L[S]||{}));return this.collection=new Ee("joinData"),this.collection.insert(C),this.filteredrows=[],this.filterInitialized=!1,this}data(l){var i=[],n=this.collection.data,a,f,h,y;if(l=l||{},l.removeMeta&&!l.forceClones&&(l.forceClones=!0,l.forceCloneMethod=l.forceCloneMethod||"shallow"),!this.collection.disableDeltaChangesApi&&this.collection.disableFreeze&&(l.forceClones=!0,l.forceCloneMethod="parse-stringify"),!this.filterInitialized)if(this.filteredrows.length===0)if(this.collection.cloneObjects||l.forceClones){for(f=n.length,y=l.forceCloneMethod||this.collection.cloneMethod,h=0;h<f;h++)a=oe(n[h],y),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);return i}else return n.slice();else this.filterInitialized=!0;var S=this.filteredrows;if(f=S.length,this.collection.cloneObjects||l.forceClones)for(y=l.forceCloneMethod||this.collection.cloneMethod,h=0;h<f;h++)a=oe(n[S[h]],y),l.removeMeta&&(delete a.$loki,delete a.meta),i.push(a);else for(h=0;h<f;h++)i.push(n[S[h]]);return i}map(l,i){let n=this.data(i).map(l);return this.collection=new Ee("mappedData"),this.collection.insert(n),this.filteredrows=[],this.filterInitialized=!1,this}};g(ue,"Resultset");var Je=class extends _e{constructor(i,n,a){super();this.getSort=g(()=>this.sortFunction||this.sortCriteria||this.sortCriteriaSimple,"getSort");this.rematerialize=g(i=>{let n,a,f;i=i||{},this.resultdata=[],this.resultsdirty=!0,this.resultset=new ue(this.collection),(this.sortFunction||this.sortCriteria||this.sortCriteriaSimple)&&(this.sortDirty=!0);let h=Object.isFrozen(this.filterPipeline);if(i.hasOwnProperty("removeWhereFilters"))for(h&&(this.filterPipeline=this.filterPipeline.slice()),n=this.filterPipeline.length,a=n;a--;)this.filterPipeline[a].type==="where"&&(a!==this.filterPipeline.length-1&&(this.filterPipeline[a]=this.filterPipeline[this.filterPipeline.length-1]),this.filterPipeline.length--);let y=this.filterPipeline;for(this.filterPipeline=[],n=y.length,f=0;f<n;f++)this.applyFind(y[f].val,y[f].uid);return h&&Object.freeze(this.filterPipeline),this.data(),this.emit("rebuild",this),this},"rematerialize");this.branchResultset=g((i,n)=>{let a=this.resultset.branch();return typeof i=="undefined"?a:a.transform(i,n)},"branchResultset");this.toJSON=g(()=>{let i=new Je(this.collection,this.name,this.options);return i.resultset=this.resultset,i.resultdata=[],i.resultsdirty=!0,i.filterPipeline=this.filterPipeline,i.sortFunction=this.sortFunction,i.sortCriteria=this.sortCriteria,i.sortCriteriaSimple=this.sortCriteriaSimple||null,i.sortDirty=this.sortDirty,i.collection=null,i},"toJSON");this.removeFilters=g((i={})=>{this.rebuildPending=!1,this.resultset.reset(),this.resultdata=[],this.resultsdirty=!0,this.cachedresultset=null;let n=Object.isFrozen(this.filterPipeline),a=this.filterPipeline.length>0;this.filterPipeline=[],n&&Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,i.queueSortPhase===!0&&this.queueSortPhase(),a&&this.emit("filter")},"removeFilters");this.applySort=g(i=>(this.sortFunction=i,this.sortCriteria=null,this.sortCriteriaSimple=null,this.queueSortPhase(),this.emit("sort"),this),"applySort");this.applySimpleSort=g((i,n)=>(this.sortCriteriaSimple={propname:i,options:n||!1},this.collection.disableFreeze||pe(this.sortCriteriaSimple),this.sortCriteria=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this),"applySimpleSort");this.applySortCriteria=g(i=>(this.sortCriteria=i,this.collection.disableFreeze||pe(this.sortCriteria),this.sortCriteriaSimple=null,this.sortFunction=null,this.queueSortPhase(),this.emit("sort"),this),"applySortCriteria");this.startTransaction=g(()=>(this.cachedresultset=this.resultset.copy(),this),"startTransaction");this.commit=g(()=>(this.cachedresultset=null,this),"commit");this.rollback=g(()=>(this.resultset=this.cachedresultset,this.options.persistent&&(this.resultdata=this.resultset.data(),this.emit("rebuild",this)),this),"rollback");this._indexOfFilterWithId=g(i=>{if(typeof i=="string"||typeof i=="number"){for(let n=0,a=this.filterPipeline.length;n<a;n+=1)if(i===this.filterPipeline[n].uid)return n}return-1},"_indexOfFilterWithId");this._addFilter=g(i=>{let n=Object.isFrozen(this.filterPipeline);n&&(this.filterPipeline=this.filterPipeline.slice()),this.collection.disableFreeze||pe(i),this.filterPipeline.push(i),n&&Object.freeze(this.filterPipeline),this.resultset[i.type](i.val)},"_addFilter");this.reapplyFilters=g(()=>{this.resultset.reset(),this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0);let i=this.filterPipeline,n=Object.isFrozen(i);this.filterPipeline=[];for(let a=0,f=i.length;a<f;a+=1)this._addFilter(i[a]);return n&&Object.freeze(this.filterPipeline),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this},"reapplyFilters");this.applyFilter=g(i=>{let n=this._indexOfFilterWithId(i.uid);if(n>=0){let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline[n]=i,a&&(Qe(i),Object.freeze(this.filterPipeline)),this.reapplyFilters()}return this.cachedresultset=null,this.options.persistent&&(this.resultdata=[],this.resultsdirty=!0),this._addFilter(i),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent(),this.emit("filter"),this},"applyFilter");this.applyFind=g((i,n)=>(this.applyFilter({type:"find",val:i,uid:n}),this),"applyFind");this.applyWhere=g((i,n)=>(this.applyFilter({type:"where",val:i,uid:n}),this),"applyWhere");this.removeFilter=g(i=>{let n=this._indexOfFilterWithId(i);if(n<0)throw new Error(`Dynamic view does not contain a filter with ID: ${i}`);let a=Object.isFrozen(this.filterPipeline);return a&&(this.filterPipeline=this.filterPipeline.slice()),this.filterPipeline.splice(n,1),a&&Object.freeze(this.filterPipeline),this.reapplyFilters(),this},"removeFilter");this.count=g(()=>(this.resultsdirty&&(this.resultdata=this.resultset.data()),this.resultset.count()),"count");this.queueRebuildEvent=g(()=>{if(this.rebuildPending)return;this.rebuildPending=!0;let i=this;setTimeout(()=>{i.rebuildPending&&(i.rebuildPending=!1,i.emit("rebuild",i))},this.options.minRebuildInterval)},"queueRebuildEvent");this.queueSortPhase=g(()=>{if(this.sortDirty)return;this.sortDirty=!0;let i=this;this.options.sortPriority==="active"?setTimeout(()=>{i.performSortPhase()},this.options.minRebuildInterval):this.queueRebuildEvent()},"queueSortPhase");this.performSortPhase=g(i=>{!this.sortDirty&&!this.resultsdirty||(i=i||{},this.sortDirty&&(this.sortFunction?this.resultset.sort(this.sortFunction):this.sortCriteria?this.resultset.compoundsort(this.sortCriteria):this.sortCriteriaSimple&&this.resultset.simplesort(this.sortCriteriaSimple.propname,this.sortCriteriaSimple.options),this.sortDirty=!1),this.options.persistent&&(this.resultdata=this.resultset.data(),this.resultsdirty=!1),i.suppressRebuildEvent||this.emit("rebuild",this))},"performSortPhase");this.evaluateDocument=g((i,n)=>{if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}let a=this.resultset.filteredrows,f=n?-1:a.indexOf(+i),h=a.length,y=new ue(this.collection);y.filteredrows=[i],y.filterInitialized=!0;let S;for(let A=0,N=this.filterPipeline.length;A<N;A++)S=this.filterPipeline[A],y[S.type](S.val);let C=y.filteredrows.length===0?-1:0;if(!(f===-1&&C===-1)){if(f===-1&&C!==-1){a.push(i),this.options.persistent&&this.resultdata.push(this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C===-1){f<h-1?(a.splice(f,1),this.options.persistent&&this.resultdata.splice(f,1)):(a.length=h-1,this.options.persistent&&(this.resultdata.length=h-1)),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}if(f!==-1&&C!==-1){this.options.persistent&&(this.resultdata[f]=this.collection.data[i]),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}}},"evaluateDocument");this.removeDocument=g(i=>{let n,a,f,h={},y={},S=[],C=this.resultset,A=this.resultset.filteredrows,N=A.length;if(!this.resultset.filterInitialized){this.options.persistent&&(this.resultdata=this.resultset.data()),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent();return}for(Array.isArray(i)||(i=[i]),f=i.length,a=0;a<f;a++)h[i[a]]=!0;for(n=0;n<N;n++)h[A[n]]&&(y[n]=!0);Object.keys(y).length>0&&(this.resultset.filteredrows=this.resultset.filteredrows.filter((T,j)=>!y[j]),this.options.persistent&&(this.resultdata=this.resultdata.filter((T,j)=>!y[j])),this.sortFunction||this.sortCriteria||this.sortCriteriaSimple?this.queueSortPhase():this.queueRebuildEvent());let L=g(T=>j=>j<C.filteredrows[T],"filt");for(N=C.filteredrows.length,n=0;n<N;n++)S=i.filter(L(n)),C.filteredrows[n]-=S.length},"removeDocument");this.mapReduce=g((i,n)=>n(this.data().map(i)),"mapReduce");this.collection=i,this.name=n,this.rebuildPending=!1,this.options=a||{},this.options.hasOwnProperty("persistent")||(this.options.persistent=!1),this.options.hasOwnProperty("sortPriority")||(this.options.sortPriority="passive"),this.options.hasOwnProperty("minRebuildInterval")||(this.options.minRebuildInterval=1),this.resultset=new ue(i),this.resultdata=[],this.resultsdirty=!1,this.cachedresultset=null,this.filterPipeline=[],this.collection.disableFreeze||Object.freeze(this.filterPipeline),this.sortFunction=null,this.sortCriteria=null,this.sortCriteriaSimple=null,this.sortDirty=!1,this.events={rebuild:[],filter:[],sort:[]}}data(i){return(this.sortDirty||this.resultsdirty)&&this.performSortPhase({suppressRebuildEvent:!0}),this.options.persistent?this.resultdata:this.resultset.data(i)}};g(Je,"DynamicView");function Qt(p){return p.indexOf(".")!==-1}g(Qt,"isDeepProperty");function Qr(p,l){return p+l}g(Qr,"add");function On(p,l){return p-l}g(On,"sub");function Xt(p){return p.reduce(Qr,0)/p.length}g(Xt,"average");function kn(p){let l=Xt(p),i=p.map(function(f){let h=f-l;return h*h}),n=Xt(i);return Math.sqrt(n)}g(kn,"standardDeviation");var Ee=class extends _e{constructor(i,n){super();this.stages={};this.commitLog=[];this.configureOptions=g((i={})=>{i.hasOwnProperty("adaptiveBinaryIndices")&&(this.adaptiveBinaryIndices=i.adaptiveBinaryIndices,this.adaptiveBinaryIndices&&this.ensureAllIndexes())},"configureOptions");this.count=g(i=>i?this.chain().find(i).filteredrows.length:this.data.length,"count");this.startTransaction=g(()=>{if(this.transactional){this.cachedData=oe(this.data,this.cloneMethod),this.cachedIndex=this.idIndex,this.cachedBinaryIndex=this.binaryIndices,this.cachedDirtyIds=this.dirtyIds;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].startTransaction()}},"startTransaction");this.commit=g(()=>{if(this.transactional){this.cachedData=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedDirtyIds=null;for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].commit()}},"commit");this.rollback=g(()=>{if(this.transactional){this.cachedData!==null&&this.cachedIndex!==null&&(this.data=this.cachedData,this.idIndex=this.cachedIndex,this.binaryIndices=this.cachedBinaryIndex,this.dirtyIds=this.cachedDirtyIds);for(let i=0;i<this.DynamicViews.length;i++)this.DynamicViews[i].rollback()}},"rollback");this.mapReduce=g((i,n)=>n(this.data.map(i)),"mapReduce");this.lokiConsoleWrapper={log(i){},warn(i){},error(i){}};this.name=i,this.data=[],this.idIndex=null,this.binaryIndices={},this.constraints={unique:{},exact:{}},this.uniqueNames=[],this.transforms={},this.objType=i,this.dirty=!0,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null;let a=this;n=n||{},n.hasOwnProperty("unique")&&(Array.isArray(n.unique)||(n.unique=[n.unique]),n.unique.forEach(A=>{a.uniqueNames.push(A)})),n.hasOwnProperty("exact")&&n.exact.forEach(A=>{a.constraints.exact[A]=new $t(A)}),this.adaptiveBinaryIndices=n.hasOwnProperty("adaptiveBinaryIndices")?n.adaptiveBinaryIndices:!0,this.transactional=n.hasOwnProperty("transactional")?n.transactional:!1,this.cloneObjects=n.hasOwnProperty("clone")?n.clone:!1,this.cloneMethod=n.hasOwnProperty("cloneMethod")?n.cloneMethod:"parse-stringify",this.asyncListeners=n.hasOwnProperty("asyncListeners")?n.asyncListeners:!1,this.disableMeta=n.hasOwnProperty("disableMeta")?n.disableMeta:!1,this.disableChangesApi=n.hasOwnProperty("disableChangesApi")?n.disableChangesApi:!0,this.disableDeltaChangesApi=n.hasOwnProperty("disableDeltaChangesApi")?n.disableDeltaChangesApi:!0,this.disableChangesApi&&(this.disableDeltaChangesApi=!0),this.autoupdate=n.hasOwnProperty("autoupdate")?n.autoupdate:!1,this.serializableIndices=n.hasOwnProperty("serializableIndices")?n.serializableIndices:!0,this.disableFreeze=n.hasOwnProperty("disableFreeze")?n.disableFreeze:!0,this.ttl={age:null,ttlInterval:null,daemon:null},this.setTTL(n.ttl||-1,n.ttlInterval),this.maxId=0,this.DynamicViews=[],this.events={insert:[],update:[],"pre-insert":[],"pre-update":[],close:[],flushbuffer:[],error:[],delete:[],warning:[]},this.changes=[],this.dirtyIds=[];let f=[];if(n&&n.indices)if(Object.prototype.toString.call(n.indices)==="[object Array]")f=n.indices;else if(typeof n.indices=="string")f=[n.indices];else throw new TypeError("Indices needs to be a string or an array of strings");for(let A=0;A<f.length;A++)this.ensureIndex(f[A]);function h(A){let N=new Set;N.add||(N.add=function(L){return this.includes(L)||this.push(L),this}),A.forEach(({object:L})=>{N.add(L)}),N.forEach(L=>{if(!ze.call(L,"$loki"))return a.removeAutoUpdateObserver(L);try{a.update(L)}catch(T){console.log(T)}})}g(h,"observerCallback"),this.observerCallback=h;function y(A,N){return N?S(N,A):JSON.parse(JSON.stringify(A))}g(y,"getChangeDelta"),this.getChangeDelta=y;function S(A,N){let L=N!==null&&typeof N=="object"?Object.keys(N):null;if(L&&L.length&&!["string","boolean","number"].includes(typeof N)){let T={};for(let j=0;j<L.length;j++){let M=L[j];if(N.hasOwnProperty(M))if(!A.hasOwnProperty(M)||a.uniqueNames.includes(M)||M=="$loki"||M=="meta")T[M]=N[M];else{let H=S(A[M],N[M]);typeof H!="undefined"&&(T[M]=H)}}return Object.keys(T).length===0?void 0:T}else return A===N?void 0:N}g(S,"getObjectDelta"),this.getObjectDelta=S;function C(){a.changes=[]}g(C,"flushChanges"),this.getChanges=()=>a.changes,this.flushChanges=C,this.setChangesApi=A=>{a.disableChangesApi=!A,A||(a.disableDeltaChangesApi=!1)},this.on("delete",g(function(N){a.disableChangesApi||a.createChange(a.name,"R",N)},"deleteCallback")),this.on("warning",A=>{a.lokiConsoleWrapper.warn(A)}),C()}createChange(i,n,a,f){this.changes.push({name:i,operation:n,obj:n=="U"&&!this.disableDeltaChangesApi?this.getChangeDelta(a,f):JSON.parse(JSON.stringify(a))})}insertMeta(i){let n,a;if(!(this.disableMeta||!i)){if(Array.isArray(i)){for(n=i.length,a=0;a<n;a++)i[a].hasOwnProperty("meta")||(i[a].meta={}),i[a].meta.created=new Date().getTime(),i[a].meta.revision=0;return}i.meta||(i.meta={}),i.meta.created=new Date().getTime(),i.meta.revision=0}}updateMeta(i){return this.disableMeta||!i||(this.disableFreeze||(i=Ge(i),i.meta=Ge(i.meta)),i.meta.updated=new Date().getTime(),i.meta.revision+=1),i}createInsertChange(i){this.createChange(this.name,"I",i)}createUpdateChange(i,n){this.createChange(this.name,"U",i,n)}insertMetaWithChange(i){this.insertMeta(i),this.createInsertChange(i)}updateMetaWithChange(i,n){return i=this.updateMeta(i),this.createUpdateChange(i,n),i}addAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.observe(i,this.observerCallback,["add","update","delete","reconfigure","setPrototype"])}removeAutoUpdateObserver(i){!this.autoupdate||typeof Object.observe!="function"||Object.unobserve(i,this.observerCallback)}addTransform(i,n){if(this.transforms.hasOwnProperty(i))throw new Error("a transform by that name already exists");this.transforms[i]=n}getTransform(i){return this.transforms[i]}setTransform(i,n){this.transforms[i]=n}removeTransform(i){delete this.transforms[i]}byExample(i){let n,a,f=[];for(n in i)i.hasOwnProperty(n)&&f.push((a={},a[n]=i[n],a));return{$and:f}}findObject(i){return this.findOne(this.byExample(i))}findObjects(i){return this.find(this.byExample(i))}ttlDaemonFuncGen(){let i=this,n=this.ttl.age;return g(function(){let f=Date.now();i.chain().where(g(function(S){let C=S.meta.updated||S.meta.created,A=f-C;return n<A},"daemonFilter")).remove()},"ttlDaemon")}setTTL(i,n){i<0?clearInterval(this.ttl.daemon):(this.ttl.age=i,this.ttl.ttlInterval=n,this.ttl.daemon=setInterval(this.ttlDaemonFuncGen(),n))}prepareFullDocIndex(){let i=this.data.length,n=new Array(i);for(let a=0;a<i;a+=1)n[a]=a;return n}ensureIndex(i,n){if(typeof n=="undefined"&&(n=!1),i==null)throw new Error("Attempting to set index without an associated property");if(this.binaryIndices[i]&&!n&&!this.binaryIndices[i].dirty||this.adaptiveBinaryIndices===!0&&this.binaryIndices.hasOwnProperty(i)&&!n)return;let a={name:i,dirty:!0,values:this.prepareFullDocIndex()};this.binaryIndices[i]=a;let f=((h,y)=>{let S,C,A=~h.indexOf(".")?h.split("."):!1;return(N,L)=>{if(A?(S=_.getIn(y[N],A,!0),C=_.getIn(y[L],A,!0)):(S=y[N][h],C=y[L][h]),S!==C){if(K.lt(S,C,!1))return-1;if(K.gt(S,C,!1))return 1}return 0}})(i,this.data);a.values.sort(f),a.dirty=!1,this.dirty=!0}checkAllIndexes(i){let n,a=this.binaryIndices,f=[],h;for(n in a)ze.call(a,n)&&(h=this.checkIndex(n,i),h||f.push(n));return f}checkIndex(i,n={}){n.randomSamplingFactor&&n.randomSampling!==!1&&(n.randomSampling=!0),n.randomSamplingFactor=n.randomSamplingFactor||.1,(n.randomSamplingFactor<0||n.randomSamplingFactor>1)&&(n.randomSamplingFactor=.1);let a=!0,f,h,y;if(!this.binaryIndices.hasOwnProperty(i))throw new Error(`called checkIndex on property without an index: ${i}`);this.adaptiveBinaryIndices||this.ensureIndex(i);let S=this.binaryIndices[i].values,C=S.length;if(C!==this.data.length)return n.repair&&this.ensureIndex(i,!0),!1;if(C===0)return!0;let A=i.includes(".");if(C===1)a=S[0]===0;else if(n.randomSampling){if(we.$lte(_.getIn(this.data[S[0]],i,A),_.getIn(this.data[S[1]],i,A))||(a=!1),we.$lte(_.getIn(this.data[S[C-2]],i,A),_.getIn(this.data[S[C-1]],i,A))||(a=!1),a){for(h=Math.floor((C-1)*n.randomSamplingFactor),f=0;f<h-1;f++)if(y=Math.floor(Math.random()*(C-1)),!we.$lte(_.getIn(this.data[S[y]],i,A),_.getIn(this.data[S[y+1]],i,A))){a=!1;break}}}else for(f=0;f<C-1;f++)if(!we.$lte(_.getIn(this.data[S[f]],i,A),_.getIn(this.data[S[f+1]],i,A))){a=!1;break}return!a&&n.repair&&this.ensureIndex(i,!0),a}getBinaryIndexValues(i){let n,a=this.binaryIndices[i].values,f=[];for(n=0;n<a.length;n++)f.push(_.getIn(this.data[a[n]],i,!0));return f}getUniqueIndex(i,n){let a=this.constraints.unique[i];return!a&&n?this.ensureUniqueIndex(i):a}ensureUniqueIndex(i){let n=this.constraints.unique[i];return n||this.uniqueNames.includes(i)||this.uniqueNames.push(i),this.constraints.unique[i]=n=new ut(i),this.data.forEach(a=>{n.set(a)}),n}ensureAllIndexes(i){let n,a=this.binaryIndices;for(n in a)ze.call(a,n)&&this.ensureIndex(n,i)}flagBinaryIndexesDirty(){let i,n=this.binaryIndices;for(i in n)ze.call(n,i)&&(n[i].dirty=!0)}flagBinaryIndexDirty(i){this.binaryIndices[i]&&(this.binaryIndices[i].dirty=!0)}ensureId(){if(this.idIndex)return;let i=this.data,n=0,a=i.length,f=new Array(a);for(n;n<a;n++)f[n]=i[n].$loki;this.idIndex=f}ensureIdAsync(i){this.async(function(){this.ensureId()},i)}addDynamicView(i,n){let a=new Je(this,i,n);return this.DynamicViews.push(a),a}removeDynamicView(i){this.DynamicViews=this.DynamicViews.filter(n=>n.name!==i)}getDynamicView(i){for(let n=0;n<this.DynamicViews.length;n++)if(this.DynamicViews[n].name===i)return this.DynamicViews[n];return null}findAndUpdate(i,n){typeof i=="function"?this.updateWhere(i,n):this.chain().find(i).update(n)}findAndRemove(i){this.chain().find(i).remove()}insert(i,n){if(!Array.isArray(i))return this.insertOne(i);let a,f=[],h=n&&!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0;h&&(this.adaptiveBinaryIndices=!1);try{this.emit("pre-insert",i);for(let y=0,S=i.length;y<S;y++){if(a=this.insertOne(i[y],!0),!a)return;f.push(a)}}finally{h&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return this.emit("insert",f),f=this.cloneObjects?oe(f,this.cloneMethod):f,f.length===1?f[0]:f}insertOne(i,n){let a=null;if(typeof i!="object"?a=new TypeError("Document needs to be an object"):i===null&&(a=new TypeError("Object cannot be null")),a!==null)throw this.emit("error",a),a;let f=this.cloneObjects?oe(i,this.cloneMethod):i;if(this.disableFreeze||(f=Ge(f)),this.disableMeta||(typeof f.meta=="undefined"?f.meta={revision:0,created:0}:this.disableFreeze||(f.meta=Ge(f.meta))),n||this.emit("pre-insert",f),!this.add(f))return;this.disableChangesApi?this.insertMeta(f):this.insertMetaWithChange(f),this.disableFreeze||pe(f);let h=this.cloneObjects?oe(f,this.cloneMethod):f;return n||this.emit("insert",h),this.addAutoUpdateObserver(h),h}clear(i){let n=this;i=i||{},this.data=[],this.idIndex=null,this.cachedIndex=null,this.cachedBinaryIndex=null,this.cachedData=null,this.maxId=0,this.DynamicViews=[],this.dirty=!0,this.constraints={unique:{},exact:{}},i.removeIndices===!0?(this.binaryIndices={},this.uniqueNames=[]):Object.keys(this.binaryIndices).forEach(f=>{n.binaryIndices[f].dirty=!1,n.binaryIndices[f].values=[]})}update(i){let n,a,f;if(Array.isArray(i)){f=i.length,n=!this.cloneObjects&&this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,n&&(this.adaptiveBinaryIndices=!1);try{for(a=0;a<f;a+=1)this.update(i[a])}finally{n&&(this.ensureAllIndexes(),this.adaptiveBinaryIndices=!0)}return}if(!ze.call(i,"$loki"))throw new Error("Trying to update unsynced document. Please save the document first by using insert() or addMany()");try{this.startTransaction();let h=this.get(i.$loki,!0),y,S=this;if(!h)throw new Error("Trying to update a document not in collection.");let C=h[0],A=h[1];y=this.cloneObjects||!this.disableDeltaChangesApi&&this.disableFreeze?oe(i,this.cloneMethod):i,this.emit("pre-update",i),this.uniqueNames.forEach(T=>{S.getUniqueIndex(T,!0).update(C,y)}),this.data[A]=y,y!==i&&this.addAutoUpdateObserver(i);for(let T=0;T<this.DynamicViews.length;T++)this.DynamicViews[T].evaluateDocument(A,!1);let N;if(this.adaptiveBinaryIndices){let T=this.binaryIndices;for(N in T)this.adaptiveBinaryIndexUpdate(A,N)}else this.flagBinaryIndexesDirty();this.idIndex[A]=y.$loki,this.isIncremental&&this.dirtyIds.push(y.$loki),this.commit(),this.dirty=!0,this.disableChangesApi?y=this.updateMeta(y):y=this.updateMetaWithChange(y,C),this.disableFreeze||pe(y);let L;return this.cloneObjects?L=oe(y,this.cloneMethod):L=y,this.emit("update",L),L}catch(h){throw this.rollback(),this.lokiConsoleWrapper.error(h.message),this.emit("error",h),h}}add(i){if(typeof i!="object")throw new TypeError("Object being added needs to be an object");if(typeof i.$loki!="undefined")throw new Error("Document is already in collection, please use update()");try{this.startTransaction(),this.maxId++,isNaN(this.maxId)&&(this.maxId=this.data[this.data.length-1].$loki+1);let f=this.maxId;i.$loki=f,this.disableMeta||(i.meta.version=0);for(var n=0,a=this.uniqueNames.length;n<a;n++)this.getUniqueIndex(this.uniqueNames[n],!0).set(i);this.idIndex&&this.idIndex.push(f),this.isIncremental&&this.dirtyIds.push(f),this.data.push(i);let h=this.data.length-1,y=this.DynamicViews.length;for(n=0;n<y;n++)this.DynamicViews[n].evaluateDocument(h,!0);if(this.adaptiveBinaryIndices){let S=this.binaryIndices;for(let C in S)this.adaptiveBinaryIndexInsert(h,C)}else this.flagBinaryIndexesDirty();return this.commit(),this.dirty=!0,this.cloneObjects?oe(i,this.cloneMethod):i}catch(f){throw this.rollback(),this.lokiConsoleWrapper.error(f.message),this.emit("error",f),f}}updateWhere(i,n){let a=this.where(i),f=0,h;try{for(f;f<a.length;f++)h=n(a[f]),this.update(h)}catch(y){this.rollback(),this.lokiConsoleWrapper.error(y.message)}}removeWhere(i){let n;typeof i=="function"?(n=this.data.filter(i),this.remove(n)):this.chain().find(i).remove()}removeDataOnly(){this.remove(this.data.slice())}removeBatchByPositions(i){let n=i.length,a={},f,h,y,S=Object.keys(this.binaryIndices).length,C=Object.keys(this.constraints.unique).length,A=this.adaptiveBinaryIndices&&Object.keys(this.binaryIndices).length>0,N,L=this;try{for(this.startTransaction(),this.ensureId(),y=0;y<n;y++)a[this.idIndex[i[y]]]=!0;if(f=this.DynamicViews.length,f>0||S>0||C>0){if(f>0)for(h=0;h<f;h++)this.DynamicViews[h].removeDocument(i);if(this.adaptiveBinaryIndices&&!A){let T,j=this.binaryIndices;for(T in j)this.adaptiveBinaryIndexRemove(i,T)}else this.flagBinaryIndexesDirty();C&&this.uniqueNames.forEach(T=>{let j=L.getUniqueIndex(T);if(j)for(y=0;y<n;y++)N=L.data[i[y]],N[T]!==null&&N[T]!==void 0&&j.remove(N[T])})}if(!this.disableChangesApi||this.events.delete.length>1)for(y=0;y<n;y++)this.emit("delete",this.data[i[y]]);if(this.data=this.data.filter(({$loki:T})=>!a[T]),this.isIncremental)for(y=0;y<n;y++)this.dirtyIds.push(this.idIndex[i[y]]);this.idIndex=this.idIndex.filter(T=>!a[T]),this.adaptiveBinaryIndices&&A&&(this.adaptiveBinaryIndices=!1,this.ensureAllIndexes(!0),this.adaptiveBinaryIndices=!0),this.commit(),this.dirty=!0}catch(T){return this.rollback(),A&&(this.adaptiveBinaryIndices=!0),this.lokiConsoleWrapper.error(T.message),this.emit("error",T),null}}removeBatch(i){let n=i.length,a=this.data.length,f,h={},y=[];for(f=0;f<a;f++)h[this.data[f].$loki]=f;for(f=0;f<n;f++)typeof i[f]=="object"?y.push(h[i[f].$loki]):y.push(h[i[f]]);this.removeBatchByPositions(y)}remove(i){if(typeof i=="number"&&(i=this.get(i)),typeof i!="object")throw new Error("Parameter is not an object");if(Array.isArray(i)){this.removeBatch(i);return}if(!ze.call(i,"$loki"))throw new Error("Object is not a document stored in the collection");try{this.startTransaction();let n=this.get(i.$loki,!0),a=n[1],f=this;this.uniqueNames.forEach(h=>{if(i[h]!==null&&typeof i[h]!="undefined"){let y=f.getUniqueIndex(h);y&&y.remove(i[h])}});for(let h=0;h<this.DynamicViews.length;h++)this.DynamicViews[h].removeDocument(a);if(this.adaptiveBinaryIndices){let h,y=this.binaryIndices;for(h in y)this.adaptiveBinaryIndexRemove(a,h)}else this.flagBinaryIndexesDirty();return this.data.splice(a,1),this.removeAutoUpdateObserver(i),this.idIndex.splice(a,1),this.isIncremental&&this.dirtyIds.push(i.$loki),this.commit(),this.dirty=!0,this.emit("delete",n[0]),this.disableFreeze||(i=Ge(i)),delete i.$loki,delete i.meta,this.disableFreeze||Qe(i),i}catch(n){return this.rollback(),this.lokiConsoleWrapper.error(n.message),this.emit("error",n),null}}get(i,n){this.idIndex||this.ensureId();let a=n||!1,f=this.idIndex,h=f.length-1,y=0,S=y+h>>1;if(i=typeof i=="number"?i:parseInt(i,10),isNaN(i))throw new TypeError("Passed id is not an integer");for(;f[y]<f[h];)S=y+h>>1,f[S]<i?y=S+1:h=S;return h===y&&f[y]===i?a?[this.data[y],y]:this.data[y]:null}getBinaryIndexPosition(i,n){let a=_.getIn(this.data[i],n,!0),f=this.binaryIndices[n].values,h=this.calculateRange("$eq",n,a);if(h[0]===0&&h[1]===-1)return null;let y=h[0],S=h[1];for(let C=y;C<=S;C++)if(f[C]===i)return C;return null}adaptiveBinaryIndexInsert(i,n){let a=n.includes("."),f=this.binaryIndices[n].values,h=_.getIn(this.data[i],n,a);this.serializableIndices===!0&&h instanceof Date&&(this.data[i][n]=h.getTime(),h=_.getIn(this.data[i],n));let y=f.length===0?0:this.calculateRangeStart(n,h,!0,a);this.binaryIndices[n].values.splice(y,0,i)}adaptiveBinaryIndexUpdate(i,n){let a,f=this.binaryIndices[n].values,h=f.length;for(a=0;a<h&&f[a]!==i;a++);this.binaryIndices[n].values.splice(a,1),this.adaptiveBinaryIndexInsert(i,n)}adaptiveBinaryIndexRemove(i,n,a){let f=this.binaryIndices[n],h,y,S,C,A={},N,L;if(Array.isArray(i))if(C=i.length,C===1)i=i[0];else{for(S=0;S<C;S++)A[i[S]]=!0;if(f.values=f.values.filter(M=>!A[M]),a===!0)return;let j=i.slice();for(j.sort((M,H)=>M-H),h=f.values.length,y=0;y<h;y++){for(N=f.values[y],L=0,S=0;S<C&&N>j[S];S++)L++;f.values[y]-=L}return}let T=this.getBinaryIndexPosition(i,n);if(T===null)return null;if(f.values.splice(T,1),a!==!0)for(h=f.values.length,y=0;y<h;y++)f.values[y]>i&&f.values[y]--}calculateRangeStart(i,n,a,f){let h=this.data,y=this.binaryIndices[i].values,S=0,C=y.length-1,A=0;if(y.length===0)return-1;for(;S<C;)A=S+C>>1,K.lt(_.getIn(h[y[A]],i,f),n,!1)?S=A+1:C=A;let N=S;return K.aeq(n,_.getIn(h[y[N]],i,f))?N:K.lt(n,_.getIn(h[y[N]],i,f),!1)?a?N:N-1:a?N+1:N}calculateRangeEnd(i,n,a){let f=this.data,h=this.binaryIndices[i].values,y=0,S=h.length-1,C=0;if(h.length===0)return-1;for(;y<S;)C=y+S>>1,K.lt(n,_.getIn(f[h[C]],i,a),!1)?S=C:y=C+1;let A=S;return K.aeq(n,_.getIn(f[h[A]],i,a))?A:K.gt(n,_.getIn(f[h[A]],i,a),!1)?A+1:K.aeq(n,_.getIn(f[h[A-1]],i,a))?A-1:A}calculateRange(i,n,a){let f=this.data,h=this.binaryIndices[n].values,y=0,S=h.length-1,C,A,N,L;if(f.length===0)return[0,-1];let T=n.includes("."),j=_.getIn(f[h[y]],n,T),M=_.getIn(f[h[S]],n,T);switch(i){case"$eq":case"$aeq":if(K.lt(a,j,!1)||K.gt(a,M,!1))return[0,-1];break;case"$dteq":if(K.lt(a,j,!1)||K.gt(a,M,!1))return[0,-1];break;case"$gt":if(K.gt(a,M,!0))return[0,-1];if(K.gt(j,a,!1))return[y,S];break;case"$gte":if(K.gt(a,M,!1))return[0,-1];if(K.gt(j,a,!0))return[y,S];break;case"$lt":if(K.lt(a,j,!0))return[0,-1];if(K.lt(M,a,!1))return[y,S];break;case"$lte":if(K.lt(a,j,!1))return[0,-1];if(K.lt(M,a,!0))return[y,S];break;case"$between":return K.gt(a[0],M,!1)?[0,-1]:K.lt(a[1],j,!1)?[0,-1]:(C=this.calculateRangeStart(n,a[0],!1,T),N=this.calculateRangeEnd(n,a[1],T),C<0&&C++,N>S&&N--,K.gt(_.getIn(f[h[C]],n,T),a[0],!0)||C++,K.lt(_.getIn(f[h[N]],n,T),a[1],!0)||N--,N<C?[0,-1]:[C,N]);case"$in":{let H=[],Ce=[];for(let Se=0,Q=a.length;Se<Q;Se++){let ge=this.calculateRange("$eq",n,a[Se]);for(let Ie=ge[0];Ie<=ge[1];Ie++)H[Ie]===void 0&&(H[Ie]=!0,Ce.push(Ie))}return Ce}}switch(i){case"$eq":case"$aeq":case"$dteq":case"$gte":case"$lt":C=this.calculateRangeStart(n,a,!1,T),A=_.getIn(f[h[C]],n,T);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":case"$lte":case"$gt":N=this.calculateRangeEnd(n,a,T),L=_.getIn(f[h[N]],n,T);break;default:break}switch(i){case"$eq":case"$aeq":case"$dteq":return K.aeq(A,a)?[C,N]:[0,-1];case"$gt":return K.aeq(_.getIn(f[h[N]],n,T),a)?[N+1,S]:[N,S];case"$gte":return K.aeq(_.getIn(f[h[C]],n,T),a)?[C,S]:[C+1,S];case"$lt":return K.aeq(_.getIn(f[h[C]],n,T),a)?[y,C-1]:[y,C];case"$lte":return K.aeq(_.getIn(f[h[N]],n,T),a)?[y,N]:[y,N-1];default:return[0,f.length-1]}}by(i,n){let a;if(n===void 0)return a=this,h=>a.by(i,h);let f=this.getUniqueIndex(i,!0).get(n);return this.cloneObjects?oe(f,this.cloneMethod):f}findOne(i={}){let n=this.chain().find(i,!0).data();return Array.isArray(n)&&n.length===0?null:this.cloneObjects?oe(n[0],this.cloneMethod):n[0]}chain(i,n){let a=new ue(this);return typeof i=="undefined"?a:a.transform(i,n)}find(i){return this.chain().find(i).data()}findOneUnindexed(i,n){let a=this.data.length,f;for(;a--;)if(_.getIn(this.data[a],i,!0)===n)return f=this.data[a],f;return null}async(i,n){setTimeout(()=>{if(typeof i=="function")i(),n();else throw new TypeError("Argument passed for async execution is not a function")},0)}where(i){return this.chain().where(i).data()}eqJoin(i,n,a,f,h){return new ue(this).eqJoin(i,n,a,f,h)}getStage(i){return this.stages[i]||(this.stages[i]={}),this.stages[i]}stage(i,n){let a=JSON.parse(JSON.stringify(n));return this.getStage(i)[n.$loki]=a,a}commitStage(i,n){let a=this.getStage(i),f,h=new Date().getTime();for(f in a)this.update(a[f]),this.commitLog.push({timestamp:h,message:n,data:JSON.parse(JSON.stringify(a[f]))});this.stages[i]={}}extract(i){let n=0,a=this.data.length,f=Qt(i),h=[];for(n;n<a;n+=1)h.push(Ze(this.data[n],i,f));return h}max(i){return Math.max.apply(null,this.extract(i))}min(i){return Math.min.apply(null,this.extract(i))}maxRecord(i){let n=0,a=this.data.length,f=Qt(i),h={index:0,value:void 0},y;for(n;n<a;n+=1)y!==void 0?y<Ze(this.data[n],i,f)&&(y=Ze(this.data[n],i,f),h.index=this.data[n].$loki):(y=Ze(this.data[n],i,f),h.index=this.data[n].$loki);return h.value=y,h}minRecord(i){let n=0,a=this.data.length,f=Qt(i),h={index:0,value:void 0},y;for(n;n<a;n+=1)y!==void 0?y>Ze(this.data[n],i,f)&&(y=Ze(this.data[n],i,f),h.index=this.data[n].$loki):(y=Ze(this.data[n],i,f),h.index=this.data[n].$loki);return h.value=y,h}extractNumerical(i){return this.extract(i).map(An).filter(Number).filter(n=>!isNaN(n))}avg(i){return Xt(this.extractNumerical(i))}stdDev(i){return kn(this.extractNumerical(i))}mode(i){let n={};this.extract(i).forEach(S=>{n[S]?n[S]+=1:n[S]=1});let f,h,y;for(h in n)f?f<n[h]&&(y=h):(y=h,f=n[h]);return y}median(i){let n=this.extractNumerical(i);n.sort(On);let a=Math.floor(n.length/2);return n.length%2?n[a]:(n[a-1]+n[a])/2}};g(Ee,"Collection");function Ti(p,l,i){for(var n=0,a=p.length,f,h;n<a;){if(h=n+a>>1,f=i.apply(null,[l,p[h]]),f===0)return{found:!0,index:h};f<0?a=h:n=h+1}return{found:!1,index:a}}g(Ti,"binarySearch");function Pi(p){return function(l,i){return Ti(l,i,p)}}g(Pi,"BSonSort");function Ei(){}g(Ei,"KeyValueStore");Ei.prototype={keys:[],values:[],sort(p,l){return p<l?-1:p>l?1:0},setSort(p){this.bs=Pi(p)},bs(){return Pi(this.sort)},set(p,l){let i=this.bs(this.keys,p);i.found?this.values[i.index]=l:(this.keys.splice(i.index,0,p),this.values.splice(i.index,0,l))},get(p){return this.values[Ti(this.keys,p,this.sort).index]}};function Gt(){try{return window&&window.localStorage!==void 0&&window.localStorage!==null}catch(p){return!1}}g(Gt,"localStorageAvailable");var ft=class{exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){Gt()?i(localStorage.getItem(l)):i(new Error("localStorage is not available"))}saveDatabase(l,i,n){Gt()?(localStorage.setItem(l,i),n(null)):n(new Error("localStorage is not available"))}deleteDatabase(l,i){Gt()?(localStorage.removeItem(l),i(null)):i(new Error("localStorage is not available"))}};g(ft,"LokiLocalStorageAdapter");var wt=class{constructor(l){this.hashStore={},this.options=l||{},this.options.hasOwnProperty("asyncResponses")||(this.options.asyncResponses=!1),this.options.hasOwnProperty("asyncTimeout")||(this.options.asyncTimeout=50)}exportDatabase(l,i,n){throw new Error("Method not implemented.")}loadDatabase(l,i){let n=this;this.options.asyncResponses?setTimeout(()=>{n.hashStore.hasOwnProperty(l)?i(n.hashStore[l].value):i(null)},this.options.asyncTimeout):this.hashStore.hasOwnProperty(l)?i(this.hashStore[l].value):i(null)}saveDatabase(l,i,n){let a=this,f;this.options.asyncResponses?setTimeout(()=>{f=a.hashStore.hasOwnProperty(l)?a.hashStore[l].savecount:0,a.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n()},this.options.asyncTimeout):(f=this.hashStore.hasOwnProperty(l)?this.hashStore[l].savecount:0,this.hashStore[l]={savecount:f+1,lastsave:new Date,value:i},n())}deleteDatabase(l,i){this.hashStore.hasOwnProperty(l)&&delete this.hashStore[l],typeof i=="function"&&i()}};g(wt,"LokiMemoryAdapter");function et(p,l){if(this.mode="reference",this.adapter=null,this.options=l||{},this.dbref=null,this.dbname="",this.pageIterator={},p){if(p.mode==="reference")throw new Error("LokiPartitioningAdapter cannot be instantiated with a reference mode adapter");this.adapter=p}else throw new Error("LokiPartitioningAdapter requires a (non-reference mode) adapter on construction");this.options.hasOwnProperty("paging")||(this.options.paging=!1),this.options.hasOwnProperty("pageSize")||(this.options.pageSize=25*1024*1024),this.options.hasOwnProperty("delimiter")||(this.options.delimiter=`$<
`)}g(et,"LokiPartitioningAdapter");et.prototype.loadDatabase=function(p,l){var i=this;this.dbname=p,this.dbref=new ie(p),this.adapter.loadDatabase(p,function(n){if(!n){l(n);return}typeof n!="string"&&l(new Error("LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()"));var a=JSON.parse(n);if(i.dbref.loadJSONObject(a),a=null,i.dbref.collections.length===0){l(i.dbref);return}i.pageIterator={collection:0,pageIndex:0},i.loadNextPartition(0,function(){l(i.dbref)})})};et.prototype.loadNextPartition=function(p,l){var i=this.dbname+"."+p,n=this;if(this.options.paging===!0){this.pageIterator.pageIndex=0,this.loadNextPage(l);return}this.adapter.loadDatabase(i,function(a){var f=n.dbref.deserializeCollection(a,{delimited:!0,collectionIndex:p});n.dbref.collections[p].data=f,++p<n.dbref.collections.length?n.loadNextPartition(p,l):l()})};et.prototype.loadNextPage=function(p){var l=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,i=this;this.adapter.loadDatabase(l,function(n){var a=n.split(i.options.delimiter);n="";var f=a.length,h,y=a[f-1]==="";for(y&&(a.pop(),f=a.length,a[f-1]===""&&f===1&&(a.pop(),f=a.length)),h=0;h<f;h++)i.dbref.collections[i.pageIterator.collection].data.push(JSON.parse(a[h])),a[h]=null;a=[],y?++i.pageIterator.collection<i.dbref.collections.length?i.loadNextPartition(i.pageIterator.collection,p):p():(i.pageIterator.pageIndex++,i.loadNextPage(p))})};et.prototype.exportDatabase=function(p,l,i){var n,a=l.collections.length;for(this.dbref=l,this.dbname=p,this.dirtyPartitions=[-1],n=0;n<a;n++)l.collections[n].dirty&&this.dirtyPartitions.push(n);this.saveNextPartition(function(f){i(f)})};et.prototype.saveNextPartition=function(p){var l=this,i=this.dirtyPartitions.shift(),n=this.dbname+(i===-1?"":"."+i);if(this.options.paging&&i!==-1){this.pageIterator={collection:i,docIndex:0,pageIndex:0},this.saveNextPage(function(f){l.dirtyPartitions.length===0?p(f):l.saveNextPartition(p)});return}var a=this.dbref.serializeDestructured({partitioned:!0,delimited:!0,partition:i});this.adapter.saveDatabase(n,a,function(f){if(f){p(f);return}l.dirtyPartitions.length===0?p(null):l.saveNextPartition(p)})};et.prototype.saveNextPage=function(p){var l=this,i=this.dbref.collections[this.pageIterator.collection],n=this.dbname+"."+this.pageIterator.collection+"."+this.pageIterator.pageIndex,a=0,f=i.data.length,h=this.options.delimiter.length,y="",S="",C=!1,A=!1,N=g(function(L){S="",L&&p(L),C?p(null):(l.pageIterator.pageIndex++,l.saveNextPage(p))},"pageSaveCallback");for(i.data.length===0&&(C=!0);;)if(C||(y=JSON.stringify(i.data[this.pageIterator.docIndex]),S+=y,a+=y.length,++this.pageIterator.docIndex>=f&&(C=!0)),a>=this.options.pageSize&&(A=!0),(!A||C)&&(S+=this.options.delimiter,a+=h),C||A){this.adapter.saveDatabase(n,S,N);return}};var ie=class extends _e{constructor(i,n){super();this.getIndexedAdapter=g(()=>{let i;return typeof Ci=="function"&&(i=(Tn(),_r(Gr))),i},"getIndexedAdapter");this.configureOptions=g((i,n)=>{let a={NODEJS:"fs",BROWSER:"localStorage",CORDOVA:"localStorage",MEMORY:"memory"},f={fs:ot,localStorage:ft,memory:wt};if(this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,typeof i!="undefined"){if(this.options=i,Object.hasOwn(this.options,"persistenceMethod")&&typeof f[i.persistenceMethod]=="function"&&(this.persistenceMethod=i.persistenceMethod,this.persistenceAdapter=new f[i.persistenceMethod]),Object.hasOwn(this.options,"adapter")&&(this.persistenceMethod="adapter",this.persistenceAdapter=i.adapter,this.options.adapter=null,this.isIncremental=this.persistenceAdapter.mode==="incremental"),i.autoload&&n){let h=this;setTimeout(()=>{h.loadDatabase(i,i.autoloadCallback)},1)}Object.hasOwn(this.options,"autosaveInterval")&&(this.autosaveDisable(),this.autosaveInterval=parseInt(this.options.autosaveInterval,10)),Object.hasOwn(this.options,"autosave")&&this.options.autosave&&(this.autosaveDisable(),this.autosave=!0,Object.hasOwn(this.options,"autosaveCallback")?this.autosaveEnable(i,i.autosaveCallback):this.autosaveEnable()),Object.hasOwn(this.options,"throttledSaves")&&(this.throttledSaves=this.options.throttledSaves)}Object.hasOwn(this.options,"serializationMethod")||(this.options.serializationMethod="normal"),Object.hasOwn(this.options,"destructureDelimiter")||(this.options.destructureDelimiter=`$<
`),this.persistenceAdapter===null&&(this.persistenceMethod=a[this.ENV],this.persistenceMethod&&(this.persistenceAdapter=new f[this.persistenceMethod]))},"configureOptions");this.copy=g(i=>{let n=new ie(this.filename,{env:"NA"}),a,f;if(i=i||{},n.loadJSONObject(this,{retainDirtyFlags:!0}),i.hasOwnProperty("removeNonSerializable")&&i.removeNonSerializable===!0)for(n.autosaveHandle=null,n.persistenceAdapter=null,a=n.collections.length,f=0;f<a;f++)n.collections[f].constraints=null,n.collections[f].ttl=null;return n},"copy");this.addCollection=g((i,n)=>{let a,f=this.collections.length;if(n&&n.disableMeta===!0){if(n.disableChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableChangesApi is passed as false");if(n.disableDeltaChangesApi===!1)throw new Error("disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false");if(typeof n.ttl=="number"&&n.ttl>0)throw new Error("disableMeta option cannot be passed as true when ttl is enabled")}for(a=0;a<f;a+=1)if(this.collections[a].name===i)return this.collections[a];let h=new Ee(i,n);return h.isIncremental=this.isIncremental,this.collections.push(h),this.verbose&&(h.lokiConsoleWrapper=console),h},"addCollection");this.loadCollection=g(i=>{if(!i.name)throw new Error("Collection must have a name property to be loaded");this.collections.push(i)},"loadCollection");this.getCollection=g(i=>{let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i)return this.collections[n];return this.emit("warning",`collection ${i} not found`),null},"getCollection");this.renameCollection=g((i,n)=>{let a=this.getCollection(i);return a&&(a.name=n),a},"renameCollection");this.listCollections=g(()=>{let i=this.collections.length,n=[];for(;i--;)n.push({name:this.collections[i].name,type:this.collections[i].objType,count:this.collections[i].data.length});return n},"listCollections");this.removeCollection=g(i=>{let n,a=this.collections.length;for(n=0;n<a;n+=1)if(this.collections[n].name===i){let f=new Ee(i,{}),h=this.collections[n];for(let y in h)h.hasOwnProperty(y)&&f.hasOwnProperty(y)&&(h[y]=f[y]);this.collections.splice(n,1);return}},"removeCollection");this.getName=g(()=>this.name,"getName");this.serializeReplacer=g((i,n)=>{switch(i){case"autosaveHandle":case"persistenceAdapter":case"constraints":case"ttl":return null;case"throttledSavePending":case"throttledCallbacks":return;case"lokiConsoleWrapper":return null;default:return n}},"serializeReplacer");this.serialize=g((i={})=>{switch(i.hasOwnProperty("serializationMethod")||(i.serializationMethod=this.options.serializationMethod),i.serializationMethod){case"normal":return JSON.stringify(this,this.serializeReplacer);case"pretty":return JSON.stringify(this,this.serializeReplacer,2);case"destructured":return this.serializeDestructured();default:return JSON.stringify(this,this.serializeReplacer)}},"serialize");this.serializeDestructured=g(i=>{let n,a,f,h,y=[],S;if(i=i||{},i.hasOwnProperty("partitioned")||(i.partitioned=!1),i.hasOwnProperty("delimited")||(i.delimited=!0),i.hasOwnProperty("delimiter")||(i.delimiter=this.options.destructureDelimiter),i.partitioned===!0&&i.hasOwnProperty("partition")&&i.partition>=0)return this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:i.partition});for(S=new ie(this.filename),S.loadJSONObject(this),n=0;n<S.collections.length;n++)S.collections[n].data=[];if(i.partitioned===!0&&i.partition===-1)return S.serialize({serializationMethod:"normal"});for(y.push(S.serialize({serializationMethod:"normal"})),S=null,n=0;n<this.collections.length;n++)if(f=this.serializeCollection({delimited:i.delimited,delimiter:i.delimiter,collectionIndex:n}),i.partitioned===!1&&i.delimited===!1){if(!Array.isArray(f))throw new Error("a nondelimited, non partitioned collection serialization did not return an expected array");for(h=f.length,a=0;a<h;a++)y.push(f[a]),f[a]=null;y.push("")}else y.push(f);return i.partitioned?(i.delimited,y):i.delimited?(y.push(""),y.join(i.delimiter)):(y.push(""),y)},"serializeDestructured");this.serializeCollection=g(i=>{let n,a=[];if(i=i||{},i.hasOwnProperty("delimited")||(i.delimited=!0),!i.hasOwnProperty("collectionIndex"))throw new Error("serializeCollection called without 'collectionIndex' option");let f=this.collections[i.collectionIndex].data.length;for(a=[],n=0;n<f;n++)a.push(JSON.stringify(this.collections[i.collectionIndex].data[n]));return i.delimited?(a.push(""),a.join(i.delimiter)):a},"serializeCollection");this.deserializeDestructured=g((i,n)=>{let a=[],f,h,y=0,S,C=1,A=!1,N,L;if(n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.partitioned){if(n.hasOwnProperty("partition"))return n.partition===-1?(h=JSON.parse(i[0]),h):this.deserializeCollection(i[n.partition+1],n);for(h=JSON.parse(i[0]),S=h.collections.length,y=0;y<S;y++)h.collections[y].data=this.deserializeCollection(i[y+1],n);return h}if(n.delimited){if(a=i.split(n.delimiter),i=null,f=a.length,f===0)return null}else a=i;for(h=JSON.parse(a[0]),S=h.collections.length,a[0]=null;!A;)N=a[C],a[C]===""?++y>S&&(A=!0):(L=JSON.parse(a[C]),h.collections[y].data.push(L)),a[C++]=null;return h},"deserializeDestructured");this.deserializeCollection=g((i,n)=>{let a=[],f;n=n||{},n.hasOwnProperty("partitioned")||(n.partitioned=!1),n.hasOwnProperty("delimited")||(n.delimited=!0),n.hasOwnProperty("delimiter")||(n.delimiter=this.options.destructureDelimiter),n.delimited?(a=i.split(n.delimiter),a.pop()):a=i;let h=a.length;for(f=0;f<h;f++)a[f]=JSON.parse(a[f]);return a},"deserializeCollection");this.loadJSON=g((i,n)=>{let a;if(i.length===0)a={};else switch(this.options.serializationMethod){case"normal":case"pretty":a=JSON.parse(i);break;case"destructured":a=this.deserializeDestructured(i);break;default:a=JSON.parse(i);break}this.loadJSONObject(a,n)},"loadJSON");this.loadJSONObject=g((i,n)=>{let a=0,f=i.collections?i.collections.length:0,h,y,S,C,A,N;this.name=i.name,i.hasOwnProperty("throttledSaves")&&n&&!n.hasOwnProperty("throttledSaves")&&(this.throttledSaves=i.throttledSaves),this.collections=[];function L({name:T}){let j=n[T],M;return j.proto?(M=j.inflate||_.copyProperties,H=>{let Ce=new j.proto;return M(H,Ce),Ce}):j.inflate}for(g(L,"makeLoader"),a;a<f;a+=1){if(h=i.collections[a],y=this.addCollection(h.name,{disableChangesApi:h.disableChangesApi,disableDeltaChangesApi:h.disableDeltaChangesApi,disableMeta:h.disableMeta,disableFreeze:h.hasOwnProperty("disableFreeze")?h.disableFreeze:!0}),y.adaptiveBinaryIndices=h.hasOwnProperty("adaptiveBinaryIndices")?h.adaptiveBinaryIndices===!0:!1,y.transactional=h.transactional,y.asyncListeners=h.asyncListeners,y.cloneObjects=h.cloneObjects,y.cloneMethod=h.cloneMethod||"parse-stringify",y.autoupdate=h.autoupdate,y.changes=h.changes,y.dirtyIds=h.dirtyIds||[],n&&n.retainDirtyFlags===!0?y.dirty=h.dirty:y.dirty=!1,h.getData){if(n&&n.hasOwnProperty(h.name)||!y.disableFreeze||y.autoupdate)throw new Error(`this collection cannot be loaded lazily: ${h.name}`);y.getData=h.getData,Object.defineProperty(y,"data",{get(){let T=this.getData();return this.getData=null,Object.defineProperty(this,"data",{value:T}),T}})}else if(S=h.data.length,C=0,n&&n.hasOwnProperty(h.name))for(A=L(h),C;C<S;C++)N=A(h.data[C]),y.data[C]=N,y.addAutoUpdateObserver(N),y.disableFreeze||pe(y.data[C]);else for(C;C<S;C++)y.data[C]=h.data[C],y.addAutoUpdateObserver(y.data[C]),y.disableFreeze||pe(y.data[C]);if(y.maxId=typeof h.maxId=="undefined"?0:h.maxId,typeof h.binaryIndices!="undefined"&&(y.binaryIndices=h.binaryIndices),typeof h.transforms!="undefined"&&(y.transforms=h.transforms),y.uniqueNames=[],h.hasOwnProperty("uniqueNames")&&(y.uniqueNames=h.uniqueNames),typeof h.DynamicViews!="undefined"){for(let T=0;T<h.DynamicViews.length;T++){let j=h.DynamicViews[T],M=y.addDynamicView(j.name,j.options);M.resultdata=j.resultdata,M.resultsdirty=j.resultsdirty,M.filterPipeline=j.filterPipeline,M.sortCriteriaSimple=j.sortCriteriaSimple,M.sortCriteria=j.sortCriteria,M.sortFunction=null,M.sortDirty=j.sortDirty,y.disableFreeze||(pe(M.filterPipeline),M.sortCriteriaSimple?pe(M.sortCriteriaSimple):M.sortCriteria&&pe(M.sortCriteria)),M.resultset.filteredrows=j.resultset.filteredrows,M.resultset.filterInitialized=j.resultset.filterInitialized,M.rematerialize({removeWhereFilters:!0})}i.databaseVersion<1.5&&(y.ensureAllIndexes(!0),y.dirty=!0)}}},"loadJSONObject");this.close=g(i=>{this.autosave&&(this.autosaveDisable(),this.autosaveDirty()&&(this.saveDatabase(i),i=void 0)),i&&this.on("close",i),this.emit("close")},"close");this.generateChangesNotification=g(i=>{function n({name:h}){return h}g(n,"getCollName");let a=[],f=i||this.collections.map(n);return this.collections.forEach(h=>{f.includes(n(h))&&(a=a.concat(h.getChanges()))}),a},"generateChangesNotification");this.serializeChanges=g(i=>JSON.stringify(this.generateChangesNotification(i)),"serializeChanges");this.deserializeChanges=g(i=>JSON.parse(i),"deserializeChanges");this.clearChanges=g(()=>{this.collections.forEach(i=>{i.flushChanges&&i.flushChanges()})},"clearChanges");this.throttledSaveDrain=g((i,n)=>{let a=this,f=new Date().getTime();if(this.throttledSaves||i(!0),n=n||{},n.hasOwnProperty("recursiveWait")||(n.recursiveWait=!0),n.hasOwnProperty("recursiveWaitLimit")||(n.recursiveWaitLimit=!1),n.hasOwnProperty("recursiveWaitLimitDuration")||(n.recursiveWaitLimitDuration=2e3),n.hasOwnProperty("started")||(n.started=new Date().getTime()),this.throttledSaves&&this.throttledSavePending)if(n.recursiveWait)this.throttledCallbacks.push(()=>{if(a.throttledSavePending){if(n.recursiveWaitLimit&&f-n.started>n.recursiveWaitLimitDuration){i(!1);return}a.throttledSaveDrain(i,n);return}else{i(!0);return}});else{this.throttledCallbacks.push(i);return}else i(!0)},"throttledSaveDrain");this.loadDatabaseInternal=g((i,n)=>{let a=n||(h=>{if(h)throw h}),f=this;this.persistenceAdapter!==null?this.persistenceAdapter.loadDatabase(this.filename,g(function(y){if(typeof y=="string"){let S=!1;try{f.loadJSON(y,i||{}),S=!0}catch(C){a(C)}S&&(a(null),f.emit("loaded",`database ${f.filename} loaded`))}else{if(!y){a(null),f.emit("loaded",`empty database ${f.filename} loaded`);return}if(y instanceof Error){a(y);return}if(typeof y=="object"){f.loadJSONObject(y,i||{}),a(null),f.emit("loaded",`database ${f.filename} loaded`);return}a(`unexpected adapter response : ${y}`)}},"loadDatabaseCallback")):a(new Error("persistenceAdapter not configured"))},"loadDatabaseInternal");this.loadDatabase=g((i,n)=>{let a=this;if(!this.throttledSaves){this.loadDatabaseInternal(i,n);return}this.throttledSaveDrain(f=>{if(f){a.throttledSavePending=!0,a.loadDatabaseInternal(i,h=>{a.throttledCallbacks.length===0?a.throttledSavePending=!1:a.saveDatabase(),typeof n=="function"&&n(h)});return}else typeof n=="function"&&n(new Error("Unable to pause save throttling long enough to read database"))},i)},"loadDatabase");this.saveDatabaseInternal=g(i=>{let n=i||(f=>{if(f)throw f}),a=this;if(!this.persistenceAdapter){n(new Error("persistenceAdapter not configured"));return}if(this.persistenceAdapter.mode==="incremental"){let f;this.ignoreAutosave=!0,this.persistenceAdapter.saveDatabase(this.filename,g(function(){if(a.ignoreAutosave=!1,f){n(new Error("adapter error - getLokiCopy called more than once"));return}let y=a.copy({removeNonSerializable:!0});return f=a.collections.map(({dirty:S,dirtyIds:C})=>[S,C]),a.collections.forEach(S=>{S.dirty=!1,S.dirtyIds=[]}),y},"getLokiCopy"),g(function(y){a.ignoreAutosave=!1,y&&f&&a.collections.forEach((S,C)=>{let A=f[C];S.dirty=S.dirty||A[0],S.dirtyIds=S.dirtyIds.concat(A[1])}),n(y)},"exportDatabaseCallback"))}else this.persistenceAdapter.mode==="reference"&&typeof this.persistenceAdapter.exportDatabase=="function"?this.persistenceAdapter.exportDatabase(this.filename,this.copy({removeNonSerializable:!0}),g(function(h){a.autosaveClearFlags(),n(h)},"exportDatabaseCallback")):(this.autosaveClearFlags(),this.persistenceAdapter.saveDatabase(this.filename,this.serialize(),g(function(h){n(h)},"saveDatabasecallback")))},"saveDatabaseInternal");this.saveDatabase=g(i=>{if(!this.throttledSaves){this.saveDatabaseInternal(i);return}if(this.throttledSavePending){this.throttledCallbacks.push(i);return}let n=this.throttledCallbacks;this.throttledCallbacks=[],n.unshift(i),this.throttledSavePending=!0;let a=this;this.saveDatabaseInternal(f=>{a.throttledSavePending=!1,n.forEach(h=>{typeof h=="function"&&setTimeout(()=>{h(f)},1)}),a.throttledCallbacks.length>0&&a.saveDatabase()})},"saveDatabase");this.deleteDatabase=g((i,n)=>{let a=n||(f=>{if(f)throw f});typeof i=="function"&&!n&&(a=i),this.persistenceAdapter!==null?this.persistenceAdapter.deleteDatabase(this.filename,g(function(h){a(h)},"deleteDatabaseCallback")):a(new Error("persistenceAdapter not configured"))},"deleteDatabase");this.autosaveDirty=g(()=>{for(let i=0;i<this.collections.length;i++)if(this.collections[i].dirty)return!0;return!1},"autosaveDirty");this.autosaveClearFlags=g(()=>{for(let i=0;i<this.collections.length;i++)this.collections[i].dirty=!1},"autosaveClearFlags");this.autosaveEnable=g((i,n)=>{this.autosave=!0;let a=5e3,f=this;typeof this.autosaveInterval!="undefined"&&this.autosaveInterval!==null&&(a=this.autosaveInterval),this.autosaveHandle=setInterval(g(function(){f.autosaveDirty()&&!f.ignoreAutosave&&f.saveDatabase(n)},"autosaveHandleInterval"),a)},"autosaveEnable");this.autosaveDisable=g(()=>{typeof this.autosaveHandle!="undefined"&&this.autosaveHandle!==null&&(clearInterval(this.autosaveHandle),this.autosaveHandle=null)},"autosaveDisable");this.filename=i||"loki.db",this.collections=[],this.databaseVersion=1.5,this.engineVersion=1.5,this.autosave=!1,this.autosaveInterval=5e3,this.autosaveHandle=null,this.throttledSaves=!0,this.options={},this.persistenceMethod=null,this.persistenceAdapter=null,this.throttledSavePending=!1,this.throttledCallbacks=[],this.verbose=n&&Object.hasOwn(n,"verbose")?n.verbose:!1,this.events={init:[],loaded:[],flushChanges:[],close:[],changes:[],warning:[]};let a=g(()=>typeof global!="undefined"&&(global.android||global.NSObject)?"NATIVESCRIPT":typeof window=="undefined"||typeof global!="undefined"&&global.window&&typeof process!="undefined"?"NODEJS":typeof document!="undefined"?!document.URL.includes("http://")&&!document.URL.includes("https://")?"CORDOVA":"BROWSER":"CORDOVA","getENV");n&&Object.hasOwn(n,"env")?this.ENV=n.env:this.ENV=a(),this.ENV==="undefined"&&(this.ENV="NODEJS"),this.configureOptions(n,!0),this.on("init",this.clearChanges)}};g(ie,"Loki");ie.prototype.toJson=ie.prototype.serialize;ie.prototype.save=ie.prototype.saveDatabase;ie.deepFreeze=pe;ie.freeze=Qe;ie.unFreeze=Ge;ie.LokiOps=we;ie.Collection=Ee;ie.DynamicView=Je;ie.Resultset=ue;ie.KeyValueStore=Ei;ie.LokiMemoryAdapter=wt;ie.LokiPartitioningAdapter=et;ie.LokiLocalStorageAdapter=ft;ie.LokiFsAdapter=ot;ie.persistenceAdapters={fs:ot,localStorage:ft};ie.aeq=Ii;ie.lt=Di;ie.gt=Oi;ie.Comparators=K;var ze=Object.prototype.hasOwnProperty;function Ai(p,l){if(p==="$regex")Array.isArray(l)?l=new RegExp(l[0],l[1]):l instanceof RegExp||(l=new RegExp(l));else if(typeof l=="object")for(var i in l)(i==="$regex"||typeof l[i]=="object")&&(l[i]=Ai(i,l[i]));return l}g(Ai,"precompileQuery");function An(p){return parseInt(p,10)}g(An,"parseBase10");function Ze(p,l,i){if(i===!1)return p[l];for(var n=l.split("."),a=p;n.length>0;)a=a[n.shift()];return a}g(Ze,"deepProperty");typeof window!="undefined"&&(window.loki=ie);var _a=ie;})();
/*! Bundled license information:

jquery/dist/jquery.js:
  (*!
   * jQuery JavaScript Library v3.7.0
   * https://jquery.com/
   *
   * Copyright OpenJS Foundation and other contributors
   * Released under the MIT license
   * https://jquery.org/license
   *
   * Date: 2023-05-11T18:29Z
   *)
*/
//# sourceMappingURL=lokijs.js.map
